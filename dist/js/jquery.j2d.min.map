{"version":3,"sources":["jquery.j2d.js","utils/DeviceUtil.js","utils/MathUtil.js","utils/Vector2d.js","utils/Vector2dInteger.js"],"names":["global","factory","define","amd","exports","module","require","mod","jquery","jqueryJ2d","this","_jquery","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_jquery2","_typeof","Symbol","constructor","defaults","id","undefined","io","deltaTime","pause","ready","frameLimit","smoothing","webGL","J2D","initPlugin","window","j2dPlugin","pluginInit","fn","j2d","options","filter","each","extend","guid","replace","c","r","Math","random","v","toString","attr","tabIndex","data","addClass","click","focus","$array","push","length","isFullScreen","document","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement","on","e","fullScreen","scene","resizeToFullPage","toggle","resume","current","removeClass","device","resize","FrameManager","pulse","Vector2dInteger","_Vector2dInteger","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","DeviceUtil","width","parseInt","screen","height","innerWidth","innerHeight","Vector2d","MathUtil","number","min","max","opacity","omitZero","floor","degree","PI","x","y","array","iterator","_Vector2d2","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_Vector2d3","_Vector2d","getPrototypeOf"],"mappings":"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","file":"jquery.j2d.js","sourcesContent":["/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\nimport $ from \"jquery\";\r\n\r\nvar defaults = {\r\n    id: undefined,\r\n    io: undefined,\r\n    deltaTime: 0,\r\n    pause: false,\r\n    ready: false,\r\n\r\n    frameLimit: 60,\r\n    smoothing: true,\r\n\r\n    webGL: false\r\n};\r\n\r\nexport default class J2D {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nJ2D.initPlugin = function () {\r\n    if (window.j2dPlugin !== undefined) return null;\r\n    window.j2dPlugin = {pluginInit: true};\r\n\r\n    $.fn.j2d = function (options) {\r\n        this.filter('div.canvas:not([guid])').each(function () {\r\n            var options = $.extend(true, {}, defaults, options);\r\n\r\n            var guid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n                return v.toString(16);\r\n            });\r\n            $(this).attr('guid', guid);\r\n            var id = $(this).attr('id');\r\n            if (typeof id === typeof undefined || id === false) {\r\n                $(this).attr('id', guid);\r\n            }\r\n            var tabIndex = $(this).attr('tabindex');\r\n            if (typeof tabIndex === typeof undefined || tabIndex === false) {\r\n                $(this).attr('tabindex', '-1');\r\n            }\r\n            $(this).data('j2d', new J2D(guid, $(this), options)).addClass('j2d');\r\n            $(this).click().focus();\r\n        });\r\n\r\n        var $array = [];\r\n        this.filter('div.canvas[guid]').each(function () {\r\n            $array.push($(this).data('j2d'));\r\n        });\r\n\r\n        if (1 === $array.length) {\r\n            return $(this).data('j2d');\r\n        } else {\r\n            return $array;\r\n        }\r\n    };\r\n\r\n    var isFullScreen = function () {\r\n        return !!(document.webkitFullscreenElement\r\n            || document.webkitCurrentFullScreenElement\r\n            || document.mozFullScreenElement\r\n            || document.msFullscreenElement\r\n        );\r\n    };\r\n\r\n    $(document).on('fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange', function (e) {\r\n        var fullScreen = isFullScreen();\r\n        if (!fullScreen) {\r\n            $('div.canvas[guid].active').data('j2d').scene.resizeToFullPage(fullScreen);\r\n            $('div.canvas[guid]:not(.active)').toggle(!fullScreen);\r\n        }\r\n    });\r\n\r\n    $(document).on('click', 'div.canvas[guid].pause', function () {\r\n        $(this).data('j2d').resume();\r\n\r\n        var current = this;\r\n        $('div.canvas[guid]:not(.pause-disable):not(:focus)').each(function () {\r\n            if (current !== this) $(this).removeClass('active').data('j2d').pause();\r\n        });\r\n        $('div.canvas[guid].active.pause-disable:not(:focus)').each(function () {\r\n            if (current !== this) $(this).removeClass('active');\r\n        });\r\n    });\r\n\r\n    $(document).on('click touch mouseenter', 'div.canvas[guid]:not(.resume-by-click):not(:focus)', function (e) {\r\n        $(this).addClass('active').focus().data('j2d').resume();\r\n\r\n        var current = this;\r\n        $('div.canvas[guid]:not(.pause-disable):not(:focus)').each(function () {\r\n            if (current !== this) $(this).removeClass('active').data('j2d').pause();\r\n        });\r\n        $('div.canvas[guid].active.pause-disable:not(:focus)').each(function () {\r\n            if (current !== this) $(this).removeClass('active');\r\n        });\r\n    });\r\n\r\n    $(window).on('focus', function () {\r\n        $('div.canvas[guid].active').each(function () {\r\n            $(this).data('j2d').resume();\r\n        });\r\n    }).on('blur', function () {\r\n        $('div.canvas[guid]').each(function () {\r\n            $(this).data('j2d').pause();\r\n        });\r\n    });\r\n\r\n    $(window).on('resize', function () {\r\n        $('div.canvas[guid]').each(function () {\r\n            $(this).data('j2d').device.resize();\r\n        });\r\n        var fullScreen = isFullScreen();\r\n        if (fullScreen) {\r\n            $('div.canvas[guid].active').data('j2d').scene.resizeToFullPage(fullScreen);\r\n        }\r\n    });\r\n\r\n    FrameManager.pulse();\r\n};\r\n\r\nwindow.J2D = (window.J2D === undefined) ? J2D : undefined;\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\nimport $ from \"jquery\";\r\nimport Vector2dInteger from \"Vector2dInteger\";\r\n\r\n/**\r\n * Class utility for get system browser window size\r\n *\r\n * @implements {IDeviceUtil}\r\n */\r\nexport default class DeviceUtil {\r\n    constructor() {\r\n        this.width = parseInt($(document).width()) < parseInt(screen.width) ? parseInt($(document).width()) : parseInt(screen.width);\r\n        this.height = parseInt($(document).height()) < parseInt(screen.height) ? parseInt($(document).height()) : parseInt(screen.height);\r\n    }\r\n\r\n    resize() {\r\n        this.width = window.innerWidth;\r\n        this.height = window.innerHeight;\r\n    }\r\n\r\n    getWidth() {\r\n        return this.width;\r\n    }\r\n\r\n    getHeight() {\r\n        return this.height;\r\n    }\r\n\r\n    getSize() {\r\n        return new Vector2d(this.width, this.height);\r\n    }\r\n}\r\n\r\nif (window.J2D === undefined) window.DeviceUtil = DeviceUtil;\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n/**\r\n * @implements {IMathUtil}\r\n */\r\nexport default class MathUtil {\r\n    static number2Integer(number) {\r\n        return number >> 0;\r\n    }\r\n\r\n    static randomColor(min, max, opacity) {\r\n        return 'rgba('\r\n            + MathUtil.random(min, max) + ', '\r\n            + MathUtil.random(min, max) + ', '\r\n            + MathUtil.random(min, max) + ', '\r\n            + opacity + ')';\r\n    }\r\n\r\n    static random(min, max, omitZero) {\r\n        var random = (Math.floor(Math.random() * (max - min + 1) + min));\r\n        return (omitZero && random == 0)\r\n            ? MathUtil.random(min, max, omitZero)\r\n            : random;\r\n    }\r\n\r\n    static degree2Radian(degree) {\r\n        return degree * (Math.PI / 180);\r\n    }\r\n}\r\n\r\nif (window.J2D === undefined) window.MathUtil = MathUtil;\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n/**\r\n * @implements {IVector2d}\r\n */\r\nexport default class Vector2d {\r\n    constructor(x, y) {\r\n        this.x = x + 0.0;\r\n        this.y = y + 0.0;\r\n    }\r\n\r\n    getX() {\r\n        return this.x;\r\n    }\r\n\r\n    getY() {\r\n        return this.y;\r\n    }\r\n\r\n    getCoordinates() {\r\n        return this;\r\n    }\r\n\r\n    toArray() {\r\n        return [this.x, this.y];\r\n    }\r\n\r\n    fromArray(array) {\r\n        this.x = array[0] + 0.0;\r\n        this.y = array[1] + 0.0;\r\n\r\n        return this;\r\n    }\r\n\r\n    toString() {\r\n        return \"(\" + this.x + \",\" + this.y + \")\";\r\n    }\r\n}\r\n\r\nif (window.J2D === undefined) window.Vector2d = Vector2d;\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\nimport Vector2d from \"Vector2d\";\r\n\r\n/**\r\n * @implements {IVector2dInteger}\r\n */\r\nexport default class Vector2dInteger extends Vector2d {\r\n    constructor(x, y) {\r\n        super(x >> 0, y >> 0);\r\n    }\r\n\r\n    fromArray(array) {\r\n        this.x = array[0] >> 0;\r\n        this.y = array[1] >> 0;\r\n\r\n        return this\r\n    }\r\n}\r\n\r\nif (window.J2D === undefined) window.Vector2dInteger = Vector2dInteger;\r\n"],"sourceRoot":"/source/"}