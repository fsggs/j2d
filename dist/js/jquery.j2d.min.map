{"version":3,"sources":["jquery.j2d.js","core/FrameManager.js","core/LayersManager.js","core/SceneManager.js","utils/ArrayMap.js","utils/DeviceUtil.js","utils/Exceptions.js","utils/MathUtil.js","utils/Vector2d.js","utils/Vector2dInteger.js"],"names":["root","factory","define","amd","module","exports","require","jQuery","window","global","$","defaults","id","undefined","io","deltaTime","pause","ready","frameLimit","smoothing","webGL","J2D","initPlugin","j2dPlugin","pluginInit","fn","j2d","options","this","filter","each","extend","guid","replace","c","r","Math","random","v","toString","attr","tabIndex","data","addClass","click","focus","$array","push","length","isFullScreen","document","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement","on","fullScreen","toggle","resume","current","removeClass","device","resize","instance","engineStack","dataStack","frameRun","breakAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","call","Date","now","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","FrameManager","prototype","start","name","engine","params","lastTime","sceneStartTime","sceneSkipTime","interval","add","pulse","stop","remove","runMainLoop","timestamp","frameManager","index","hasOwnProperty","update","clear","setDefaultFrameLimit","Init","instanceFrameManager","WebGL2D","LayersManager","WebGL_API","parent","list","getLayer","zIndex","layer","layerName","canvas","createElement","width","scene","height","enable","context","getContext","disableSmoothing","util","shadowColor","style","position","left","top","opacity","angle","visible","fillColor","onContext","fill","color","fillStyle","fillRect","setOpacity","getOpacity","setVisible","display","isVisible","setIndex","clearRect","clearNode","node","isLookScene","pos","x","viewport","y","size","save","restore","element","append","SceneManager","enableFullscreen","layers","i","async","setGameState","setActiveEngine","trigger","init","fullscreen","getElementById","requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","resizeToFullPage","originalWidth","originalHeight","css","originalMargin","scaleToFullScreen","toggleFullScreen","setViewPosition","ceil","setViewFocus","offset","getPosition","viewMove","heigth","cancelClear","vector","v2f","ArrayMap","args","Array","Object","create","constructor","equals","array","l","defineProperty","enumerable","contains","object","result","key","value","splice","Vector2dInteger","DeviceUtil","parseInt","screen","reCalculateSize","innerWidth","innerHeight","getWidth","getHeight","getSize","Exception","message","Error","RuntimeException","InvalidArgumentException","BadFunctionCallException","BadMethodCallException","LengthException","LogicException","OutOfBoundsException","OutOfRangeException","RangeException","UnexpectedValueException","MathUtil","number2Integer","number","isInteger","isFinite","floor","randomColor","min","max","omitZero","degree2Radian","degree","PI","radian2Degree","radian","Vector2d","getX","getY","getCoordinates","toArray","fromArray"],"mappings":"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","file":"jquery.j2d.js","sourcesContent":["/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('jquery.j2d', ['jquery'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        factory(root.jQuery);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function ($) {\r\n    \"use strict\";\r\n\r\n    var defaults = {\r\n        id: undefined,\r\n        io: undefined,\r\n        deltaTime: 0,\r\n        pause: false,\r\n        ready: false,\r\n\r\n        frameLimit: 60,\r\n        smoothing: true,\r\n\r\n        webGL: false\r\n    };\r\n\r\n    var J2D = function () {\r\n\r\n    };\r\n\r\n    J2D.initPlugin = function () {\r\n        if (window.j2dPlugin !== undefined) return null;\r\n        window.j2dPlugin = {pluginInit: true};\r\n\r\n        $.fn.j2d = function (options) {\r\n            this.filter('div.canvas:not([guid])').each(function () {\r\n                var options = $.extend(true, {}, defaults, options);\r\n\r\n                var guid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n                    return v.toString(16);\r\n                });\r\n                $(this).attr('guid', guid);\r\n                var id = $(this).attr('id');\r\n                if (typeof id === typeof undefined || id === false) {\r\n                    $(this).attr('id', guid);\r\n                }\r\n                var tabIndex = $(this).attr('tabindex');\r\n                if (typeof tabIndex === typeof undefined || tabIndex === false) {\r\n                    $(this).attr('tabindex', '-1');\r\n                }\r\n                $(this).data('j2d', new J2D(guid, $(this), options)).addClass('j2d');\r\n                $(this).click().focus();\r\n            });\r\n\r\n            var $array = [];\r\n            this.filter('div.canvas[guid]').each(function () {\r\n                $array.push($(this).data('j2d'));\r\n            });\r\n\r\n            if (1 === $array.length) {\r\n                return $(this).data('j2d');\r\n            } else {\r\n                return $array;\r\n            }\r\n        };\r\n\r\n        var isFullScreen = function () {\r\n            //noinspection JSUnresolvedVariable\r\n            return !!(document.webkitFullscreenElement\r\n                || document.webkitCurrentFullScreenElement\r\n                || document.mozFullScreenElement\r\n                || document.msFullscreenElement\r\n            );\r\n        };\r\n\r\n        $(document).on('fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange', function () {\r\n            var fullScreen = isFullScreen();\r\n            if (!fullScreen) {\r\n                // $('div.canvas[guid].active').data('j2d').scene.resizeToFullPage(fullScreen); TODO::\r\n                $('div.canvas[guid]:not(.active)').toggle(!fullScreen);\r\n            }\r\n        });\r\n\r\n        $(document).on('click', 'div.canvas[guid].pause', function () {\r\n            $(this).data('j2d').resume();\r\n\r\n            var current = this;\r\n            $('div.canvas[guid]:not(.pause-disable):not(:focus)').each(function () {\r\n                if (current !== this) $(this).removeClass('active').data('j2d').pause();\r\n            });\r\n            $('div.canvas[guid].active.pause-disable:not(:focus)').each(function () {\r\n                if (current !== this) $(this).removeClass('active');\r\n            });\r\n        });\r\n\r\n        $(document).on('click touch mouseenter', 'div.canvas[guid]:not(.resume-by-click):not(:focus)', function () {\r\n            $(this).addClass('active').focus().data('j2d').resume();\r\n\r\n            var current = this;\r\n            $('div.canvas[guid]:not(.pause-disable):not(:focus)').each(function () {\r\n                if (current !== this) $(this).removeClass('active').data('j2d').pause();\r\n            });\r\n            $('div.canvas[guid].active.pause-disable:not(:focus)').each(function () {\r\n                if (current !== this) $(this).removeClass('active');\r\n            });\r\n        });\r\n\r\n        $(window).on('focus', function () {\r\n            $('div.canvas[guid].active').each(function () {\r\n                $(this).data('j2d').resume();\r\n            });\r\n        }).on('blur', function () {\r\n            $('div.canvas[guid]').each(function () {\r\n                $(this).data('j2d').pause();\r\n            });\r\n        });\r\n\r\n        $(window).on('resize', function () {\r\n            $('div.canvas[guid]').each(function () {\r\n                $(this).data('j2d').device.resize();\r\n            });\r\n            var fullScreen = isFullScreen();\r\n            if (fullScreen) {\r\n                // $('div.canvas[guid].active').data('j2d').scene.resizeToFullPage(fullScreen); TODO::\r\n            }\r\n        });\r\n\r\n        //FrameManager.pulse();\r\n    };\r\n\r\n    global.J2D = (global.J2D === undefined) ? J2D : undefined;\r\n\r\n    return J2D;\r\n}));\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/FrameManager', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    var instance;\r\n    var engineStack = [], dataStack = [];\r\n\r\n    var options = {\r\n        frameLimit: 60,\r\n        frameRun: false,\r\n        breakAnimationFrame: false\r\n    };\r\n\r\n    var requestAnimationFrame = (function () {\r\n        return window.requestAnimationFrame ||\r\n            window.webkitRequestAnimationFrame ||\r\n            window.mozRequestAnimationFrame ||\r\n            window.oRequestAnimationFrame ||\r\n            window.msRequestAnimationFrame ||\r\n            function (callback) {\r\n                if (!options.breakAnimationFrame) {\r\n                    window.setTimeout(callback.call(callback, [\r\n                        Date.now() //TODO:: fix this\r\n                    ]), 1000.0 / options.frameLimit);\r\n                } else {\r\n                    options.breakAnimationFrame = false\r\n                }\r\n            };\r\n    })();\r\n\r\n    var cancelAnimationFrame = (function () {\r\n        options.breakAnimationFrame = true;\r\n\r\n        return window.cancelAnimationFrame ||\r\n            window.webkitCancelAnimationFrame ||\r\n            window.mozCancelAnimationFrame ||\r\n            window.oCancelAnimationFrame ||\r\n            window.msCancelAnimationFrame;\r\n    })();\r\n\r\n\r\n    var FrameManager = function () {\r\n    };\r\n\r\n    FrameManager.prototype.start = function (name, engine, params) {\r\n        var data = {\r\n            j2d: undefined,\r\n            frameLimit: options.frameLimit,\r\n            now: 0,\r\n            deltaTime: 0,\r\n            lastTime: 0,\r\n            sceneStartTime: 0,\r\n            sceneSkipTime: 0\r\n        };\r\n\r\n        if (params.frameLimit !== undefined && params.frameLimit <= options.frameLimit) data.frameLimit = params.frameLimit;\r\n\r\n        if (params.j2d !== undefined) {\r\n            data.j2d = params.j2d;\r\n        } else {\r\n            throw 'j2d not transported to FrameManager.start(id, engine, {... j2d: j2d ...});';\r\n        }\r\n\r\n        data.interval = 1000.0 / data.frameLimit;\r\n        data.lastTime = Date.now();\r\n\r\n        engineStack.add(name, engine);\r\n        dataStack.add(name, data);\r\n        if (!options.frameRun) this.pulse();\r\n    };\r\n\r\n    FrameManager.prototype.stop = function (name) {\r\n        engineStack.remove(name);\r\n        dataStack.remove(name);\r\n    };\r\n\r\n    FrameManager.prototype.pulse = function () {\r\n        this.runMainLoop(Date.now());\r\n    };\r\n\r\n    FrameManager.prototype.runMainLoop = function (timestamp, frameManager) {\r\n        if (frameManager === undefined) frameManager = this;\r\n\r\n        if (engineStack.length <= 0 && options.frameRun) {\r\n            options.frameRun = false;\r\n            return cancelAnimationFrame(this.runMainLoop);\r\n        }\r\n        options.frameRun = true;\r\n\r\n        for (var index in engineStack) {\r\n            if (engineStack.hasOwnProperty(index) && 'function' === typeof engineStack[index]) {\r\n                var engine = engineStack[index];\r\n                var data = dataStack[index];\r\n\r\n                data.now = Date.now();\r\n                data.j2d.options.deltaTime = data.deltaTime = (data.now - data.lastTime) / 100.0;\r\n\r\n                if (data.j2d.options.io && !data.j2d.options.pause) data.j2d.options.io.update();\r\n                if ((data.deltaTime * 100.0) > data.interval) {\r\n                    data.lastTime = data.now - ((data.deltaTime * 100.0) % data.interval);\r\n\r\n                    if (!data.j2d.options.pause) {\r\n                        data.j2d.options.deltaTime = data.deltaTime;\r\n\r\n                        engine(timestamp, data);\r\n\r\n                    }\r\n                }\r\n                if (data.j2d.options.io && !data.j2d.options.pause) data.j2d.options.io.clear();\r\n            }\r\n        }\r\n\r\n        requestAnimationFrame(function (timestamp) {\r\n            frameManager.runMainLoop(timestamp, frameManager);\r\n        });\r\n    };\r\n\r\n    FrameManager.prototype.setDefaultFrameLimit = function (frameLimit) {\r\n        if (frameLimit <= 60 && frameLimit > 0) {\r\n            options.frameLimit = frameLimit\r\n        }\r\n    };\r\n\r\n    /* Singleton */\r\n    FrameManager.Init = function () {\r\n        if (window.J2D !== undefined) {\r\n            return window.instanceFrameManager || (window.instanceFrameManager = new FrameManager());\r\n        } else {\r\n            return instance || (instance = new FrameManager());\r\n        }\r\n    };\r\n\r\n    if (window.J2D === undefined) window.FrameManager = FrameManager;\r\n\r\n    return FrameManager;\r\n}));\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/LayersManager', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    var WebGL2D;\r\n\r\n    var LayersManager = function (j2d, WebGL_API) {\r\n        this.parent = j2d;\r\n        this.list = {};\r\n\r\n        WebGL2D = WebGL_API;\r\n    };\r\n\r\n    LayersManager.prototype.getLayer = function (id) {\r\n        return this.list[id];\r\n    };\r\n    LayersManager.prototype.add = function (id, zIndex) {\r\n        if (this.list[id]) {\r\n            return false;\r\n        }\r\n\r\n        var layer = {};\r\n        var j2d = this.parent;\r\n\r\n        layer.layerName = id;\r\n        layer.canvas = document.createElement('canvas');\r\n        layer.canvas.width = j2d.scene.width;\r\n        layer.canvas.height = j2d.scene.height;\r\n        layer.width = j2d.scene.width;\r\n        layer.height = j2d.scene.height;\r\n        if (j2d.options.webGL) {\r\n            WebGL2D.enable(layer.canvas);\r\n            layer.context = layer.canvas.getContext('WebGL-2d');\r\n        } else {\r\n            layer.context = layer.canvas.getContext('2d');\r\n        }\r\n        if (!j2d.options.smoothing) {\r\n            layer.smoothing = false;\r\n            layer.disableSmoothing = j2d.util.disableSmoothing;\r\n            j2d.util.disableSmoothing(layer.context);\r\n        } else layer.smoothing = true;\r\n        layer.context.shadowColor = 'rgba(0,0,0,0)';\r\n        layer.canvas.style.zIndex = 1000 + zIndex;\r\n        layer.canvas.style.position = 'absolute';\r\n        layer.canvas.style.left = '0';\r\n        layer.canvas.style.top = '0';\r\n        layer.canvas.id = id;\r\n        layer.opacity = 1;\r\n        layer.angle = 0;\r\n        layer.visible = 1;\r\n\r\n        layer.fillColor = false;\r\n\r\n        layer.onContext = function (callback) {\r\n            callback(this.context);\r\n        };\r\n\r\n        layer.fill = function (color) {\r\n            this.fillColor = color;\r\n            this.context.fillStyle = color;\r\n            this.context.fillRect(0, 0, this.width, this.height);\r\n        };\r\n\r\n        layer.setOpacity = function (opacity) {\r\n            this.canvas.style.opacity = opacity;\r\n            this.opacity = opacity;\r\n        };\r\n\r\n        layer.getOpacity = function () {\r\n            return this.opacity;\r\n        };\r\n\r\n        layer.setVisible = function (visible) {\r\n            if (visible) {\r\n                this.canvas.style.display = 'block';\r\n                this.visible = true;\r\n            } else {\r\n                this.canvas.style.display = 'none';\r\n                this.visible = false;\r\n            }\r\n        };\r\n\r\n        layer.isVisible = function () {\r\n            return this.visible;\r\n        };\r\n\r\n        layer.setIndex = function (zIndex) {\r\n            this.canvas.style.zIndex = 1000 + zIndex;\r\n        };\r\n\r\n        layer.clear = function () {\r\n            this.context.clearRect(0, 0, this.width, this.height);\r\n        };\r\n\r\n        layer.clearNode = function (node) {\r\n            if (node.isLookScene()) {\r\n                this.context.clearRect(node.pos.x - j2d.scene.viewport.x, node.pos.y - j2d.scene.viewport.y, node.size.x, node.size.y);\r\n            }\r\n        };\r\n\r\n        layer.clearRect = function (pos, size) {\r\n            this.context.clearRect(pos.x - j2d.scene.viewport.x, pos.y - j2d.scene.viewport.y, size.x, size.y);\r\n        };\r\n\r\n        layer.resize = function (width, height) {\r\n            this.canvas.width = width;\r\n            this.canvas.height = height;\r\n            this.width = width;\r\n            this.height = height;\r\n\r\n            if (this.fillColor) {\r\n                this.context.save();\r\n\r\n                this.context.fillStyle = this.fillColor;\r\n                this.context.fillRect(0, 0, this.width, this.height);\r\n\r\n                this.context.restore();\r\n            }\r\n            if (!this.smoothing) this.disableSmoothing(this.context);\r\n        };\r\n\r\n        this.list[id] = layer;\r\n\r\n        if (j2d.options.ready) {\r\n            j2d.element.append(this.list[id].canvas);\r\n        }\r\n\r\n        return layer;\r\n    };\r\n\r\n    if (global.J2D !== undefined) global.LayersManager = LayersManager;\r\n    return LayersManager;\r\n}));","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/SceneManager', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    var SceneManager = function (j2d) {\r\n        this.parent = j2d;\r\n        this.enableFullscreen = false;\r\n        this.layerName = 'sceneNode';\r\n        this.layers = (parent.layers) ? parent.layers : {};\r\n    };\r\n\r\n    SceneManager.prototype.resize = function (width, height) {\r\n        var j2d = this.parent;\r\n\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        for (var i in j2d.layers.list) {\r\n            if (j2d.layers.list.hasOwnProperty(i)) {\r\n                j2d.layers.list[i].resize(width, height);\r\n            }\r\n        }\r\n    };\r\n\r\n    SceneManager.prototype.async = function (callback, data) {\r\n        setTimeout(callback.call(callback, data), 0);\r\n    };\r\n\r\n    SceneManager.prototype.setGameState = function (engine) {\r\n        this.parent.setActiveEngine(engine);\r\n        this.parent.element.trigger('changedGameState');\r\n    };\r\n\r\n    SceneManager.prototype.start = function (engine, frameLimit) {\r\n        if (this.parent.options.io) {\r\n            this.parent.options.io.init();\r\n        }\r\n        this.parent.element.trigger('beforeStart');\r\n        this.parent.start(engine, frameLimit);\r\n        this.parent.element.trigger('afterStart');\r\n    };\r\n\r\n    SceneManager.prototype.fullScreen = function (fullscreen) {\r\n        var element = document.getElementById(this.parent.element.attr('id'));\r\n\r\n        if (undefined === element.requestFullscreen) {\r\n            element.requestFullscreen = element.webkitRequestFullscreen\r\n                || element.webkitRequestFullScreen\r\n                || element.mozRequestFullScreen\r\n                || element.msRequestFullscreen;\r\n        }\r\n\r\n        if (undefined === document.exitFullscreen) {\r\n            document.exitFullscreen = document.webkitExitFullscreen\r\n                || document.webkitCancelFullScreen\r\n                || document.mozCancelFullScreen\r\n                || document.msExitFullscreen;\r\n        }\r\n        if (fullscreen) {\r\n            element.requestFullscreen();\r\n        } else {\r\n            document.exitFullscreen();\r\n        }\r\n    };\r\n\r\n    SceneManager.prototype.resizeToFullPage = function (fullscreen) {\r\n        $('div.canvas[guid]:not(.active)').toggle(fullscreen);\r\n\r\n        var j2d = this.parent;\r\n        var scene = this;\r\n\r\n        if (fullscreen) {\r\n            scene.originalWidth = scene.width;\r\n            scene.originalHeight = scene.height;\r\n\r\n            scene.resize(j2d.device.width, j2d.device.height);\r\n            scene.enableFullscreen = true;\r\n\r\n            this.parent.element.width(j2d.device.width).height(j2d.device.height).css('margin', 0);\r\n        } else {\r\n            scene.resize(scene.originalWidth, scene.originalHeight);\r\n            scene.enableFullscreen = false;\r\n\r\n            this.parent.element.width(scene.originalWidth).height(scene.originalHeight).css('margin', scene.originalMargin);\r\n        }\r\n    };\r\n\r\n    SceneManager.prototype.scaleToFullScreen = function (fullscreen) {\r\n        $('div.canvas[guid]:not(.active)').toggle(fullscreen);\r\n\r\n        var layer, i;\r\n        if (fullscreen) {\r\n            for (i in this.parent.layers.list) {\r\n                if (this.parent.layers.list.hasOwnProperty(i)) {\r\n                    layer = this.parent.layers.list[i].canvas;\r\n                    layer.style.width = this.parent.device.width + 'px';\r\n                    layer.style.height = this.parent.device.height + 'px';\r\n                }\r\n            }\r\n            this.enableFullscreen = true;\r\n            this.parent.element.width(this.parent.device.width).height(this.parent.device.height).css('margin', 0);\r\n        } else {\r\n            for (i in this.parent.layers.list) {\r\n                if (this.parent.layers.list.hasOwnProperty(i)) {\r\n                    layer = this.parent.layers.list[i].canvas;\r\n                    layer.style.width = this.width + 'px';\r\n                    layer.style.height = this.height + 'px';\r\n                }\r\n            }\r\n            this.enableFullscreen = false;\r\n            this.parent.element.width(this.width).height(this.height).css('margin', this.originalMargin);\r\n        }\r\n    };\r\n\r\n    SceneManager.prototype.toggleFullScreen = function (j2d, data) {\r\n        if (data === undefined) {\r\n            data = {fullscreen: undefined};\r\n        }\r\n        if (!j2d.scene.enableFullscreen || data.fullscreen) {\r\n            j2d.scene.fullScreen(true);\r\n        } else {\r\n            j2d.scene.fullScreen(false);\r\n        }\r\n    };\r\n\r\n    // Устанавливает позицию для камеры\r\n    SceneManager.prototype.setViewPosition = function (position) {\r\n        this.parent.scene.viewport.x = position.x - Math.ceil(this.parent.scene.width / 2);\r\n        this.parent.scene.viewport.y = position.y - Math.ceil(this.parent.scene.height / 2);\r\n    };\r\n\r\n    //! Движение \"камеры\" вслед за объектом\r\n    SceneManager.prototype.setViewFocus = function (id, offset) {\r\n        this.parent.scene.viewport.x = id.getPosition().x - Math.ceil(this.parent.scene.width / 2) + (offset ? offset.x : 0);\r\n        this.parent.scene.viewport.y = id.getPosition().y - Math.ceil(this.parent.scene.height / 2) + (offset ? offset.y : 0);\r\n    };\r\n\r\n    //! Движение \"камеры\"\r\n    SceneManager.prototype.viewMove = function (position) {\r\n        this.parent.scene.viewport.x += position.x;\r\n        this.parent.scene.viewport.y += position.y;\r\n    };\r\n\r\n    //! Очистка отрисованного предыдущего кадра сцены\r\n    SceneManager.prototype.clear = function () {\r\n        this.getLayer().clear();\r\n    };\r\n\r\n    SceneManager.prototype.getLayer = function () {\r\n        return this.parent.layers.getLayer('sceneNode');\r\n    };\r\n\r\n    // инициализация сцены\r\n    SceneManager.prototype.init = function (width, heigth) {\r\n        var j2d = this.parent;\r\n        j2d.element.trigger('beforeInit');\r\n\r\n        this.width = this.originalWidth = width;\r\n        this.height = this.originalHeight = heigth;\r\n        this.originalMargin = j2d.element.css('margin');\r\n\r\n        this.parent.element.width(width).height(heigth);\r\n\r\n        j2d.layers.add('sceneNode', 0);\r\n\r\n        this.context = j2d.layers.getLayer('sceneNode').context;\r\n        this.canvas = j2d.layers.getLayer('sceneNode').canvas;\r\n        this.visible = true;\r\n\r\n        this.cancelClear = false;\r\n\r\n        /* Вид \"камеры\" */\r\n        this.viewport = j2d.vector.v2f(0, 0);\r\n\r\n        j2d.element.trigger('afterInit');\r\n\r\n        $(window).ready(function () {\r\n            for (var i in j2d.layers.list) {\r\n                if (j2d.layers.list.hasOwnProperty(i)) {\r\n                    j2d.element.append(j2d.layers.getLayer(i).canvas);\r\n                }\r\n            }\r\n            j2d.options.ready = true;\r\n            j2d.element.trigger('ready');\r\n        });\r\n    };\r\n\r\n    if (global.J2D !== undefined) global.SceneManager = SceneManager;\r\n    return SceneManager;\r\n}));","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/ArrayMap', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    var ArrayMap = function (args) {\r\n        Array.call(this, args);\r\n    };\r\n\r\n    ArrayMap.prototype = Object.create(Array.prototype);\r\n    ArrayMap.prototype.constructor = ArrayMap;\r\n\r\n    /**\r\n     * @param {ArrayMap} array\r\n     * @returns {boolean}\r\n     */\r\n    ArrayMap.prototype.equals = function (array) {\r\n        if (!array)\r\n            return false;\r\n\r\n        if (this.length != array.length)\r\n            return false;\r\n\r\n        for (var i = 0, l = this.length; i < l; i++) {\r\n            if (this[i] instanceof Array && array[i] instanceof Array) {\r\n                if (!this[i].equals(array[i]))\r\n                    return false;\r\n            }\r\n            else if (this[i] != array[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'equals', {enumerable: false});\r\n\r\n    /**\r\n     * @param {string|Object} object\r\n     * @returns {boolean}\r\n     */\r\n    ArrayMap.prototype.contains = function (object) {\r\n        var i = this.length;\r\n        while (i--) {\r\n            if (this[i] === object) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'contains', {enumerable: false});\r\n\r\n    /**\r\n     * @param {Function} callback\r\n     * @returns {boolean}\r\n     */\r\n    ArrayMap.prototype.each = function (callback) {\r\n        if (!callback) return false;\r\n        var result = false;\r\n        for (var i = 0; i < this.length; i++) {\r\n            if ((result = callback(this[i], i)) == false) {\r\n                return result;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'each', {enumerable: false});\r\n\r\n    /**\r\n     * @param {string|Object} key\r\n     * @param {*} value\r\n     * @returns {ArrayMap}\r\n     */\r\n    ArrayMap.prototype.add = function (key, value) {\r\n        if (this.contains(key))\r\n            this[key] = value;\r\n        else {\r\n            this.push(key);\r\n            this[key] = value;\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'add', {enumerable: false});\r\n\r\n    /**\r\n     * @param {string|Object} key\r\n     * @returns {ArrayMap}\r\n     */\r\n    ArrayMap.prototype.remove = function (key) {\r\n        for (var i = 0; i < this.length; ++i) {\r\n            if (this[i] == key) {\r\n                this.splice(i, 1);\r\n                delete this[key];\r\n                return this;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'remove', {enumerable: false});\r\n\r\n    if (typeof define !== 'function' || !define.amd) global.ArrayMap = ArrayMap;\r\n\r\n    return ArrayMap;\r\n}));","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/DeviceUtil', ['jquery', 'utils/Vector2dInteger'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('jquery'), require('utils/Vector2dInteger'));\r\n    } else {\r\n        factory(root.jQuery, root.Vector2dInteger);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function ($, Vector2dInteger) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Class utility for get system browser window size\r\n     */\r\n    var DeviceUtil = function () {\r\n        this.width = parseInt($(document).width()) < parseInt(screen.width) ? parseInt($(document).width()) : parseInt(screen.width);\r\n        this.height = parseInt($(document).height()) < parseInt(screen.height) ? parseInt($(document).height()) : parseInt(screen.height);\r\n    };\r\n\r\n    /**\r\n     * @returns {DeviceUtil}\r\n     */\r\n    DeviceUtil.prototype.reCalculateSize = function () {\r\n        this.width = window.innerWidth;\r\n        this.height = window.innerHeight;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    DeviceUtil.prototype.getWidth = function () {\r\n        return this.width;\r\n    };\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    DeviceUtil.prototype.getHeight = function () {\r\n        return this.height;\r\n    };\r\n\r\n    /**\r\n     * @returns {Vector2d}\r\n     */\r\n    DeviceUtil.prototype.getSize = function () {\r\n        return new Vector2dInteger(this.width, this.height);\r\n    };\r\n\r\n    if (global.J2D === undefined) global.DeviceUtil = DeviceUtil;\r\n\r\n    return DeviceUtil;\r\n}));\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/Exceptions', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Default Exception\r\n     * Create custom exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var Exception = function (message) {\r\n        Error.call(this);\r\n        this.message = message;\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string|}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    Exception.prototype = Object.create(Error.prototype);\r\n    Exception.prototype.constructor = Exception;\r\n\r\n    /**\r\n     * RuntimeException\r\n     * Create RuntimeException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var RuntimeException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    RuntimeException.prototype = Object.create(Exception.prototype);\r\n    RuntimeException.prototype.constructor = RuntimeException;\r\n\r\n    /**\r\n     * InvalidArgumentException\r\n     * Create InvalidArgumentException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var InvalidArgumentException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    InvalidArgumentException.prototype = Object.create(Exception.prototype);\r\n    InvalidArgumentException.prototype.constructor = InvalidArgumentException;\r\n\r\n    /**\r\n     * BadFunctionCallException\r\n     * Create BadFunctionCallException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var BadFunctionCallException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    BadFunctionCallException.prototype = Object.create(Exception.prototype);\r\n    BadFunctionCallException.prototype.constructor = BadFunctionCallException;\r\n\r\n    /**\r\n     * BadMethodCallException\r\n     * Create BadMethodCallException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var BadMethodCallException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    BadMethodCallException.prototype = Object.create(Exception.prototype);\r\n    BadMethodCallException.prototype.constructor = BadMethodCallException;\r\n\r\n    /**\r\n     * LengthException\r\n     * Create LengthException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var LengthException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    LengthException.prototype = Object.create(Exception.prototype);\r\n    LengthException.prototype.constructor = LengthException;\r\n\r\n    /**\r\n     * LogicException\r\n     * Create LogicException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var LogicException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    LogicException.prototype = Object.create(Exception.prototype);\r\n    LogicException.prototype.constructor = LogicException;\r\n\r\n    /**\r\n     * OutOfBoundsException\r\n     * Create OutOfBoundsException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var OutOfBoundsException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    OutOfBoundsException.prototype = Object.create(Exception.prototype);\r\n    OutOfBoundsException.prototype.constructor = OutOfBoundsException;\r\n\r\n    /**\r\n     * OutOfRangeException\r\n     * Create OutOfRangeException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var OutOfRangeException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    OutOfRangeException.prototype = Object.create(Exception.prototype);\r\n    OutOfRangeException.prototype.constructor = OutOfRangeException;\r\n\r\n    /**\r\n     * RangeException\r\n     * Create RangeException exception with message\r\n     *\r\n     * @param {string} message\r\n     */\r\n    var RangeException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    RangeException.prototype = Object.create(Exception.prototype);\r\n    RangeException.prototype.constructor = RangeException;\r\n\r\n    /**\r\n     * UnexpectedValueException\r\n     *\r\n     * Create UnexpectedValueException exception with message\r\n     * @param {string} message\r\n     */\r\n    var UnexpectedValueException = function (message) {\r\n        Exception.call(this, message);\r\n    };\r\n\r\n    UnexpectedValueException.prototype = Object.create(Exception.prototype);\r\n    UnexpectedValueException.prototype.constructor = UnexpectedValueException;\r\n\r\n    if (typeof define !== 'function' || !define.amd) {\r\n        global.Exception = Exception;\r\n        global.RuntimeException = RuntimeException;\r\n        global.InvalidArgumentException = InvalidArgumentException;\r\n        global.BadFunctionCallException = BadFunctionCallException;\r\n        global.BadMethodCallException = BadMethodCallException;\r\n        global.LengthException = LengthException;\r\n        global.LogicException = LogicException;\r\n        global.OutOfBoundsException = OutOfBoundsException;\r\n        global.OutOfRangeException = OutOfRangeException;\r\n        global.RangeException = RangeException;\r\n        global.UnexpectedValueException = UnexpectedValueException;\r\n    }\r\n}));\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/MathUtil', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     *\r\n     */\r\n    var MathUtil = function () {\r\n    };\r\n\r\n    /**\r\n     * @param {number} number\r\n     * @returns {number}\r\n     */\r\n    MathUtil.number2Integer = function (number) {\r\n        return number >> 0;\r\n    };\r\n\r\n    /**\r\n     * @param {number} number\r\n     * @returns {boolean}\r\n     */\r\n    MathUtil.isInteger = function (number) {\r\n        return typeof number === \"number\" && isFinite(number)\r\n            && number > -9007199254740992 && number < 9007199254740992\r\n            && Math.floor(number) === number;\r\n    };\r\n\r\n    /**\r\n     * @param {number} min\r\n     * @param {number} max\r\n     * @param {number} opacity\r\n     * @returns {string}\r\n     */\r\n    MathUtil.randomColor = function (min, max, opacity) {\r\n        return 'rgba('\r\n            + MathUtil.random(min, max) + ', '\r\n            + MathUtil.random(min, max) + ', '\r\n            + MathUtil.random(min, max) + ', '\r\n            + opacity + ')';\r\n    };\r\n\r\n    /**\r\n     * @param {number} min\r\n     * @param {number} max\r\n     * @param {boolean} omitZero\r\n     * @returns {number}\r\n     */\r\n    MathUtil.random = function (min, max, omitZero) {\r\n        var random = (Math.floor(Math.random() * (max - min + 1) + min));\r\n        return (omitZero && random == 0)\r\n            ? MathUtil.random(min, max, omitZero)\r\n            : random;\r\n    };\r\n\r\n    /**\r\n     * @param {number} degree\r\n     * @returns {number}\r\n     */\r\n    MathUtil.degree2Radian = function (degree) {\r\n        return degree * (Math.PI / 180);\r\n    };\r\n\r\n    /**\r\n     * @param {number} radian\r\n     * @returns {number}\r\n     */\r\n    MathUtil.radian2Degree = function (radian) {\r\n        return radian * (180 / Math.PI);\r\n    };\r\n\r\n    if (global.J2D === undefined) global.MathUtil = MathUtil;\r\n\r\n    return MathUtil\r\n}));\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/Vector2d', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @param {number} x\r\n     * @param {number} y\r\n     */\r\n    var Vector2d = function (x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    };\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    Vector2d.prototype.getX = function () {\r\n        return this.x;\r\n    };\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    Vector2d.prototype.getY = function () {\r\n        return this.y;\r\n    };\r\n\r\n    /**\r\n     * @returns {Vector2d}\r\n     */\r\n    Vector2d.prototype.getCoordinates = function () {\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {Array<number>}\r\n     */\r\n    Vector2d.prototype.toArray = function () {\r\n        return [this.x, this.y];\r\n    };\r\n\r\n    /**\r\n     * @param {Array<number>} array\r\n     * @returns {Vector2d}\r\n     */\r\n    Vector2d.prototype.fromArray = function (array) {\r\n        this.x = array[0];\r\n        this.y = array[1];\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {string}\r\n     */\r\n    Vector2d.prototype.toString = function () {\r\n        return \"(\" + this.x + \",\" + this.y + \")\";\r\n    };\r\n\r\n    if (global.J2D === undefined) global.Vector2d = Vector2d;\r\n\r\n    return Vector2d\r\n}));\r\n","/**\r\n * J2D (jQuery Canvas Graphic Engine plugin)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/Vector2dInteger', ['utils/Vector2d'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/Vector2d'));\r\n    } else {\r\n        factory(root.Vector2d);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Vector2d) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @param {number} x\r\n     * @param {number} y\r\n     */\r\n    var Vector2dInteger = function (x, y) {\r\n        Vector2d.call(this, x >> 0, y >> 0);\r\n    };\r\n\r\n    Vector2dInteger.prototype = Object.create(Vector2d.prototype);\r\n    Vector2dInteger.prototype.constructor = Vector2dInteger;\r\n\r\n    /**\r\n     * @param {Array<number>} array\r\n     * @returns {Vector2d|Vector2dInteger}\r\n     */\r\n    Vector2dInteger.prototype.fromArray = function (array) {\r\n        this.x = array[0] >> 0;\r\n        this.y = array[1] >> 0;\r\n\r\n        return this;\r\n    };\r\n\r\n    if (global.J2D === undefined) global.Vector2dInteger = Vector2dInteger;\r\n\r\n    return Vector2dInteger;\r\n}));\r\n"],"sourceRoot":"/source/"}