{"version":3,"sources":["j2d.js","core/FrameManager.js","core/GameStatesManager.js","core/LayersManager.js","core/SceneManager.js","core/ViewportManager.js","core/WebGL2D.js","io/InputManager.js","io/MediaManager.js","exceptions/BadFunctionCallException.js","exceptions/BadMethodCallException.js","exceptions/Exception.js","exceptions/InvalidArgumentException.js","exceptions/LengthException.js","exceptions/LogicException.js","exceptions/OutOfBoundsException.js","exceptions/OutOfRangeException.js","exceptions/RangeException.js","exceptions/RuntimeException.js","exceptions/UnexpectedValueException.js","loaders/AssetsLoader.js","nodes/AnimatedNode.js","nodes/BaseNode.js","nodes/CameraNode.js","nodes/CollectionNode.js","nodes/RectNode.js","states/BaseGameState.js","states/DefaultGameState.js","media/Audio.js","media/Sound.js","media/Video.js","transitions/Tween.js","utils/ArrayMap.js","utils/DeviceUtil.js","utils/Events.js","utils/MathUtil.js","utils/ObjectUtil.js","utils/SystemConsole.js","utils/UUID.js","utils/Vector2d.js","utils/Vector2dInteger.js","transitions/utils/Easing.js","transitions/utils/Interpolation.js"],"names":["root","factory","define","amd","module","exports","require","jQuery","j2d","core","SceneManager","utils","DeviceUtil","ObjectUtil","UUID","SystemConsole","ArrayMap","window","global","$","Log","EngineJ2D","element","data","this","device","scene","Object","defineProperty","get","webGL","set","value","addClass","classList","add","className","remove","replace","RegExp","split","join","smoothing","io","media","pause","VERSION","defaults","id","deltaTime","ready","frameLimit","prototype","start","trigger","stop","flush","resume","focus","getSceneManager","getLayersManager","layersManager","getFrameManager","frameManager","getViewportManager","viewportManager","getGameStatesManager","gameStatesManager","on","once","off","log","message","level","util","disableSmoothing","context","chrome","navigator","userAgent","match","version","parseInt","stack","hasClass","contains","test","initEngine","selected","options","nodes","document","querySelectorAll","inactiveNodes","Array","forEach","call","node","hasAttribute","push","extend","generate","setAttribute","getAttribute","undefined","tabIndex","click","activeNodes","length","initPlugin","j2dPlugin","pluginInit","logSystem","fn","firefox","isFullScreen","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","fullscreenElement","msFullscreenElement","fullScreen","engine","querySelector","resizeToFullPage","toggle","addEventListener","guid","onResize","transitions","Tween","instance","engineStack","dataStack","timestamp","frameRun","breakAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","Number","MAX_SAFE_INTEGER","performance","Date","now","setTimeout","bind","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","FrameManager","name","params","lastTime","sceneStartTime","sceneSkipTime","asyncUpdate","asyncRender","interval","pulse","runMainLoop","each","index","hasOwnProperty","update","render","clear","setDefaultFrameLimit","Init","instanceFrameManager","states","DefaultGameState","BaseGameState","GameStatesManager","sceneCallback","stateManager","currentState","previousState","getState","getCurrent","getPreviousState","getNextState","state","setState","indexOf","setNextState","setPreviousState","BaseNode","CollectionNode","LayersManager","globalCollection","layers","addLayer","zIndex","removeLayer","getLayer","has","setZIndex","WebGL2D","ViewportManager","sceneManager","setGameCallback","canvas","initLayers","backgroundColor","fillStyle","fillRect","width","height","opacity","style","visible","display","viewport","originalWidth","originalHeight","originalMargin","position","top","left","enableFullScreen","x","y","patchGameStateRender","constructor","fillBackground","init","getComputedStyle","initCanvas","setScreen","setDefaultViewport","offset","size","scale","angle","createElement","enable","getContext","shadowColor","appendChild","pos","clearRect","resize","save","restore","gameState","gameConstructor","newGameState","load","unload","async","fullscreen","getElementById","attr","requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","enableFullscreen","margin","setOffset","toggleFullScreen","getSceneLayer","getViewport","key","registerCamera","addCamera","updateNoCamerasViewport","setViewport","Vector2d","updateViewport","CameraNode","calculateScale","screen","offsetX","offsetY","cameras","camera","removeCamera","getCameraViewport","getVector","isPOT","Transform","mat","clearStack","mat3","identity","multiply","m1","m2","m10","m11","m12","m13","m14","m15","m16","m17","m18","m20","m21","m22","m23","m24","m25","m26","m27","m28","vec2_multiply","mOut","transpose","m","STACK_DEPTH_LIMIT","init_mat","m_stack","m_cache","c_stack","valid","result","i","getIdentity","setIdentity","getResult","pushMatrix","popMatrix","translateMatrix","translate","trMatrix","tr","a","b","c","d","e","f","scaleMatrix","rotateMatrix","rotate","ang","sAng","cAng","Math","sin","cos","gl","fs","vs","shaderProgram","transform","shaderPool","maxTextureSize","gl2d","$getContext","force","initShaders","initBuffers","initCanvas2DAPI","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","getParameter","MAX_TEXTURE_SIZE","postInit","shaderMask","texture","crop","path","getFragmentShaderSource","sMask","fsSource","getVertexShaderSource","stackDepth","vsSource","transformStackDepth","storedShader","useProgram","createShader","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","VERTEX_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","vertexPositionAttribute","getAttribLocation","enableVertexAttribArray","uColor","getUniformLocation","uSampler","uCropSource","pMatrix","uTransforms","uniformMatrix4fv","rectVerts","Float32Array","rectVertexPositionBuffer","createBuffer","rectVertexColorBuffer","pathVertexPositionBuffer","pathVertexColorBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","instances","hue2rgb","p","q","t","HSLAToRGBA","h","s","l","r","g","colorStringToVec4","channel","isPercent","hasAlpha","alphaChannel","sameType","reRGBAColor","exec","parseFloat","isNaN","reHSLAColor","reHex6Color","colorInt","reHex3Color","hexString","toLowerCase","colorKeywords","colorVecToString","vec4","saveDrawState","bakedDrawState","drawState","strokeStyle","globalAlpha","globalCompositeOperation","lineCap","lineJoin","lineWidth","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","textAlign","font","textBaseline","imageSmoothingEnabled","drawStateStack","restoreDrawState","pop","sendTransformStack","sp","maxI","uniformMatrix3fv","SubPath","closed","verts","fillSubPath","subPath","subPaths","vertexAttribPointer","FLOAT","uniform4f","drawArrays","TRIANGLE_FAN","strokeSubPath","LINE_LOOP","LINE_STRIP","Texture","image","obj","createTexture","textureCache","imageCache","ctx","drawImage","GL_FUNCTION","LINEAR","GL_MIPMAP_FUNCTION","LINEAR_MIPMAP_LINEAR","NEAREST","LINEAR_MIPMAP_NEAREST","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","generateMipmap","textCanvas","textCtx","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","drawStyle","$lineWidth","fillText","text","strokeText","measureText","tempCanvas","tempCtx","createImageData","getImageData","buffer","Uint8Array","readPixels","w","j","maxJ","index1","index2","putImageData","imageData","dx","dy","setTransform","apply","arguments","strokeRect","beginPath","closePath","prevPath","startX","startY","newPath","moveTo","lineTo","quadraticApproximateCount","quadraticCurveTo","hx","hy","tx","ty","fromx","fromy","bezierApproximateCount","bezierCurveTo","h1x","h1y","h2x","h2y","arcTo","rect","arcApproximateCount","arc","cx","cy","radius","startAngle","endAngle","anticlockwise","PI","count","fixed","fill","stroke","clip","isPointInPath","drawFocusRing","doCrop","cacheIndex","activeTexture","TEXTURE0","uniform1i","configurable","enumerable","writable","getKey","object","keys","filter","InputManager","mouse","startPosition","currentPosition","previousDistance","distance","enabled","enableAdditionalData","keysPressed","writeMode","timePressed","preventAll","cursor","keyMap","FULLSCREEN","KEY_CTRL","KEY_F11","checkKeyMap","enableCallback","manager","keyCode","which","isArray","eval","equals","events","onMouseClick","isPlay","event","inArray","pageX","pageY","timeStamp","preventDefault","splice","onMouseWheel","originalEvent","wheelDelta","fixMouseWheel","mouseWheelCancel","onMouseMove","sqrt","pow","toFixed","onKeyboardPress","char","String","fromCharCode","onTouchTap","touch","touches","changedTouches","onTouchMove","bindEvents","selector","unbindEvents","dX","offsetWidth","dY","offsetHeight","keyPressed","SCROLL_MOUSE_UP","SCROLL_MOUSE_DOWN","disable","newKeyMap","oldKeyMap","JSON","stringify","parse","setKeys","mapObject","getPressData","keyList","time","getMouseMoveDistance","current","previous","checkPressedKeyList","checkPressedKeyMap","getPosition","setWriteMode","mode","isWriteMode","setCursorImage","css","toggleCursor","isCursorVisible","KEY_MOUSE_LEFT","KEY_MOUSE_MIDDLE","KEY_MOUSE_RIGHT","KEY_BACKSPACE","KEY_TAB","KEY_ENTER","KEY_SHIFT","KEY_ALT","KEY_PAUSE","KEY_BREAK","KEY_CAPS_LOCK","KEY_ESCAPE","KEY_SPACE_BAR","KEY_PAGE_UP","KEY_PAGE_DOWN","KEY_END","KEY_HOME","KEY_LEFT_ARROW","KEY_UP_ARROW","KEY_RIGHT_ARROW","KEY_DOWN_ARROW","KEY_INSERT","KEY_DELETE","KEY_0","KEY_1","KEY_2","KEY_3","KEY_4","KEY_5","KEY_6","KEY_7","KEY_8","KEY_9","KEY_A","KEY_B","KEY_C","KEY_D","KEY_E","KEY_F","KEY_G","KEY_H","KEY_I","KEY_J","KEY_K","KEY_L","KEY_M","KEY_N","KEY_O","KEY_P","KEY_Q","KEY_R","KEY_S","KEY_T","KEY_U","KEY_V","KEY_W","KEY_X","KEY_Y","KEY_Z","KEY_LEFT_WINDOW_KEY","KEY_RIGHT_WINDOW_KEY","KEY_SELECT_KEY","KEY_NUMPAD_0","KEY_NUMPAD_1","KEY_NUMPAD_2","KEY_NUMPAD_3","KEY_NUMPAD_4","KEY_NUMPAD_5","KEY_NUMPAD_6","KEY_NUMPAD_7","KEY_NUMPAD_8","KEY_NUMPAD_9","KEY_MULTIPLY","KEY_ADD","KEY_SUBTRACT","KEY_DECIMAL_POINT","KEY_DIVIDE","KEY_F1","KEY_F2","KEY_F3","KEY_F4","KEY_F5","KEY_F6","KEY_F7","KEY_F8","KEY_F9","KEY_F10","KEY_F12","KEY_NUM_LOCK","KEY_SCROLL_LOCK","KEY_SEMI_COLON","KEY_EQUAL_SIGN","KEY_COMMA","KEY_DASH","KEY_PERIOD","KEY_FORWARD_SLASH","KEY_GRAVE_ACCENT","KEY_OPEN_BRACKET","KEY_BACK_SLASH","KEY_CLOSE_BRACKET","KEY_SINGLE_QUOTE","KEY_LEFT_COMMAND","KEY_RIGHT_COMMAND","Events","Audio","Sound","AudioNode","audioContext","html5Audio","AudioContext","webkitAudioContext","console","warn","masterGain","createGain","createGainNode","gain","connect","destination","MediaManager","soundManager","volume","iOSEnabled","codecs","mp3","canPlayType","opus","ogg","wav","aac","m4a","mp4","weba","sounds","webAudio","audioNode","muted","iOSAutoEnable","unlock","source","createBufferSource","noteOn","playbackState","PLAYING_STATE","FINISHED_STATE","removeEventListener","getAudioContext","getMasterGain","mute","unMute","isSupportCodec","fileExtension","addSound","addAudio","addVideo","sound","audio","video","removeSound","removeAudio","removeVideo","exceptions","Exception","BadFunctionCallException","toString","create","BadMethodCallException","Error","InvalidArgumentException","LengthException","LogicException","OutOfBoundsException","OutOfRangeException","RangeException","RuntimeException","UnexpectedValueException","AssetsLoader","progress","getProgress","isLoaded","dispose","loaders","AnimatedNode","type","duration","durationAsSpeed","tween","getDistance","to","resizeTo","getSize","rotateTo","getAngle","turn","velocity","baseNode","enabledCache","cache","setPosition","setSize","getOffset","collection","inViewport","calculate","collectionNode","MathUtil","RectNode","color","getColor","setColor","draw","tempOpacity","degree2Radian","gsm","loader","STATE","STATE_NOT_LOADED","STATE_INIT","STATE_LOAD","STATE_UPDATE","STATE_RENDER","STATE_UNLOAD","src","format","autoPlay","loop","sprite","pos3d","loaded","onEndTimer","_load","error","code","preload","listener","ceil","getOwnPropertyNames","default","play","url","extension","isSupportAudio","extractFormat","_unload","paused","clearTimeout","timer","audios","_inactiveNode","timerId","soundId","round","random","rate","readyState","isCocoonJS","currentTime","_clearEndTimer","playSprite","newNode","_pause","activeNode","_nodeById","_activeNode","_stop","_mute","_unMute","_volume","vol","_position","v","_pos3d","zsaz","z","_drainPool","listenerEvent","inactive","createMasterGain","_setupAudioNode","iOSEnable","model","loadBuffer","soundNode","disconnect","loopStart","loopEnd","refreshBuffer","playStart","bufferSource","noteGrainOn","noteOff","panner","panningModel","createPanner","loadSound","atob","dataView","charCodeAt","decodeAudioData","xhr","XMLHttpRequest","open","responseType","onload","response","onerror","gainNode","send","arraybuffer","playbackRate","Video","Easing","Interpolation","tweens","tweenNode","currentStateAnimation","tweenStateStack","tweenStateTimings","chainedTweensStack","isAnimated","isStarted","startTime","delayTime","defaultDuration","stateDefaults","delay","easing","interpolation","tweenStateData","properties","stateData","nextState","previousStatesTime","getStateTimeDuration","elapsed","animateTween","calculateStackStateTimings","withPrevious","calculateStackState","startState","parsedTweenStateStack","nextStateDelay","nextAllStateDelay","concat","reverseProperties","stateStack","slice","stackLength","sIndex","shift","calculateProperties","cleanProperties","stopChainedTweens","delayAll","repeat","repeatAll","yoyo","reverse","yoyoAll","reverseAll","property","temp","startProperties","endProperties","args","last","array","Vector2dInteger","documentWidth","max","documentElement","body","documentHeight","innerWidth","innerHeight","getWidth","getHeight","eventName","number2Integer","number","isInteger","isFinite","floor","randomColor","min","omitZero","degree","radian2Degree","radian","deepness","out","link","getX","getY","toArray","fromArray","vector1","vector2","atan2","EasingEnum","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","asin","Back","Bounce","register","easingFunction","linear","quadratic-in","quadratic-out","quadratic-in-out","cubic-in","cubic-out","cubic-in-out","quartic-in","quartic-out","quartic-in-out","quintic-in","quintic-out","quintic-in-out","sinusoidal-in","sinusoidal-out","sinusoidal-in-out","exponential-in","exponential-out","exponential-in-out","circular-in","circular-out","circular-in-out","elastic-in","elastic-out","elastic-in-out","back-in","back-out","back-in-out","bounce-in","bounce-out","bounce-in-out","InterpolationEnum","Utils","Bezier","n","pw","bn","Bernstein","CatmullRom","p0","p1","fc","Factorial","p2","p3","v0","v1","t2","t3","interpolationFunction","bezier","catmull-rom"],"mappings":"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","file":"j2d.js","sourcesContent":["/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n/*\r\n * TODO:: Events System\r\n */\r\n\r\n/**\r\n * @module \"j2d\"\r\n */\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('j2d', [\r\n            'jquery',\r\n            'core/SceneManager',\r\n            'utils/DeviceUtil',\r\n            'utils/ObjectUtil',\r\n            'utils/UUID',\r\n            'utils/SystemConsole',\r\n            'utils/ArrayMap'\r\n        ], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('jquery'),\r\n            require('core/SceneManager'),\r\n            require('utils/DeviceUtil'),\r\n            require('utils/ObjectUtil'),\r\n            require('utils/UUID'),\r\n            require('utils/SystemConsole'),\r\n            require('utils/ArrayMap')\r\n        );\r\n    } else {\r\n        factory(\r\n            root.jQuery,\r\n            root.j2d.core.SceneManager,\r\n            root.j2d.utils.DeviceUtil,\r\n            root.j2d.utils.ObjectUtil,\r\n            root.j2d.utils.UUID,\r\n            root.j2d.utils.SystemConsole,\r\n            root.j2d.utils.ArrayMap\r\n        );\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function ($, SceneManager, DeviceUtil, ObjectUtil, UUID, Log, ArrayMap) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class EngineJ2D\r\n     * @exports module:\"j2d\"\r\n     * @alias module:\"j2d\"\r\n     *\r\n     * @param {Element|jQuery} element\r\n     * @param {EngineJ2D.defaults} data\r\n     *\r\n     * @constructor\r\n     * @property {boolean} WebGL // TODO:: To scene\r\n     * @property {boolean} smoothing // TODO:: To scene\r\n     * @property {InputManager|null} io\r\n     * @property {MediaManager|null} media\r\n     * @property {boolean} isPlay\r\n     */\r\n    var EngineJ2D = function (element, data) {\r\n        var j2d = this;\r\n\r\n        /** @type {Element|jQuery} */\r\n        this.element = element;\r\n\r\n        /** @type EngineJ2D.defaults */\r\n        this.data = data;\r\n\r\n        /** @type DeviceUtil */\r\n        this.device = new DeviceUtil();\r\n\r\n        /** @type SceneManager */\r\n        this.scene = new SceneManager(this);\r\n\r\n        /** @type SystemConsole */\r\n        this.Log = new Log();\r\n\r\n        Object.defineProperty(this, 'WebGL', {\r\n            get: function () {\r\n                return j2d.data.webGL;\r\n            },\r\n            set: function (value) {\r\n                j2d.data.webGL = !!value;\r\n                if (!!value && !j2d.data.webGL) {\r\n                    j2d.element.addClass('WebGL');\r\n                    if (j2d.element.classList) {\r\n                        j2d.element.classList.add('WebGL');\r\n                    } else {\r\n                        j2d.element.className += ' WebGL';\r\n                    }\r\n                } else if (!value && j2d.data.webGL) {\r\n                    if (j2d.element.classList) {\r\n                        j2d.element.classList.remove('WebGL');\r\n                    } else {\r\n                        j2d.element.className = j2d.element.className.replace(new RegExp('(^|\\\\b)' + 'WebGL'.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'smoothing', {\r\n            get: function () {\r\n                return j2d.data.smoothing;\r\n            },\r\n            set: function (value) {\r\n                j2d.data.smoothing = !!value;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'io', {\r\n            get: function () {\r\n                return j2d.data.io;\r\n            },\r\n            set: function (value) {\r\n                return j2d.data.io = value\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'media', {\r\n            get: function () {\r\n                return j2d.data.media;\r\n            },\r\n            set: function (value) {\r\n                return j2d.data.media = value\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'isPlay', {\r\n            get: function () {\r\n                return !j2d.data.pause;\r\n            },\r\n            set: function () {\r\n            }\r\n        });\r\n    };\r\n\r\n    EngineJ2D.VERSION = '0.2.0-dev';\r\n\r\n    EngineJ2D.defaults = {\r\n        /** @type string|null */\r\n        id: null,\r\n        io: null,\r\n        media: null,\r\n        deltaTime: 0,\r\n        pause: false,\r\n        ready: false,\r\n\r\n        frameLimit: 60,\r\n        smoothing: true,\r\n\r\n        webGL: false\r\n    };\r\n\r\n    /** +GameEngine **/\r\n    EngineJ2D.prototype.start = function () {\r\n        this.scene.start();\r\n        this.trigger('start');\r\n    };\r\n\r\n    EngineJ2D.prototype.stop = function () {\r\n        this.scene.stop();\r\n        this.trigger('stop');\r\n    };\r\n\r\n    // TODO:: add MediaManager\r\n    EngineJ2D.prototype.pause = function () {\r\n        if (this.data.io) this.data.io.flush();\r\n        this.data.pause = true;\r\n        if (this.element.classList) {\r\n            this.element.classList.add('pause');\r\n        } else {\r\n            this.element.className += ' pause';\r\n        }\r\n        this.trigger('pause');\r\n    };\r\n\r\n    // TODO:: add MediaManager\r\n    EngineJ2D.prototype.resume = function () {\r\n        if (j2d.element.classList) {\r\n            j2d.element.classList.remove('pause');\r\n        } else {\r\n            j2d.element.className = j2d.element.className.replace(new RegExp('(^|\\\\b)' + 'pause'.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\r\n        }\r\n        j2d.element.focus();\r\n        this.data.pause = false;\r\n        if (this.data.io) this.data.io.flush();\r\n        this.trigger('resume');\r\n    };\r\n    /** -GameEngine **/\r\n\r\n    /** @returns {SceneManager} */\r\n    EngineJ2D.prototype.getSceneManager = function () {\r\n        return this.scene;\r\n    };\r\n\r\n    /** @returns {LayersManager} */\r\n    EngineJ2D.prototype.getLayersManager = function () {\r\n        return this.scene.layersManager;\r\n    };\r\n\r\n    /** @returns {FrameManager} */\r\n    EngineJ2D.prototype.getFrameManager = function () {\r\n        return this.scene.frameManager;\r\n    };\r\n\r\n    /** @returns {ViewportManager} */\r\n    EngineJ2D.prototype.getViewportManager = function () {\r\n        return this.scene.viewportManager;\r\n    };\r\n\r\n    /** @returns {GameStatesManager} */\r\n    EngineJ2D.prototype.getGameStatesManager = function () {\r\n        return this.scene.gameStatesManager;\r\n    };\r\n\r\n    EngineJ2D.prototype.on = function () {\r\n    };\r\n    EngineJ2D.prototype.once = function () {\r\n    };\r\n    EngineJ2D.prototype.off = function () {\r\n    };\r\n    EngineJ2D.prototype.trigger = function () {\r\n    };\r\n\r\n    EngineJ2D.prototype.log = function (message, level) {\r\n        this.Log.log(message, level);\r\n    };\r\n\r\n    /** Utils **/\r\n    EngineJ2D.util = {\r\n        /**\r\n         * @param {CanvasRenderingContext2D} context\r\n         */\r\n        disableSmoothing: function (context) {\r\n            var chrome = global.navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\r\n            var version = chrome ? parseInt(chrome[2], 10) : false;\r\n\r\n            context['imageSmoothingEnabled'] = false;\r\n            context['mozImageSmoothingEnabled'] = false;\r\n            context['oImageSmoothingEnabled'] = false;\r\n            if (version && version <= 29) {\r\n                context['webkitImageSmoothingEnabled'] = false;\r\n            }\r\n            context['msImageSmoothingEnabled'] = false;\r\n        }\r\n    };\r\n    EngineJ2D.prototype.util = EngineJ2D.util;\r\n\r\n    /**\r\n     * @type {Array.<EngineJ2D>|ArrayMap.<EngineJ2D>}\r\n     */\r\n    EngineJ2D.stack = new ArrayMap();\r\n\r\n    /**\r\n     * @param {Element} element\r\n     * @param {string} className\r\n     * @returns {boolean}\r\n     */\r\n    var hasClass = function (element, className) {\r\n        return (element.classList) ?\r\n            element.classList.contains(className) :\r\n            (new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className));\r\n    };\r\n\r\n    /**\r\n     * @name EngineJ2D\r\n     * @static\r\n     *\r\n     * @param {string|jQuery} selected\r\n     * @param {EngineJ2D.defaults|Object} options\r\n     *\r\n     * @returns {EngineJ2D|EngineJ2D[]|Array.<EngineJ2D>}\r\n     */\r\n    EngineJ2D.initEngine = function (selected, options) {\r\n        var nodes = [];\r\n        if (typeof selected === 'string') {\r\n            nodes = global.document.querySelectorAll(selected);\r\n        } else if (typeof selected === 'object' && selected instanceof jQuery) {\r\n            nodes = selected.get();\r\n        } else return null;\r\n\r\n        var inactiveNodes = [];\r\n        Array.prototype.forEach.call(nodes, function (node) {\r\n            if (!node.hasAttribute('guid')) inactiveNodes.push(node)\r\n        });\r\n\r\n        inactiveNodes.forEach(function (element) {\r\n            var options = ObjectUtil.extend(true, {}, EngineJ2D.defaults, options);\r\n            options.id = UUID.generate();\r\n\r\n            element.setAttribute('guid', options.id);\r\n\r\n            var id = element.getAttribute('id');\r\n            if (id === undefined || id === null) {\r\n                element.setAttribute('guid', options.id);\r\n            }\r\n\r\n            var tabIndex = element.getAttribute('tabindex');\r\n            if (tabIndex === undefined || tabIndex === null || tabIndex === false) {\r\n                element.setAttribute('tabindex', '-1');\r\n            }\r\n\r\n            if (!hasClass(element, 'j2d')) {\r\n                if (element.classList) {\r\n                    element.classList.add('j2d');\r\n                } else {\r\n                    element.className += ' j2d';\r\n                }\r\n            }\r\n\r\n            EngineJ2D.stack.add(options.id, new EngineJ2D(element, options));\r\n            element.click();\r\n            element.focus();\r\n        });\r\n\r\n        var activeNodes = [];\r\n        nodes = global.document.querySelectorAll('.j2d[guid]');\r\n        Array.prototype.forEach.call(nodes, function (node) {\r\n            activeNodes.push(EngineJ2D.stack.get(node.getAttribute('guid')))\r\n        });\r\n        return (1 === activeNodes.length) ? activeNodes[0] : activeNodes;\r\n    };\r\n    EngineJ2D.prototype.initEngine = EngineJ2D.initEngine;\r\n\r\n    /* ------------------------------ Plugin ------------------------------ */\r\n\r\n    (EngineJ2D.initPlugin = function () {\r\n        if (global.j2dPlugin !== undefined) return null;\r\n        global.j2dPlugin = {pluginInit: true, stack: new ArrayMap()};\r\n\r\n        (new Log()).logSystem('j2D v.' + EngineJ2D.VERSION, 'https://github.com/fsggs/j2d');\r\n\r\n        /**\r\n         * @param {EngineJ2D.defaults} [options]\r\n         * @returns {EngineJ2D|EngineJ2D[]|Array.<EngineJ2D>}\r\n         */\r\n        jQuery.fn.j2d = function (options) {\r\n            return EngineJ2D.initEngine(this, options);\r\n        };\r\n\r\n        global.j2dPlugin.initEngine = EngineJ2D.initEngine;\r\n\r\n        var firefox = global.navigator.userAgent.match(/Firefox\\/([0-9]+)\\./);\r\n        var version = firefox ? parseInt(firefox[2], 10) : false;\r\n\r\n        var isFullScreen = function () {\r\n            //noinspection JSUnresolvedVariable\r\n            return !!(global.document.webkitFullscreenElement\r\n                || global.document.webkitCurrentFullScreenElement\r\n                || (version && version < 47) ? global.document.mozFullScreenElement : global.document.fullscreenElement\r\n                || global.document.msFullscreenElement\r\n            );\r\n        };\r\n\r\n        $(global.document).on('fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange', function () {\r\n            var fullScreen = isFullScreen();\r\n            if (!fullScreen) {\r\n                var node, engine;\r\n                node = global.document.querySelector('.j2d.active');\r\n                if (node) engine = EngineJ2D.stack.get(node.getAttribute('guid'));\r\n                if (engine) engine.scene.resizeToFullPage(fullScreen);\r\n\r\n                node = global.document.querySelector('.j2d:not(.active)');\r\n                if (node) engine = EngineJ2D.stack.get(node.getAttribute('guid'));\r\n                if (engine) engine.toggle(!fullScreen);\r\n            }\r\n        });\r\n\r\n        // $(global.document).on('click', 'div.canvas[guid].pause', function () {\r\n        //     $(this).data('j2d').resume();\r\n        //\r\n        //     var current = this;\r\n        //     $('div.canvas[guid]:not(.pause-disable):not(:focus)').each(function () {\r\n        //         if (current !== this) $(this).removeClass('active').data('j2d').pause();\r\n        //     });\r\n        //     $('div.canvas[guid].active.pause-disable:not(:focus)').each(function () {\r\n        //         if (current !== this) $(this).removeClass('active');\r\n        //     });\r\n        // });\r\n        //\r\n        // $(global.document).on('click touch mouseenter', 'div.canvas[guid]:not(.resume-by-click):not(:focus)', function () {\r\n        //     $(this).addClass('active').focus().data('j2d').resume();\r\n        //\r\n        //     var current = this;\r\n        //     $('div.canvas[guid]:not(.pause-disable):not(:focus)').each(function () {\r\n        //         if (current !== this) $(this).removeClass('active').data('j2d').pause();\r\n        //     });\r\n        //     $('div.canvas[guid].active.pause-disable:not(:focus)').each(function () {\r\n        //         if (current !== this) $(this).removeClass('active');\r\n        //     });\r\n        // });\r\n\r\n        global.addEventListener(\"focus\", function () {\r\n            var node, engine;\r\n            node = global.document.querySelector('.j2d.active');\r\n            if (node) engine = EngineJ2D.stack.get(node.getAttribute('guid'));\r\n            if (engine) engine.resume();\r\n        });\r\n\r\n        global.addEventListener(\"blur\", function () {\r\n            var node, engine;\r\n            node = global.document.querySelector('.j2d');\r\n            if (node) engine = EngineJ2D.stack.get(node.getAttribute('guid'));\r\n            if (engine) engine.pause();\r\n        });\r\n\r\n        global.addEventListener('resize', function () {\r\n            EngineJ2D.stack.forEach(function (guid) {\r\n                EngineJ2D.stack[guid].device.onResize();\r\n            });\r\n\r\n            var fullScreen = isFullScreen();\r\n            if (fullScreen) {\r\n                var node, engine;\r\n                node = global.document.querySelector('.j2d.active');\r\n                if (node) engine = EngineJ2D.stack.get(node.getAttribute('guid'));\r\n                if (engine) engine.scene.resizeToFullPage(fullScreen);\r\n            }\r\n            return true;\r\n        });\r\n    })();\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.EngineJ2D = EngineJ2D;\r\n    if (global.j2d !== undefined) global.j2d.EngineJ2D = EngineJ2D;\r\n    return EngineJ2D;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/FrameManager', ['utils/ArrayMap', 'transitions/Tween'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ArrayMap'), require('transitions/Tween'));\r\n    } else {\r\n        factory(root.j2d.utils.ArrayMap, root.j2d.transitions.Tween);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global,\r\n    /**\r\n     * @param {Function} ArrayMap\r\n     * @param {Tween} Tween\r\n     * @returns {FrameManager}\r\n     */\r\n    function (ArrayMap, Tween) {\r\n        \"use strict\";\r\n\r\n        /** @type FrameManager */\r\n        var instance;\r\n        var engineStack = new ArrayMap(), dataStack = new ArrayMap();\r\n        var timestamp = 0;\r\n\r\n        var options = {\r\n            frameLimit: 60,\r\n            frameRun: false,\r\n            breakAnimationFrame: false\r\n        };\r\n\r\n        var requestAnimationFrame = (function () {\r\n            return global.requestAnimationFrame ||\r\n                global.webkitRequestAnimationFrame ||\r\n                global.mozRequestAnimationFrame ||\r\n                global.oRequestAnimationFrame ||\r\n                global.msRequestAnimationFrame ||\r\n                (function (callback) {\r\n                    if (!options.breakAnimationFrame) {\r\n                        if (timestamp >= Number.MAX_SAFE_INTEGER - 1) timestamp = 0;\r\n                        if (timestamp === 0) timestamp = global.performance === undefined\r\n                            ? Date.now()\r\n                            : global.performance.now();\r\n                        global.setTimeout(callback.bind(this, global.performance === undefined\r\n                            ? Date.now() - timestamp\r\n                            : global.performance.now() - timestamp\r\n                        ), 1000.0 / options.frameLimit);\r\n                    } else {\r\n                        options.breakAnimationFrame = false\r\n                    }\r\n                });\r\n        })();\r\n\r\n        var cancelAnimationFrame = (function () {\r\n            timestamp = 0;\r\n            return global.cancelAnimationFrame ||\r\n                global.webkitCancelAnimationFrame ||\r\n                global.mozCancelAnimationFrame ||\r\n                global.oCancelAnimationFrame ||\r\n                global.msCancelAnimationFrame;\r\n        })();\r\n\r\n\r\n        /**\r\n         * @class FrameManager\r\n         * @exports module:core/FrameManager\r\n         *\r\n         * @constructor\r\n         */\r\n        var FrameManager = function () {\r\n        };\r\n\r\n        /**\r\n         * @param {string} name\r\n         * @param {BaseState} engine\r\n         * @param {Object} [params]\r\n         * @returns {FrameManager}\r\n         */\r\n        FrameManager.prototype.start = function (name, engine, params) {\r\n            var data = {\r\n                j2d: null,\r\n                frameLimit: options.frameLimit,\r\n                now: 0,\r\n                deltaTime: 0,\r\n                lastTime: 0,\r\n                sceneStartTime: 0,\r\n                sceneSkipTime: 0,\r\n\r\n                asyncUpdate: true,\r\n                asyncRender: true\r\n            };\r\n\r\n            if (params.frameLimit !== undefined && params.frameLimit <= options.frameLimit) data.frameLimit = params.frameLimit;\r\n\r\n            if (params.j2d !== undefined) {\r\n                data.j2d = params.j2d;\r\n            } else {\r\n                throw 'j2d not transported to FrameManager.start(id, engine, {... j2d: j2d ...});';\r\n            }\r\n\r\n            data.interval = 1000.0 / data.frameLimit;\r\n            data.lastTime = Date.now();\r\n\r\n            engineStack.add(name, engine);\r\n            dataStack.add(name, data);\r\n            if (!options.frameRun) this.pulse();\r\n\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * @param {string} name\r\n         * @returns {FrameManager}\r\n         */\r\n        FrameManager.prototype.stop = function (name) {\r\n            engineStack.remove(name);\r\n            dataStack.remove(name);\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * @returns {FrameManager}\r\n         */\r\n        FrameManager.prototype.pulse = function () {\r\n            this.runMainLoop(Date.now());\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * @param {number} timestamp\r\n         * @param {FrameManager} [frameManager]\r\n         */\r\n        FrameManager.prototype.runMainLoop = function (timestamp, frameManager) {\r\n            if (frameManager === undefined) frameManager = this;\r\n\r\n            if (engineStack.length <= 0 && options.frameRun) {\r\n                options.breakAnimationFrame = true;\r\n                options.frameRun = false;\r\n                return cancelAnimationFrame(this.runMainLoop);\r\n            }\r\n            options.frameRun = true;\r\n\r\n            requestAnimationFrame(function (timestamp) {\r\n                frameManager.runMainLoop(timestamp, frameManager);\r\n            });\r\n\r\n            engineStack.each(function (index) {\r\n                if (engineStack.hasOwnProperty(index) && 'object' === typeof engineStack[index]) {\r\n                    var engine = engineStack[index];\r\n                    var data = dataStack[index];\r\n\r\n                    data.now = Date.now();\r\n                    data.deltaTime = (data.now - data.lastTime) / 100.0;\r\n\r\n                    if (data.j2d.data.io && !data.j2d.data.pause) data.j2d.data.io.update();\r\n\r\n                    if (!data.j2d.data.pause) {\r\n                        if (engine.update !== undefined && 'function' === typeof engine.update) {\r\n                            if (data.asyncUpdate) {\r\n                                setTimeout(engine.update.bind(engine, timestamp, data), 0);\r\n                                setTimeout(Tween.update.bind(this, timestamp), 0);\r\n                            } else {\r\n                                engine.update(timestamp, data);\r\n                                Tween.update(timestamp);\r\n                            }\r\n                        }\r\n\r\n                        if ((data.deltaTime * 100.0) > data.interval) {\r\n                            data.lastTime = data.now - ((data.deltaTime * 100.0) % data.interval);\r\n\r\n                            if (engine.render !== undefined && 'function' === typeof engine.render) {\r\n                                if (data.asyncRender) {\r\n                                    setTimeout(engine.render.bind(engine, timestamp, data), 0);\r\n                                } else {\r\n                                    engine.render(timestamp, data);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (data.j2d.data.io && !data.j2d.data.pause) data.j2d.data.io.clear();\r\n                }\r\n            });\r\n        };\r\n\r\n        /**\r\n         * @param {number} frameLimit\r\n         * @returns {FrameManager}\r\n         */\r\n        FrameManager.prototype.setDefaultFrameLimit = function (frameLimit) {\r\n            if (frameLimit <= 60 && frameLimit > 0) {\r\n                options.frameLimit = frameLimit\r\n            }\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         * @singleton\r\n         * @returns {FrameManager}\r\n         */\r\n        FrameManager.Init = function () {\r\n            if (global.j2d !== undefined) {\r\n                return global.instanceFrameManager || (global.instanceFrameManager = new FrameManager());\r\n            } else {\r\n                return instance || (instance = new FrameManager());\r\n            }\r\n        };\r\n\r\n        if (typeof module === 'object' && typeof module.exports === 'object') module.exports.FrameManager = FrameManager;\r\n        if (global.j2d !== undefined) global.j2d.core.FrameManager = FrameManager;\r\n        return FrameManager;\r\n    }\r\n));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/GameStatesManager', [\r\n            'utils/ObjectUtil',\r\n            'utils/ArrayMap',\r\n            'states/DefaultGameState',\r\n            'states/BaseGameState'\r\n        ], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('utils/ObjectUtil'),\r\n            require('utils/ArrayMap'),\r\n            require('states/DefaultGameState'),\r\n            require('states/BaseGameState')\r\n        );\r\n    } else {\r\n        factory(\r\n            root.j2d.utils.ObjectUtil,\r\n            root.j2d.utils.ArrayMap,\r\n            root.j2d.states.DefaultGameState,\r\n            root.j2d.states.BaseGameState\r\n        );\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, ArrayMap, DefaultGameState, BaseGameState) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Game states Manager\r\n     *\r\n     * @class GameStatesManager\r\n     * @abstract\r\n     * @constructor\r\n     *\r\n     * @param {GameStatesManager.defaults|Object} data\r\n     * @param {function} sceneCallback\r\n     * @property {GameStatesManager.defaults|Object} data\r\n     * @property {number} state\r\n     */\r\n    var GameStatesManager = function (data, sceneCallback) {\r\n        var stateManager = this;\r\n        stateManager.data = ObjectUtil.extend(true, {}, GameStatesManager.defaults, data);\r\n        stateManager.add(new DefaultGameState());\r\n        stateManager.sceneCallback = sceneCallback;\r\n\r\n        Object.defineProperty(this, 'state', {\r\n            get: function () {\r\n                return stateManager.data.currentState;\r\n            },\r\n            set: function (value) {\r\n                stateManager.data.currentState = value;\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @type {{previousState: number, currentState: number, states: ArrayMap<BaseGameState>}}\r\n     */\r\n    GameStatesManager.defaults = {\r\n        previousState: null,\r\n        currentState: 0,\r\n        states: new ArrayMap()\r\n    };\r\n\r\n    /**\r\n     * @param {string} [id]\r\n     * @returns {BaseGameState|null}\r\n     */\r\n    GameStatesManager.prototype.getState = function (id) {\r\n        if (id === undefined) return this.getCurrent();\r\n        if (this.data.states.contains(id)) {\r\n            return this.data.states[id];\r\n        }\r\n        return null\r\n    };\r\n\r\n    GameStatesManager.prototype.getPreviousState = function () {\r\n        return this.data.states.get(this.data.states[this.data.previousState]);\r\n    };\r\n\r\n    GameStatesManager.prototype.getNextState = function () {\r\n        if (this.data.states[this.state + 1] !== undefined) {\r\n            return this.data.states.get(this.data.states[this.state + 1]);\r\n        }\r\n        return null;\r\n    };\r\n\r\n    GameStatesManager.prototype.getCurrent = function () {\r\n        return this.data.states.get(this.data.states[this.data.currentState]);\r\n    };\r\n\r\n    /**\r\n     * @param {string} id\r\n     */\r\n    GameStatesManager.prototype.setState = function (id) {\r\n        if (this.data.states.contains(id)) {\r\n            this.data.previousState = this.data.currentState;\r\n            this.data.currentState = this.data.states.indexOf(id);\r\n            this.sceneCallback(id);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    GameStatesManager.prototype.setNextState = function () {\r\n        if (this.data.states[this.state + 1] !== undefined) {\r\n            this.data.previousState = this.data.currentState;\r\n            this.data.currentState = this.state + 1;\r\n            this.sceneCallback(this.data.states[this.state]);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    GameStatesManager.prototype.setPreviousState = function () {\r\n        if (this.data.states[this.data.previousState] !== undefined) {\r\n            var state = this.data.previousState;\r\n            this.data.previousState = this.data.currentState;\r\n            this.data.currentState = state;\r\n            this.sceneCallback(this.data.states[state]);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {BaseGameState} state\r\n     * @param {string} [id]\r\n     */\r\n    GameStatesManager.prototype.add = function (state, id) {\r\n        if (id === undefined) id = state.data.id;\r\n        if (!this.data.states.contains(id) && state instanceof BaseGameState) {\r\n            this.data.states.add(id, state);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {string} id\r\n     */\r\n    GameStatesManager.prototype.remove = function (id) {\r\n        if (this.data.states.contains(id)) {\r\n            this.data.states.remove(id);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.GameStatesManager = GameStatesManager;\r\n    if (global.j2d !== undefined) global.j2d.states.GameStatesManager = GameStatesManager;\r\n    return GameStatesManager;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/LayersManager', ['utils/ArrayMap', 'nodes/BaseNode', 'nodes/CollectionNode', 'utils/UUID'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('utils/ArrayMap'),\r\n            require('nodes/BaseNode'),\r\n            require('nodes/CollectionNode'),\r\n            require('utils/UUID')\r\n        );\r\n    } else {\r\n        factory(root.j2d.utils.ArrayMap, root.j2d.nodes.BaseNode, root.j2d.nodes.CollectionNode, root.j2d.utils.UUID);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ArrayMap, BaseNode, CollectionNode, UUID) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class LayersManager\r\n     * @exports module:core/LayersManager\r\n     * \r\n     * @constructor\r\n     */\r\n    var LayersManager = function () {\r\n        /** @type CollectionNode */\r\n        this.globalCollection = new CollectionNode({id: 'GlobalLayer'});\r\n\r\n        /** @type Array.<CollectionNode>|CollectionNode[] */\r\n        this.layers = [];\r\n\r\n        /** @type number */\r\n        this.index = 1000;\r\n    };\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @param {number} [zIndex]\r\n     * @param {CollectionNode|undefined} [node]\r\n     * @returns {LayersManager}\r\n     */\r\n    LayersManager.prototype.addLayer = function (name, zIndex, node) {\r\n        name = name || UUID.generate();\r\n\r\n        if (node === undefined || node instanceof CollectionNode) {\r\n            if (zIndex === undefined) {\r\n                zIndex = this.index;\r\n                this.index++;\r\n            } else {\r\n                zIndex += 1000;\r\n            }\r\n\r\n            node = node || new CollectionNode({id: name, zIndex: zIndex});\r\n\r\n            this.globalCollection.add(node, name);\r\n            this.layers[zIndex] = node;\r\n\r\n            return this;\r\n        }\r\n        // throw new InvalidArgumentException('Unknown node type to add as layers');\r\n    };\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @returns {LayersManager}\r\n     */\r\n    LayersManager.prototype.removeLayer = function (name) {\r\n        delete this.layers[this.globalCollection.get(name).zIndex];\r\n        this.globalCollection.remove(null, name);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @returns {CollectionNode|null}\r\n     */\r\n    LayersManager.prototype.getLayer = function (name) {\r\n        if (this.globalCollection.has(name)) {\r\n            return this.globalCollection.get(name);\r\n        }\r\n        return null;\r\n    };\r\n\r\n    /**\r\n     * @param {string} name\r\n     * @param {number} zIndex\r\n     * @returns {LayersManager}\r\n     */\r\n    LayersManager.prototype.setZIndex = function (name, zIndex) {\r\n        if (this.globalCollection.has(name)) {\r\n            delete this.layers[this.globalCollection.get(name).zIndex];\r\n            this.globalCollection.get(name).zIndex = zIndex;\r\n            this.layers[zIndex] = this.globalCollection.get(name);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.LayersManager = LayersManager;\r\n    if (global.j2d !== undefined) global.j2d.core.LayersManager = LayersManager;\r\n    return LayersManager;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/SceneManager', [\r\n            'utils/ObjectUtil',\r\n            'core/WebGL2D',\r\n            'core/FrameManager',\r\n            'core/ViewportManager',\r\n            'core/LayersManager',\r\n            'core/GameStatesManager'\r\n        ], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('utils/ObjectUtil'),\r\n            require('core/WebGL2D'),\r\n            require('core/FrameManager'),\r\n            require('core/ViewportManager'),\r\n            require('core/LayersManager'),\r\n            require('core/GameStatesManager')\r\n        );\r\n    } else {\r\n        factory(\r\n            root.j2d.utils.ObjectUtil,\r\n            root.WebGL2D,\r\n            root.j2d.core.FrameManager,\r\n            root.j2d.core.ViewportManager,\r\n            root.j2d.core.LayersManager,\r\n            root.j2d.states.GameStatesManager\r\n        );\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, WebGL2D, FrameManager, ViewportManager, LayersManager, GameStatesManager) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class SceneManager\r\n     * @exports module:core/SceneManager\r\n     *\r\n     * @param {EngineJ2D} j2d\r\n     * @constructor\r\n     *\r\n     * @property {SceneManager.defaults} data\r\n     *\r\n     * @property {string} backgroundColor\r\n     * @property {number} opacity\r\n     * @property {boolean} visible\r\n     * @property {number} zIndex\r\n     * @property {{x:number, y:number}} viewport\r\n     */\r\n    var SceneManager = function (j2d) {\r\n        var sceneManager = this;\r\n\r\n        this.setGameCallback = this.setGameCallback.bind(this);\r\n        this.start = this.start.bind(this);\r\n\r\n        /** @type EngineJ2D */\r\n        this.j2d = j2d;\r\n\r\n        /** @type {HTMLCanvasElement} */\r\n        this.canvas = null;\r\n\r\n        /** @type {CanvasRenderingContext2D} */\r\n        this.context = null;\r\n\r\n        /** @type {FrameManager} */\r\n        this.frameManager = FrameManager.Init();\r\n\r\n        /** @type {LayersManager} */\r\n        this.layersManager = new LayersManager();\r\n\r\n        /** @type {ViewportManager} */\r\n        this.viewportManager = new ViewportManager();\r\n\r\n        /** @type {GameStatesManager} */\r\n        this.gameStatesManager = new GameStatesManager({}, this.setGameCallback);\r\n\r\n        this.initLayers();\r\n\r\n        Object.defineProperty(this, 'backgroundColor', {\r\n            get: function () {\r\n                return sceneManager.data.backgroundColor;\r\n            },\r\n            set: function (value) {\r\n                sceneManager.data.backgroundColor = value;\r\n                sceneManager.context.fillStyle = value;\r\n                sceneManager.context.fillRect(0, 0, sceneManager.data.width, sceneManager.data.height);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'opacity', {\r\n            get: function () {\r\n                return sceneManager.data.opacity;\r\n            },\r\n            set: function (value) {\r\n                sceneManager.data.opacity = value;\r\n                sceneManager.canvas.style.opacity = value;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'visible', {\r\n            get: function () {\r\n                return sceneManager.data.visible;\r\n            },\r\n            set: function (value) {\r\n                sceneManager.data.visible = !!value;\r\n                sceneManager.canvas.style.display = (!!value) ? 'block' : 'none';\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'zIndex', {\r\n            get: function () {\r\n                return 1000 - sceneManager.data.zIndex;\r\n            },\r\n            set: function (value) {\r\n                sceneManager.data.zIndex = 1000 + value;\r\n                sceneManager.canvas.style.zIndex = 1000 + value;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'viewport', {\r\n            get: function () {\r\n                return sceneManager.data.viewport;\r\n            },\r\n            set: function () {\r\n            }\r\n        });\r\n    };\r\n\r\n    SceneManager.defaults = {\r\n        width: 0,\r\n        height: 0,\r\n\r\n        originalWidth: 0,\r\n        originalHeight: 0,\r\n        originalMargin: 0,\r\n\r\n        visible: true,\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        zIndex: 1000,\r\n        opacity: 1.0,\r\n        backgroundColor: false,\r\n\r\n        frameLimit: 60,\r\n\r\n        enableFullScreen: false,\r\n\r\n        viewport: {x: 0, y: 0}\r\n    };\r\n\r\n    /**\r\n     * @param {BaseGameState} state\r\n     * @returns {Function}\r\n     */\r\n    SceneManager.prototype.patchGameStateRender = function (state) {\r\n        var sceneManager = this;\r\n        var constructor = state.constructor;\r\n        if (typeof constructor === 'function' && constructor.prototype.render === undefined) {\r\n            constructor.prototype.render = function (timestamp, data) {\r\n                sceneManager.clear().fillBackground().render(data);\r\n                return true;\r\n            };\r\n        }\r\n        return constructor;\r\n    };\r\n\r\n    /**\r\n     * @param {SceneManager.defaults|Object|undefined} options\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.init = function (options) {\r\n        this.data = ObjectUtil.extend(true, {}, SceneManager.defaults, options);\r\n\r\n        this.j2d.trigger('beforeInit');\r\n\r\n        this.data.originalWidth = this.data.width;\r\n        this.data.originalHeight = this.data.height;\r\n        this.data.originalMargin = getComputedStyle(this.j2d.element)['margin'];\r\n\r\n        this.j2d.element.style.width = this.data.width + 'px';\r\n        this.j2d.element.style.height = this.data.height + 'px';\r\n\r\n        this.initCanvas();\r\n\r\n        this.viewportManager.setScreen({\r\n            x: this.data.width,\r\n            y: this.data.height\r\n        }).setDefaultViewport({\r\n            offset: {\r\n                x: 0.0,\r\n                y: 0.0\r\n            },\r\n            size: {\r\n                x: this.data.width,\r\n                y: this.data.height\r\n            },\r\n            scale: 1.0,\r\n            angle: 0.0\r\n        });\r\n\r\n        this.j2d.trigger('afterInit');\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.initLayers = function () {\r\n        if (!this.layersManager.getLayer('scene')) {\r\n            this.layersManager.addLayer('scene', 0);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.initCanvas = function () {\r\n        if (document.querySelectorAll('.j2d[guid=\"' + this.j2d.data.id + '\"] canvas').length === 0) {\r\n            this.canvas = document.createElement('canvas');\r\n\r\n            this.canvas.width = this.data.width;\r\n            this.canvas.height = this.data.height;\r\n            this.canvas.style.zIndex = this.data.zIndex;\r\n            this.canvas.style.position = this.data.position;\r\n\r\n            this.canvas.style.left = this.data.left;\r\n            this.canvas.style.top = this.data.top;\r\n\r\n            if (this.j2d.data.webGL) {\r\n                WebGL2D.enable(this.canvas);\r\n                this.context = this.canvas.getContext('WebGL-2d');\r\n            } else {\r\n                this.context = this.canvas.getContext('2d');\r\n            }\r\n\r\n            if (!this.j2d.data.smoothing) {\r\n                this.j2d.util.disableSmoothing(this.context);\r\n            }\r\n\r\n            this.context.shadowColor = 'rgba(0,0,0,0)';\r\n            if (this.data.backgroundColor) this.backgroundColor = this.data.backgroundColor;\r\n            if (this.data.opacity) this.opacity = this.data.opacity;\r\n            if (this.data.visible) this.visible = this.data.visible;\r\n            if (this.data.zIndex) this.zIndex = 1000 - this.data.zIndex;\r\n\r\n            this.j2d.element.appendChild(this.canvas);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {{x:number, y:number}|Vector2d} [pos]\r\n     * @param {{x:number, y:number}|Vector2d} [size]\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.clear = function (pos, size) {\r\n        if (pos !== undefined && size !== undefined) {\r\n            this.context.clearRect(pos.x - this.viewport.x, pos.y - this.viewport.y, size.x, size.y);\r\n        } else {\r\n            this.context.clearRect(0, 0, this.data.width, this.data.height);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {number} width\r\n     * @param {number} height\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.resize = function (width, height) {\r\n        this.canvas.width = this.data.width = width;\r\n        this.canvas.height = this.data.height = height;\r\n\r\n        if (this.data.backgroundColor) {\r\n            this.context.save();\r\n\r\n            this.clear();\r\n            this.backgroundColor = this.data.backgroundColor;\r\n\r\n            this.context.restore();\r\n        }\r\n        if (!this.j2d.data.smoothing) {\r\n            this.j2d.util.disableSmoothing(this.context);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * TODO:: refactor this\r\n     * @param {string} gameState\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.setGameCallback = function (gameState) {\r\n        var sceneManager = this;\r\n        sceneManager.data.gameState = gameState || 'init_j2d';\r\n        sceneManager.frameManager.stop(sceneManager.j2d.data.id);\r\n\r\n        var gameConstructor = sceneManager.patchGameStateRender(\r\n            sceneManager.gameStatesManager.getState(gameState)\r\n        );\r\n\r\n        var newGameState = new gameConstructor(sceneManager.gameStatesManager, {});\r\n        newGameState.init({\r\n            callback: function () {\r\n                newGameState.load({\r\n                    callback: function () {\r\n                        sceneManager.frameManager.start(sceneManager.j2d.data.id, newGameState, {\r\n                            j2d: sceneManager.j2d,\r\n                            frameLimit: sceneManager.data.frameLimit\r\n                        });\r\n\r\n                        sceneManager.j2d.trigger('changedGameState');\r\n\r\n                        // TODO:: async unload?\r\n                        sceneManager.gameStatesManager.getPreviousState().unload();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {Function|callback} callback\r\n     * @param {*} data\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.async = function (callback, data) {\r\n        setTimeout(callback.call(callback, data), 0);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.start = function () {\r\n        var sceneManager = this;\r\n        if (sceneManager.j2d.data.io) {\r\n            sceneManager.j2d.data.io.init();\r\n        }\r\n        sceneManager.j2d.trigger('beforeStart');\r\n\r\n        sceneManager.frameManager.stop(sceneManager.j2d.data.id);\r\n\r\n        var gameConstructor = sceneManager.patchGameStateRender(\r\n            sceneManager.gameStatesManager.getCurrent()\r\n        );\r\n\r\n        var newGameState = new gameConstructor(sceneManager.gameStatesManager, {});\r\n        newGameState.init({\r\n            callback: function () {\r\n                newGameState.load({\r\n                    callback: function () {\r\n                        sceneManager.frameManager.start(sceneManager.j2d.data.id, newGameState, {\r\n                            j2d: sceneManager.j2d,\r\n                            frameLimit: sceneManager.data.frameLimit\r\n                        });\r\n\r\n                        sceneManager.j2d.trigger('afterStart');\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        return sceneManager;\r\n    };\r\n\r\n    /**\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.stop = function () {\r\n        this.frameManager.stop(this.j2d.data.id);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {boolean} [fullscreen]\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.fullScreen = function (fullscreen) {\r\n        var element = document.getElementById(this.j2d.element.attr('id'));\r\n\r\n        if (undefined === element.requestFullscreen) {\r\n            //noinspection JSUnresolvedVariable\r\n            element.requestFullscreen = element.webkitRequestFullscreen\r\n                || element.webkitRequestFullScreen\r\n                || element.mozRequestFullScreen\r\n                || element.msRequestFullscreen;\r\n        }\r\n\r\n        if (undefined === document.exitFullscreen) {\r\n            //noinspection JSUnresolvedVariable\r\n            document.exitFullscreen = document.webkitExitFullscreen\r\n                || document.webkitCancelFullScreen\r\n                || document.mozCancelFullScreen\r\n                || document.msExitFullscreen;\r\n        }\r\n        if (fullscreen) {\r\n            element.requestFullscreen();\r\n        } else {\r\n            document.exitFullscreen();\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {boolean} [fullscreen]\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.resizeToFullPage = function (fullscreen) {\r\n        var j2d = this.j2d;\r\n        var sceneManager = this;\r\n\r\n        if (fullscreen) {\r\n            sceneManager.data.originalWidth = sceneManager.data.width;\r\n            sceneManager.data.originalHeight = sceneManager.data.height;\r\n\r\n            sceneManager.resize(j2d.device.width, j2d.device.height);\r\n            sceneManager.data.enableFullscreen = true;\r\n\r\n            j2d.element.style.width = j2d.device.width + 'px';\r\n            j2d.element.style.height = j2d.device.height + 'px';\r\n            j2d.element.style.margin = 0;\r\n\r\n            sceneManager.viewportManager.setScreen({\r\n                x: j2d.device.width,\r\n                y: j2d.device.height\r\n            }).setOffset({\r\n                x: -(j2d.device.width - sceneManager.data.originalWidth) / 2,\r\n                y: -(j2d.device.height - sceneManager.data.originalHeight) / 2\r\n            });\r\n        } else {\r\n            sceneManager.resize(sceneManager.data.originalWidth, sceneManager.data.originalHeight);\r\n            sceneManager.data.enableFullscreen = false;\r\n\r\n            j2d.element.style.width = sceneManager.data.originalWidth + 'px';\r\n            j2d.element.style.height = sceneManager.data.originalHeight + 'px';\r\n            j2d.element.style.margin = sceneManager.data.originalMargin;\r\n\r\n            sceneManager.viewportManager.setScreen({\r\n                x: sceneManager.data.originalWidth,\r\n                y: sceneManager.data.originalHeight\r\n            }).setOffset({\r\n                x: 0,\r\n                y: 0\r\n            });\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {EngineJ2D} j2d\r\n     * @param {{fullscreen: boolean}} data\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.toggleFullScreen = function (j2d, data) {\r\n        if (data === undefined) {\r\n            data = {fullscreen: false};\r\n        }\r\n        if (!j2d.scene.enableFullscreen || data.fullscreen) {\r\n            j2d.scene.fullScreen(true);\r\n        } else {\r\n            j2d.scene.fullScreen(false);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {CollectionNode|null}\r\n     */\r\n    SceneManager.prototype.getSceneLayer = function () {\r\n        return this.layersManager.getLayer('scene');\r\n    };\r\n\r\n    /**\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.fillBackground = function () {\r\n        if (this.data.backgroundColor) {\r\n            this.backgroundColor = this.data.backgroundColor;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {Object} data\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.render = function (data) {\r\n        var sceneManager = this;\r\n        sceneManager.layersManager.layers.forEach(function (value, index) {\r\n            sceneManager.layersManager.layers[index].render(\r\n                sceneManager.context,\r\n                sceneManager.viewportManager.getViewport(),\r\n                sceneManager.layersManager.globalCollection,\r\n                data || {}\r\n            );\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {BaseNode} node\r\n     * @param {string} [key]\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.add = function (node, key) {\r\n        if (this.layersManager.globalCollection.has('scene')) {\r\n            this.layersManager.globalCollection.get('scene').add(node, key);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {BaseNode} [node]\r\n     * @param {string} [key]\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.remove = function (node, key) {\r\n        if (this.layersManager.globalCollection.has('scene')) {\r\n            this.layersManager.globalCollection.get('scene').remove(node, key);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {CameraNode} node\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.registerCamera = function (node) {\r\n        this.viewportManager.addCamera(node.data.id, node);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Hack to mode without Cameras\r\n     * @returns {SceneManager}\r\n     */\r\n    var updateNoCamerasViewport = function (scene) {\r\n        // This hack use deprecated method, i known.\r\n        scene.viewportManager.setViewport(\r\n            new Vector2d(0, 0),\r\n            new Vector2d(scene.data.width, scene.data.height)\r\n        );\r\n\r\n        return scene;\r\n    };\r\n    /**\r\n     * @param {CameraNode} [node]\r\n     * @returns {SceneManager}\r\n     */\r\n    SceneManager.prototype.updateViewport = function (node) {\r\n        if (node === undefined) return updateNoCamerasViewport(this);\r\n        this.viewportManager.updateViewport(node.data.id);\r\n        return this;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.SceneManager = SceneManager;\r\n    if (global.j2d !== undefined) global.j2d.core.SceneManager = SceneManager;\r\n    return SceneManager;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/ViewportManager', ['utils/ArrayMap', 'nodes/CameraNode', 'utils/Vector2d'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ArrayMap'), require('nodes/CameraNode'), require('utils/Vector2d'));\r\n    } else {\r\n        factory(root.j2d.utils.ArrayMap, root.j2d.nodes.CameraNode, root.j2d.utils.Vector2d);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ArrayMap, CameraNode, Vector2d) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @param {{x: number, y: number, offsetX: number, offsetY: number}} screen\r\n     * @param {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} viewport\r\n     * @returns {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}}\r\n     */\r\n    var calculateScale = function (screen, viewport) {\r\n        var data = {\r\n            offset: {x: 0, y: 0},\r\n            size: {x: 0, y: 0},\r\n            scale: 1.0,\r\n            angle: viewport.angle\r\n        };\r\n\r\n        data.offset.x = screen.offsetX + viewport.offset.x;\r\n        data.offset.y = screen.offsetY + viewport.offset.y;\r\n\r\n        data.size.x = (screen.x < viewport.size.x) ? screen.x : viewport.size.x;\r\n        data.size.y = (screen.y < viewport.size.y) ? screen.y : viewport.size.y;\r\n\r\n        data.scale = viewport.scale * (((screen.x / viewport.size.x) + (screen.y / viewport.size.y)) / 2);\r\n        return data;\r\n    };\r\n\r\n    /**\r\n     * @class ViewportManager\r\n     * @exports module:core/ViewportManager\r\n     * \r\n     * @constructor\r\n     *\r\n     * @property {ArrayMap.<CameraNode>|CameraNode[]} cameras\r\n     * @property {string} camera\r\n     * @property {{x: number, y: number, offsetX: number, offsetY: number}} screen\r\n     * @property {boolean} init\r\n     * @property {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} data\r\n     */\r\n    var ViewportManager = function () {\r\n        /** @type ArrayMap.<CameraNode>|CameraNode[] */\r\n        this.cameras = new ArrayMap();\r\n\r\n        /** @type string */\r\n        this.camera = 'No active cameras';\r\n\r\n        /** @type {{x: number, y: number, offsetX: number, offsetY: number}} */\r\n        this.screen = {\r\n            x: 0,\r\n            y: 0,\r\n            offsetX: 0,\r\n            offsetY: 0\r\n        };\r\n\r\n        this.init = false;\r\n\r\n        this.data = {\r\n            offset: {x: 0.0, y: 0.0},\r\n            size: {x: 0.0, y: 0.0},\r\n            scale: 1.0,\r\n            angle: 0.0\r\n        };\r\n    };\r\n\r\n    /**\r\n     * @param {{x: number|undefined, y: number|undefined}|Array<number>} data\r\n     * @returns {ViewportManager}\r\n     */\r\n    ViewportManager.prototype.setScreen = function (data) {\r\n        if (typeof data == 'object') {\r\n            if (data instanceof Array && data.length == 2) {\r\n                this.screen = {\r\n                    x: data[0],\r\n                    y: data[1],\r\n                    offsetX: this.screen.offsetX,\r\n                    offsetY: this.screen.offsetY\r\n                };\r\n                return this;\r\n            }\r\n            if (data.x !== undefined && data.y !== undefined) {\r\n                this.screen = {\r\n                    x: data.x,\r\n                    y: data.y,\r\n                    offsetX: this.screen.offsetX,\r\n                    offsetY: this.screen.offsetY\r\n                };\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {{x: number|undefined, y: number|undefined}|Array<number>} data\r\n     * @returns {ViewportManager}\r\n     */\r\n    ViewportManager.prototype.setOffset = function (data) {\r\n        if (typeof data == 'object') {\r\n            if (data instanceof Array && data.length == 2) {\r\n                this.screen = {\r\n                    x: this.screen.x,\r\n                    y: this.screen.y,\r\n                    offsetX: data[0],\r\n                    offsetY: data[1]\r\n                };\r\n                return this;\r\n            }\r\n            if (data.x !== undefined && data.y !== undefined) {\r\n                this.screen = {\r\n                    x: this.screen.x,\r\n                    y: this.screen.y,\r\n                    offsetX: data.x,\r\n                    offsetY: data.y\r\n                };\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {string} key\r\n     * @param {CameraNode} node\r\n     * @returns {ViewportManager}\r\n     */\r\n    ViewportManager.prototype.addCamera = function (key, node) {\r\n        if (node instanceof CameraNode) {\r\n            this.cameras.add(key, node);\r\n            return this;\r\n        }\r\n        // throw new InvalidArgumentException('Unknown camera node type');\r\n    };\r\n\r\n    /**\r\n     * @param {string} key\r\n     * @returns {ViewportManager}\r\n     */\r\n    ViewportManager.prototype.removeCamera = function (key) {\r\n        this.cameras.remove(key);\r\n        if (this.camera == key) {\r\n            this.camera = 'No active cameras';\r\n            this.data = {\r\n                offset: {x: 0.0, y: 0.0},\r\n                size: {x: 0.0, y: 0.0},\r\n                scale: 1.0,\r\n                angle: 0.0\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {string} key\r\n     * @returns {ViewportManager}\r\n     */\r\n    ViewportManager.prototype.updateViewport = function (key) {\r\n        if (this.cameras[key] !== undefined && this.cameras[key] instanceof CameraNode) {\r\n            this.data = this.cameras[key].getCameraViewport(this.screen, calculateScale);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @deprecated Please use CameraNode\r\n     *\r\n     * @param {Vector2d|null} [offset]\r\n     * @param {Vector2d|null} [size]\r\n     * @returns {ViewportManager}\r\n     */\r\n    ViewportManager.prototype.setViewport = function (offset, size) {\r\n        if (offset !== undefined && typeof offset == 'object') {\r\n            if (offset instanceof Vector2d) {\r\n                this.data.offset = offset.getVector();\r\n            }\r\n        }\r\n\r\n        if (size !== undefined && typeof size == 'object') {\r\n            if (size instanceof Vector2d) {\r\n                this.data.size = size.getVector();\r\n            }\r\n        }\r\n\r\n        this.data = calculateScale(this.screen, this.data);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} viewport\r\n     * @returns {ViewportManager}\r\n     */\r\n    ViewportManager.prototype.setDefaultViewport = function (viewport) {\r\n        if (!this.init) {\r\n            this.data = viewport;\r\n            this.init = true;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}}\r\n     */\r\n    ViewportManager.prototype.getViewport = function () {\r\n        return this.data;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.ViewportManager = ViewportManager;\r\n    if (global.j2d !== undefined) global.j2d.core.ViewportManager = ViewportManager;\r\n    return ViewportManager;\r\n}));\r\n","/**\r\n *  WebGL-2D.js - HTML5 Canvas2D API in a WebGL context\r\n *\r\n *  Created by Corban Brook <corbanbrook@gmail.com> on 2011-03-02.\r\n *  Amended to by Bobby Richter <secretrobotron@gmail.com> on 2011-03-03\r\n *  CubicVR.js by Charles Cliffe <cj@cubicproductions.com> on 2011-03-03\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('core/WebGL2D', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    // Vector & Matrix libraries from CubicVR.js\r\n    var M_PI = 3.1415926535897932384626433832795028841968;\r\n    var M_TWO_PI = 2.0 * M_PI;\r\n    var M_HALF_PI = M_PI / 2.0;\r\n\r\n    function isPOT(value) {\r\n        return value > 0 && ((value - 1) & value) === 0;\r\n    }\r\n\r\n    var vec3 = {\r\n        length: function (pt) {\r\n            return Math.sqrt(pt[0] * pt[0] + pt[1] * pt[1] + pt[2] * pt[2]);\r\n        },\r\n\r\n        normalize: function (pt) {\r\n            var d = Math.sqrt((pt[0] * pt[0]) + (pt[1] * pt[1]) + (pt[2] * pt[2]));\r\n            if (d === 0) {\r\n                return [0, 0, 0];\r\n            }\r\n            return [pt[0] / d, pt[1] / d, pt[2] / d];\r\n        },\r\n\r\n        dot: function (v1, v2) {\r\n            return v1[0] * v2[0] + v1[1] * v2[1] + v1[2] * v2[2];\r\n        },\r\n\r\n        angle: function (v1, v2) {\r\n            return Math.acos((v1[0] * v2[0] + v1[1] * v2[1] + v1[2] * v2[2]) / (Math.sqrt(v1[0] * v1[0] + v1[1] * v1[1] + v1[2] * v1[2]) * Math.sqrt(v2[0] * v2[0] + v2[1] * v2[1] + v2[2] * v2[2])));\r\n        },\r\n\r\n        cross: function (vectA, vectB) {\r\n            return [vectA[1] * vectB[2] - vectB[1] * vectA[2], vectA[2] * vectB[0] - vectB[2] * vectA[0], vectA[0] * vectB[1] - vectB[0] * vectA[1]];\r\n        },\r\n\r\n        multiply: function (vectA, constB) {\r\n            return [vectA[0] * constB, vectA[1] * constB, vectA[2] * constB];\r\n        },\r\n\r\n        add: function (vectA, vectB) {\r\n            return [vectA[0] + vectB[0], vectA[1] + vectB[1], vectA[2] + vectB[2]];\r\n        },\r\n\r\n        subtract: function (vectA, vectB) {\r\n            return [vectA[0] - vectB[0], vectA[1] - vectB[1], vectA[2] - vectB[2]];\r\n        },\r\n\r\n        equal: function (a, b) {\r\n            var epsilon = 0.0000001;\r\n            if ((a === undefined) && (b === undefined)) {\r\n                return true;\r\n            }\r\n            if ((a === undefined) || (b === undefined)) {\r\n                return false;\r\n            }\r\n            return (Math.abs(a[0] - b[0]) < epsilon && Math.abs(a[1] - b[1]) < epsilon && Math.abs(a[2] - b[2]) < epsilon);\r\n        }\r\n    };\r\n\r\n    var mat3 = {\r\n        identity: [1.0, 0.0, 0.0,\r\n            0.0, 1.0, 0.0,\r\n            0.0, 0.0, 1.0],\r\n\r\n        multiply: function (m1, m2) {\r\n            var m10 = m1[0], m11 = m1[1], m12 = m1[2], m13 = m1[3], m14 = m1[4], m15 = m1[5], m16 = m1[6], m17 = m1[7], m18 = m1[8],\r\n                m20 = m2[0], m21 = m2[1], m22 = m2[2], m23 = m2[3], m24 = m2[4], m25 = m2[5], m26 = m2[6], m27 = m2[7], m28 = m2[8];\r\n\r\n            m2[0] = m20 * m10 + m23 * m11 + m26 * m12;\r\n            m2[1] = m21 * m10 + m24 * m11 + m27 * m12;\r\n            m2[2] = m22 * m10 + m25 * m11 + m28 * m12;\r\n            m2[3] = m20 * m13 + m23 * m14 + m26 * m15;\r\n            m2[4] = m21 * m13 + m24 * m14 + m27 * m15;\r\n            m2[5] = m22 * m13 + m25 * m14 + m28 * m15;\r\n            m2[6] = m20 * m16 + m23 * m17 + m26 * m18;\r\n            m2[7] = m21 * m16 + m24 * m17 + m27 * m18;\r\n            m2[8] = m22 * m16 + m25 * m17 + m28 * m18;\r\n        },\r\n\r\n        vec2_multiply: function (m1, m2) {\r\n            var mOut = [];\r\n            mOut[0] = m2[0] * m1[0] + m2[3] * m1[1] + m2[6];\r\n            mOut[1] = m2[1] * m1[0] + m2[4] * m1[1] + m2[7];\r\n            return mOut;\r\n        },\r\n\r\n        transpose: function (m) {\r\n            return [m[0], m[3], m[6], m[1], m[4], m[7], m[2], m[5], m[8]];\r\n        }\r\n    }; //mat3\r\n\r\n    // Transform library from CubicVR.js\r\n    function Transform(mat) {\r\n        return this.clearStack(mat);\r\n    }\r\n\r\n    var STACK_DEPTH_LIMIT = 16;\r\n\r\n    Transform.prototype.clearStack = function (init_mat) {\r\n        this.m_stack = [];\r\n        this.m_cache = [];\r\n        this.c_stack = 0;\r\n        this.valid = 0;\r\n        this.result = null;\r\n\r\n        for (var i = 0; i < STACK_DEPTH_LIMIT; i++) {\r\n            this.m_stack[i] = this.getIdentity();\r\n        }\r\n\r\n        if (init_mat !== undefined) {\r\n            this.m_stack[0] = init_mat;\r\n        } else {\r\n            this.setIdentity();\r\n        }\r\n    }; //clearStack\r\n\r\n    Transform.prototype.setIdentity = function () {\r\n        this.m_stack[this.c_stack] = this.getIdentity();\r\n        if (this.valid === this.c_stack && this.c_stack) {\r\n            this.valid--;\r\n        }\r\n    };\r\n\r\n    Transform.prototype.getIdentity = function () {\r\n        return [1.0, 0.0, 0.0,\r\n            0.0, 1.0, 0.0,\r\n            0.0, 0.0, 1.0];\r\n    };\r\n\r\n    Transform.prototype.getResult = function () {\r\n        if (!this.c_stack) {\r\n            return this.m_stack[0];\r\n        }\r\n\r\n        var m = mat3.identity;\r\n\r\n        if (this.valid > this.c_stack - 1) {\r\n            this.valid = this.c_stack - 1;\r\n        }\r\n\r\n        for (var i = this.valid; i < this.c_stack + 1; i++) {\r\n            m = mat3.multiply(this.m_stack[i], m);\r\n            this.m_cache[i] = m;\r\n        }\r\n\r\n        this.valid = this.c_stack - 1;\r\n\r\n        this.result = this.m_cache[this.c_stack];\r\n\r\n        return this.result;\r\n    };\r\n\r\n    Transform.prototype.pushMatrix = function () {\r\n        this.c_stack++;\r\n        this.m_stack[this.c_stack] = this.getIdentity();\r\n    };\r\n\r\n    Transform.prototype.popMatrix = function () {\r\n        if (this.c_stack === 0) {\r\n            return;\r\n        }\r\n        this.c_stack--;\r\n    };\r\n\r\n    var translateMatrix = Transform.prototype.getIdentity();\r\n\r\n    Transform.prototype.translate = function (x, y) {\r\n        translateMatrix[6] = x;\r\n        translateMatrix[7] = y;\r\n\r\n        mat3.multiply(translateMatrix, this.m_stack[this.c_stack]);\r\n\r\n        /*\r\n         if (this.valid === this.c_stack && this.c_stack) {\r\n         this.valid--;\r\n         }\r\n         */\r\n    };\r\n\r\n    var trMatrix = Transform.prototype.getIdentity();\r\n\r\n    Transform.prototype.tr = function (a, b, c, d, e, f) {\r\n        trMatrix[0] = a;\r\n        trMatrix[1] = b;\r\n        trMatrix[3] = c;\r\n        trMatrix[4] = d;\r\n        trMatrix[6] = e;\r\n        trMatrix[7] = f;\r\n\r\n        mat3.multiply(trMatrix, this.m_stack[this.c_stack]);\r\n    };\r\n\r\n    var scaleMatrix = Transform.prototype.getIdentity();\r\n\r\n    Transform.prototype.scale = function (x, y) {\r\n        scaleMatrix[0] = x;\r\n        scaleMatrix[4] = y;\r\n\r\n        mat3.multiply(scaleMatrix, this.m_stack[this.c_stack]);\r\n\r\n        /*\r\n         if (this.valid === this.c_stack && this.c_stack) {\r\n         this.valid--;\r\n         }\r\n         */\r\n    };\r\n\r\n    var rotateMatrix = Transform.prototype.getIdentity();\r\n\r\n    Transform.prototype.rotate = function (ang) {\r\n        var sAng, cAng;\r\n\r\n        sAng = Math.sin(-ang);\r\n        cAng = Math.cos(-ang);\r\n\r\n        rotateMatrix[0] = cAng;\r\n        rotateMatrix[3] = sAng;\r\n        rotateMatrix[1] = -sAng;\r\n        rotateMatrix[4] = cAng;\r\n\r\n        mat3.multiply(rotateMatrix, this.m_stack[this.c_stack]);\r\n\r\n        /*\r\n         if (this.valid === this.c_stack && this.c_stack) {\r\n         this.valid--;\r\n         }\r\n         */\r\n    };\r\n    \r\n    /**\r\n     * @class WebGL2D\r\n     * @exports module:core/WebGL2D\r\n     *\r\n     * @type {global.WebGL2D}\r\n     */\r\n    var WebGL2D = global.WebGL2D = function WebGL2D(canvas, options) {\r\n        this.canvas = canvas;\r\n        this.options = options || {};\r\n        this.gl = undefined;\r\n        this.fs = undefined;\r\n        this.vs = undefined;\r\n        this.shaderProgram = undefined;\r\n        this.transform = new Transform();\r\n        this.shaderPool = [];\r\n        this.maxTextureSize = undefined;\r\n\r\n        // Save a reference to the WebGL2D instance on the canvas object\r\n        canvas.gl2d = this;\r\n\r\n        // Store getContext function for later use\r\n        canvas.$getContext = canvas.getContext;\r\n\r\n        // Override getContext function with \"webgl-2d\" enabled version\r\n        canvas.getContext = (function (gl2d) {\r\n            return function (context) {\r\n                if ((gl2d.options.force || context === \"WebGL-2d\") && !(canvas.width === 0 || canvas.height === 0)) {\r\n                    if (gl2d.gl) {\r\n                        return gl2d.gl;\r\n                    }\r\n\r\n                    var gl = gl2d.gl = gl2d.canvas.$getContext(\"experimental-webgl\");\r\n\r\n                    // If we failed to get a WebGL context, return a normal 2D context instead.\r\n                    if ((typeof (gl) === \"undefined\") || (gl === null)) {\r\n                        return gl2d.canvas.$getContext(\"2d\");\r\n                    }\r\n\r\n                    gl2d.initShaders();\r\n                    gl2d.initBuffers();\r\n\r\n                    // Append Canvas2D API features to the WebGL context\r\n                    gl2d.initCanvas2DAPI();\r\n\r\n                    // Disables writing to dest-alpha\r\n                    // gl.colorMask(1,1,1,0)\r\n\r\n                    // Depth options\r\n                    //gl.enable(gl.DEPTH_TEST);\r\n                    //gl.depthFunc(gl.LEQUAL);\r\n\r\n                    // Blending options\r\n                    // See http://stackoverflow.com/questions/11521035/blending-with-html-background-in-webgl\r\n                    gl.enable(gl.BLEND);\r\n                    gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\r\n\r\n                    gl2d.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\r\n\r\n                    return gl;\r\n                } else {\r\n                    return gl2d.canvas.$getContext(context);\r\n                }\r\n            };\r\n        }(this));\r\n\r\n        this.postInit();\r\n    };\r\n\r\n    // Enables WebGL2D on your canvas\r\n    WebGL2D.enable = function (canvas, options) {\r\n        return canvas.gl2d || new WebGL2D(canvas, options);\r\n    };\r\n\r\n\r\n    // Shader Pool BitMasks, i.e. sMask = (shaderMask.texture+shaderMask.stroke)\r\n    var shaderMask = {\r\n        texture: 1,\r\n        crop: 2,\r\n        path: 4\r\n    };\r\n\r\n\r\n    // Fragment shader source\r\n    WebGL2D.prototype.getFragmentShaderSource = function getFragmentShaderSource(sMask) {\r\n        var fsSource = [\r\n            \"#ifdef GL_ES\",\r\n            \"precision highp float;\",\r\n            \"#endif\",\r\n\r\n            \"#define hasTexture \" + ((sMask & shaderMask.texture) ? \"1\" : \"0\"),\r\n            \"#define hasCrop \" + ((sMask & shaderMask.crop) ? \"1\" : \"0\"),\r\n\r\n            \"varying vec4 vColor;\",\r\n\r\n            \"#if hasTexture\",\r\n            \"varying vec2 vTextureCoord;\",\r\n            \"uniform sampler2D uSampler;\",\r\n            \"#if hasCrop\",\r\n            \"uniform vec4 uCropSource;\",\r\n            \"#endif\",\r\n            \"#endif\",\r\n\r\n            \"void main(void) {\",\r\n            \"#if hasTexture\",\r\n            \"#if hasCrop\",\r\n            \"gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x * uCropSource.z, vTextureCoord.y * uCropSource.w) + uCropSource.xy);\",\r\n            \"#else\",\r\n            \"gl_FragColor = texture2D(uSampler, vTextureCoord);\",\r\n            \"#endif\",\r\n            \"#else\",\r\n            \"gl_FragColor = vColor;\",\r\n            \"#endif\",\r\n            \"}\"\r\n        ].join(\"\\n\");\r\n\r\n        return fsSource;\r\n    };\r\n\r\n    WebGL2D.prototype.getVertexShaderSource = function getVertexShaderSource(stackDepth, sMask) {\r\n        stackDepth = stackDepth || 1;\r\n\r\n        var vsSource = [\r\n            \"#define hasTexture \" + ((sMask & shaderMask.texture) ? \"1\" : \"0\"),\r\n            \"attribute vec4 aVertexPosition;\",\r\n\r\n            \"#if hasTexture\",\r\n            \"varying vec2 vTextureCoord;\",\r\n            \"#endif\",\r\n\r\n            \"uniform vec4 uColor;\",\r\n            \"uniform mat3 uTransforms[\" + stackDepth + \"];\",\r\n\r\n            \"varying vec4 vColor;\",\r\n\r\n            \"uniform mat4 pMatrix;\",\r\n\r\n            \"mat3 crunchStack(void) {\",\r\n            \"mat3 result = uTransforms[0];\",\r\n            \"for (int i = 1; i < \" + stackDepth + \"; ++i) {\",\r\n            \"result = uTransforms[i] * result;\",\r\n            \"}\",\r\n            \"return result;\",\r\n            \"}\",\r\n\r\n            \"void main(void) {\",\r\n            \"vec3 position = crunchStack() * vec3(aVertexPosition.x, aVertexPosition.y, 1.0);\",\r\n            \"gl_Position = pMatrix * vec4(position, 1.0);\",\r\n            \"vColor = uColor;\",\r\n            \"#if hasTexture\",\r\n            \"vTextureCoord = aVertexPosition.zw;\",\r\n            \"#endif\",\r\n            \"}\"\r\n        ].join(\"\\n\");\r\n        return vsSource;\r\n    };\r\n\r\n\r\n    // Initialize fragment and vertex shaders\r\n    WebGL2D.prototype.initShaders = function initShaders(transformStackDepth, sMask) {\r\n        var gl = this.gl;\r\n\r\n        transformStackDepth = transformStackDepth || 1;\r\n        sMask = sMask || 0;\r\n        var storedShader = this.shaderPool[transformStackDepth];\r\n\r\n        if (!storedShader) {\r\n            storedShader = this.shaderPool[transformStackDepth] = [];\r\n        }\r\n        storedShader = storedShader[sMask];\r\n\r\n        if (storedShader) {\r\n            gl.useProgram(storedShader);\r\n            this.shaderProgram = storedShader;\r\n        } else {\r\n            var fs = this.fs = gl.createShader(gl.FRAGMENT_SHADER);\r\n            gl.shaderSource(this.fs, this.getFragmentShaderSource(sMask));\r\n            gl.compileShader(this.fs);\r\n\r\n            if (!gl.getShaderParameter(this.fs, gl.COMPILE_STATUS)) {\r\n                throw \"fragment shader error: \" + gl.getShaderInfoLog(this.fs);\r\n            }\r\n\r\n            var vs = this.vs = gl.createShader(gl.VERTEX_SHADER);\r\n            gl.shaderSource(this.vs, this.getVertexShaderSource(transformStackDepth, sMask));\r\n            gl.compileShader(this.vs);\r\n\r\n            if (!gl.getShaderParameter(this.vs, gl.COMPILE_STATUS)) {\r\n                throw \"vertex shader error: \" + gl.getShaderInfoLog(this.vs);\r\n            }\r\n\r\n\r\n            var shaderProgram = this.shaderProgram = gl.createProgram();\r\n            shaderProgram.stackDepth = transformStackDepth;\r\n            gl.attachShader(shaderProgram, fs);\r\n            gl.attachShader(shaderProgram, vs);\r\n            gl.linkProgram(shaderProgram);\r\n\r\n            if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\r\n                throw \"Could not initialise shaders.\";\r\n            }\r\n\r\n            gl.useProgram(shaderProgram);\r\n\r\n            shaderProgram.vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"aVertexPosition\");\r\n            gl.enableVertexAttribArray(shaderProgram.vertexPositionAttribute);\r\n\r\n            shaderProgram.uColor = gl.getUniformLocation(shaderProgram, 'uColor');\r\n            shaderProgram.uSampler = gl.getUniformLocation(shaderProgram, 'uSampler');\r\n            shaderProgram.uCropSource = gl.getUniformLocation(shaderProgram, 'uCropSource');\r\n\r\n            shaderProgram.pMatrix = gl.getUniformLocation(shaderProgram, 'pMatrix');\r\n\r\n            shaderProgram.uTransforms = [];\r\n            for (var i = 0; i < transformStackDepth; ++i) {\r\n                shaderProgram.uTransforms[i] = gl.getUniformLocation(shaderProgram, 'uTransforms[' + i + ']');\r\n            } //for\r\n            this.shaderPool[transformStackDepth][sMask] = shaderProgram;\r\n        } //if\r\n\r\n        pMatrix[0] = 2 / this.canvas.width;\r\n        pMatrix[5] = -2 / this.canvas.height;\r\n\r\n        gl.uniformMatrix4fv(this.shaderProgram.pMatrix, false, pMatrix);\r\n\r\n        gl.viewport(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n        return this.shaderProgram;\r\n    };\r\n\r\n    // 2D Vertices and Texture UV coords\r\n    var rectVerts = new Float32Array([\r\n        0, 0, 0, 0,\r\n        0, 1, 0, 1,\r\n        1, 1, 1, 1,\r\n        1, 0, 1, 0\r\n    ]);\r\n\r\n    var pMatrix = new Float32Array(16);\r\n    pMatrix[10] = 1;\r\n    pMatrix[11] = 1;\r\n    pMatrix[12] = -1;\r\n    pMatrix[13] = 1;\r\n\r\n    WebGL2D.prototype.initBuffers = function initBuffers() {\r\n        var gl = this.gl;\r\n\r\n        gl.rectVertexPositionBuffer = gl.createBuffer();\r\n        gl.rectVertexColorBuffer = gl.createBuffer();\r\n\r\n        gl.pathVertexPositionBuffer = gl.createBuffer();\r\n        gl.pathVertexColorBuffer = gl.createBuffer();\r\n\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, gl.rectVertexPositionBuffer);\r\n        gl.bufferData(gl.ARRAY_BUFFER, rectVerts, gl.STATIC_DRAW);\r\n    };\r\n\r\n    // Maintains an array of all WebGL2D instances\r\n    WebGL2D.instances = [];\r\n\r\n    WebGL2D.prototype.postInit = function () {\r\n        WebGL2D.instances.push(this);\r\n    };\r\n\r\n    // Extends gl context with Canvas2D API\r\n    WebGL2D.prototype.initCanvas2DAPI = function initCanvas2DAPI() {\r\n        var gl2d = this,\r\n            gl = this.gl;\r\n\r\n\r\n        // Rendering Canvas for text fonts\r\n        var textCanvas = document.createElement(\"canvas\");\r\n        textCanvas.width = gl2d.canvas.width;\r\n        textCanvas.height = gl2d.canvas.height;\r\n        var textCtx = textCanvas.getContext(\"2d\");\r\n\r\n        var reRGBAColor = /^rgb(a)?\\(\\s*(-?[\\d]+)(%)?\\s*,\\s*(-?[\\d]+)(%)?\\s*,\\s*(-?[\\d]+)(%)?\\s*,?\\s*(-?[\\d\\.]+)?\\s*\\)$/;\r\n        var reHSLAColor = /^hsl(a)?\\(\\s*(-?[\\d\\.]+)\\s*,\\s*(-?[\\d\\.]+)%\\s*,\\s*(-?[\\d\\.]+)%\\s*,?\\s*(-?[\\d\\.]+)?\\s*\\)$/;\r\n        var reHex6Color = /^#([0-9A-Fa-f]{6})$/;\r\n        var reHex3Color = /^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/;\r\n\r\n        function hue2rgb(p, q, t) {\r\n            if (t < 0) t += 1;\r\n            if (t > 1) t -= 1;\r\n            if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n            if (t < 1 / 2) return q;\r\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n            return p;\r\n        }\r\n\r\n        // http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\r\n        function HSLAToRGBA(h, s, l, a) {\r\n            var r, g, b, p, q;\r\n\r\n            // Clamp and Normalize values\r\n            h = (((h % 360) + 360) % 360) / 360;\r\n            s = s > 100 ? 1 : s / 100;\r\n            s = s < 0 ? 0 : s;\r\n            l = l > 100 ? 1 : l / 100;\r\n            l = l < 0 ? 0 : l;\r\n\r\n            if (s == 0) {\r\n                r = g = b = l; // achromatic\r\n            } else {\r\n                q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n                p = 2 * l - q;\r\n\r\n                r = hue2rgb(p, q, h + 1 / 3);\r\n                g = hue2rgb(p, q, h);\r\n                b = hue2rgb(p, q, h - 1 / 3);\r\n            }\r\n\r\n            return [r, g, b, a];\r\n        }\r\n\r\n\r\n        // Converts rgb(a) color string to gl color vector\r\n        function colorStringToVec4(value) {\r\n            var result = [], match, channel, isPercent, hasAlpha, alphaChannel, sameType;\r\n\r\n            if ((match = reRGBAColor.exec(value))) {\r\n                hasAlpha = match[1], alphaChannel = parseFloat(match[8]);\r\n\r\n                if ((hasAlpha && isNaN(alphaChannel)) || (!hasAlpha && !isNaN(alphaChannel))) {\r\n                    return false;\r\n                }\r\n\r\n                sameType = match[3];\r\n\r\n                for (var i = 2; i < 8; i += 2) {\r\n                    channel = match[i], isPercent = match[i + 1];\r\n\r\n                    if (isPercent !== sameType) {\r\n                        return false;\r\n                    }\r\n\r\n                    // Clamp and normalize values\r\n                    if (isPercent) {\r\n                        channel = channel > 100 ? 1 : channel / 100;\r\n                        channel = channel < 0 ? 0 : channel;\r\n                    } else {\r\n                        channel = channel > 255 ? 1 : channel / 255;\r\n                        channel = channel < 0 ? 0 : channel;\r\n                    }\r\n\r\n                    result.push(channel);\r\n                }\r\n\r\n                result.push(hasAlpha ? alphaChannel : 1.0);\r\n            } else if ((match = reHSLAColor.exec(value))) {\r\n                hasAlpha = match[1], alphaChannel = parseFloat(match[5]);\r\n                result = HSLAToRGBA(match[2], match[3], match[4], parseFloat(hasAlpha && alphaChannel ? alphaChannel : 1.0));\r\n            } else if ((match = reHex6Color.exec(value))) {\r\n                var colorInt = parseInt(match[1], 16);\r\n                result = [((colorInt & 0xFF0000) >> 16) / 255, ((colorInt & 0x00FF00) >> 8) / 255, (colorInt & 0x0000FF) / 255, 1.0];\r\n            } else if ((match = reHex3Color.exec(value))) {\r\n                var hexString = \"#\" + [match[1], match[1], match[2], match[2], match[3], match[3]].join(\"\");\r\n                result = colorStringToVec4(hexString);\r\n            } else if (value.toLowerCase() in colorKeywords) {\r\n                result = colorStringToVec4(colorKeywords[value.toLowerCase()]);\r\n            } else if (value.toLowerCase() === \"transparent\") {\r\n                result = [0, 0, 0, 0];\r\n            } else {\r\n                // Color keywords not yet implemented, ie \"orange\", return hot pink\r\n                return false;\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        function colorVecToString(vec4) {\r\n            return \"rgba(\" + (vec4[0] * 255) + \", \" + (vec4[1] * 255) + \", \" + (vec4[2] * 255) + \", \" + parseFloat(vec4[3]) + \")\";\r\n        }\r\n\r\n        var colorKeywords = {\r\n            aliceblue: \"#f0f8ff\",\r\n            antiquewhite: \"#faebd7\",\r\n            aqua: \"#00ffff\",\r\n            aquamarine: \"#7fffd4\",\r\n            azure: \"#f0ffff\",\r\n            beige: \"#f5f5dc\",\r\n            bisque: \"#ffe4c4\",\r\n            black: \"#000000\",\r\n            blanchedalmond: \"#ffebcd\",\r\n            blue: \"#0000ff\",\r\n            blueviolet: \"#8a2be2\",\r\n            brown: \"#a52a2a\",\r\n            burlywood: \"#deb887\",\r\n            cadetblue: \"#5f9ea0\",\r\n            chartreuse: \"#7fff00\",\r\n            chocolate: \"#d2691e\",\r\n            coral: \"#ff7f50\",\r\n            cornflowerblue: \"#6495ed\",\r\n            cornsilk: \"#fff8dc\",\r\n            crimson: \"#dc143c\",\r\n            cyan: \"#00ffff\",\r\n            darkblue: \"#00008b\",\r\n            darkcyan: \"#008b8b\",\r\n            darkgoldenrod: \"#b8860b\",\r\n            darkgray: \"#a9a9a9\",\r\n            darkgreen: \"#006400\",\r\n            darkkhaki: \"#bdb76b\",\r\n            darkmagenta: \"#8b008b\",\r\n            darkolivegreen: \"#556b2f\",\r\n            darkorange: \"#ff8c00\",\r\n            darkorchid: \"#9932cc\",\r\n            darkred: \"#8b0000\",\r\n            darksalmon: \"#e9967a\",\r\n            darkseagreen: \"#8fbc8f\",\r\n            darkslateblue: \"#483d8b\",\r\n            darkslategray: \"#2f4f4f\",\r\n            darkturquoise: \"#00ced1\",\r\n            darkviolet: \"#9400d3\",\r\n            deeppink: \"#ff1493\",\r\n            deepskyblue: \"#00bfff\",\r\n            dimgray: \"#696969\",\r\n            dodgerblue: \"#1e90ff\",\r\n            firebrick: \"#b22222\",\r\n            floralwhite: \"#fffaf0\",\r\n            forestgreen: \"#228b22\",\r\n            fuchsia: \"#ff00ff\",\r\n            gainsboro: \"#dcdcdc\",\r\n            ghostwhite: \"#f8f8ff\",\r\n            gold: \"#ffd700\",\r\n            goldenrod: \"#daa520\",\r\n            gray: \"#808080\",\r\n            green: \"#008000\",\r\n            greenyellow: \"#adff2f\",\r\n            grey: \"#808080\",\r\n            honeydew: \"#f0fff0\",\r\n            hotpink: \"#ff69b4\",\r\n            indianred: \"#cd5c5c\",\r\n            indigo: \"#4b0082\",\r\n            ivory: \"#fffff0\",\r\n            khaki: \"#f0e68c\",\r\n            lavender: \"#e6e6fa\",\r\n            lavenderblush: \"#fff0f5\",\r\n            lawngreen: \"#7cfc00\",\r\n            lemonchiffon: \"#fffacd\",\r\n            lightblue: \"#add8e6\",\r\n            lightcoral: \"#f08080\",\r\n            lightcyan: \"#e0ffff\",\r\n            lightgoldenrodyellow: \"#fafad2\",\r\n            lightgrey: \"#d3d3d3\",\r\n            lightgreen: \"#90ee90\",\r\n            lightpink: \"#ffb6c1\",\r\n            lightsalmon: \"#ffa07a\",\r\n            lightseagreen: \"#20b2aa\",\r\n            lightskyblue: \"#87cefa\",\r\n            lightslategray: \"#778899\",\r\n            lightsteelblue: \"#b0c4de\",\r\n            lightyellow: \"#ffffe0\",\r\n            lime: \"#00ff00\",\r\n            limegreen: \"#32cd32\",\r\n            linen: \"#faf0e6\",\r\n            magenta: \"#ff00ff\",\r\n            maroon: \"#800000\",\r\n            mediumaquamarine: \"#66cdaa\",\r\n            mediumblue: \"#0000cd\",\r\n            mediumorchid: \"#ba55d3\",\r\n            mediumpurple: \"#9370d8\",\r\n            mediumseagreen: \"#3cb371\",\r\n            mediumslateblue: \"#7b68ee\",\r\n            mediumspringgreen: \"#00fa9a\",\r\n            mediumturquoise: \"#48d1cc\",\r\n            mediumvioletred: \"#c71585\",\r\n            midnightblue: \"#191970\",\r\n            mintcream: \"#f5fffa\",\r\n            mistyrose: \"#ffe4e1\",\r\n            moccasin: \"#ffe4b5\",\r\n            navajowhite: \"#ffdead\",\r\n            navy: \"#000080\",\r\n            oldlace: \"#fdf5e6\",\r\n            olive: \"#808000\",\r\n            olivedrab: \"#6b8e23\",\r\n            orange: \"#ffa500\",\r\n            orangered: \"#ff4500\",\r\n            orchid: \"#da70d6\",\r\n            palegoldenrod: \"#eee8aa\",\r\n            palegreen: \"#98fb98\",\r\n            paleturquoise: \"#afeeee\",\r\n            palevioletred: \"#d87093\",\r\n            papayawhip: \"#ffefd5\",\r\n            peachpuff: \"#ffdab9\",\r\n            peru: \"#cd853f\",\r\n            pink: \"#ffc0cb\",\r\n            plum: \"#dda0dd\",\r\n            powderblue: \"#b0e0e6\",\r\n            purple: \"#800080\",\r\n            red: \"#ff0000\",\r\n            rosybrown: \"#bc8f8f\",\r\n            royalblue: \"#4169e1\",\r\n            saddlebrown: \"#8b4513\",\r\n            salmon: \"#fa8072\",\r\n            sandybrown: \"#f4a460\",\r\n            seagreen: \"#2e8b57\",\r\n            seashell: \"#fff5ee\",\r\n            sienna: \"#a0522d\",\r\n            silver: \"#c0c0c0\",\r\n            skyblue: \"#87ceeb\",\r\n            slateblue: \"#6a5acd\",\r\n            slategray: \"#708090\",\r\n            snow: \"#fffafa\",\r\n            springgreen: \"#00ff7f\",\r\n            steelblue: \"#4682b4\",\r\n            tan: \"#d2b48c\",\r\n            teal: \"#008080\",\r\n            thistle: \"#d8bfd8\",\r\n            tomato: \"#ff6347\",\r\n            turquoise: \"#40e0d0\",\r\n            violet: \"#ee82ee\",\r\n            wheat: \"#f5deb3\",\r\n            white: \"#ffffff\",\r\n            whitesmoke: \"#f5f5f5\",\r\n            yellow: \"#ffff00\",\r\n            yellowgreen: \"#9acd32\"\r\n        };\r\n\r\n        // Maintain drawing state params during gl.save and gl.restore. see saveDrawState() and restoreDrawState()\r\n        var drawState = {}, drawStateStack = [];\r\n\r\n        // A fast simple shallow clone\r\n        function cloneObject(obj) {\r\n            var target = {};\r\n            for (var i in obj) {\r\n                if (obj.hasOwnProperty(i)) {\r\n                    target[i] = obj[i];\r\n                }\r\n            }\r\n            return target;\r\n        }\r\n\r\n        function saveDrawState() {\r\n            var bakedDrawState = {\r\n                fillStyle: [drawState.fillStyle[0], drawState.fillStyle[1], drawState.fillStyle[2], drawState.fillStyle[3]],\r\n                strokeStyle: [drawState.strokeStyle[0], drawState.strokeStyle[1], drawState.strokeStyle[2], drawState.strokeStyle[3]],\r\n                globalAlpha: drawState.globalAlpha,\r\n                globalCompositeOperation: drawState.globalCompositeOperation,\r\n                lineCap: drawState.lineCap,\r\n                lineJoin: drawState.lineJoin,\r\n                lineWidth: drawState.lineWidth,\r\n                miterLimit: drawState.miterLimit,\r\n                shadowColor: drawState.shadowColor,\r\n                shadowBlur: drawState.shadowBlur,\r\n                shadowOffsetX: drawState.shadowOffsetX,\r\n                shadowOffsetY: drawState.shadowOffsetY,\r\n                textAlign: drawState.textAlign,\r\n                font: drawState.font,\r\n                textBaseline: drawState.textBaseline,\r\n                imageSmoothingEnabled: drawState.imageSmoothingEnabled\r\n            };\r\n\r\n            drawStateStack.push(bakedDrawState);\r\n        }\r\n\r\n        function restoreDrawState() {\r\n            if (drawStateStack.length) {\r\n                drawState = drawStateStack.pop();\r\n            }\r\n        }\r\n\r\n        // WebGL requires colors as a vector while Canvas2D sets colors as an rgba string\r\n        // These getters and setters store the original rgba string as well as convert to a vector\r\n        drawState.fillStyle = [0, 0, 0, 1]; // default black\r\n\r\n        Object.defineProperty(gl, \"fillStyle\", {\r\n            get: function () {\r\n                return colorVecToString(drawState.fillStyle);\r\n            },\r\n            set: function (value) {\r\n                drawState.fillStyle = colorStringToVec4(value) || drawState.fillStyle;\r\n            }\r\n        });\r\n\r\n        drawState.strokeStyle = [0, 0, 0, 1]; // default black\r\n\r\n        Object.defineProperty(gl, \"strokeStyle\", {\r\n            get: function () {\r\n                return colorVecToString(drawState.strokeStyle);\r\n            },\r\n            set: function (value) {\r\n                drawState.strokeStyle = colorStringToVec4(value) || drawStyle.strokeStyle;\r\n            }\r\n        });\r\n\r\n        // WebGL already has a lineWidth() function but Canvas2D requires a lineWidth property\r\n        // Store the original lineWidth() function for later use\r\n        gl.$lineWidth = gl.lineWidth;\r\n        drawState.lineWidth = 1.0;\r\n\r\n        Object.defineProperty(gl, \"lineWidth\", {\r\n            get: function () {\r\n                return drawState.lineWidth;\r\n            },\r\n            set: function (value) {\r\n                if (value > 0) {\r\n                    gl.$lineWidth(value);\r\n                    drawState.lineWidth = value;\r\n                }\r\n            }\r\n        });\r\n\r\n        // Currently unsupported attributes and their default values\r\n        drawState.lineCap = \"butt\";\r\n\r\n        Object.defineProperty(gl, \"lineCap\", {\r\n            get: function () {\r\n                return drawState.lineCap;\r\n            },\r\n            set: function (value) {\r\n                drawState.lineCap = value;\r\n            }\r\n        });\r\n\r\n        drawState.lineJoin = \"miter\";\r\n\r\n        Object.defineProperty(gl, \"lineJoin\", {\r\n            get: function () {\r\n                return drawState.lineJoin;\r\n            },\r\n            set: function (value) {\r\n                drawState.lineJoin = value;\r\n            }\r\n        });\r\n\r\n        drawState.miterLimit = 10;\r\n\r\n        Object.defineProperty(gl, \"miterLimit\", {\r\n            get: function () {\r\n                return drawState.miterLimit;\r\n            },\r\n            set: function (value) {\r\n                drawState.miterLimit = value;\r\n            }\r\n        });\r\n\r\n        drawState.shadowOffsetX = 0;\r\n\r\n        Object.defineProperty(gl, \"shadowOffsetX\", {\r\n            get: function () {\r\n                return drawState.shadowOffsetX;\r\n            },\r\n            set: function (value) {\r\n                drawState.shadowOffsetX = value;\r\n            }\r\n        });\r\n\r\n        drawState.shadowOffsetY = 0;\r\n\r\n        Object.defineProperty(gl, \"shadowOffsetY\", {\r\n            get: function () {\r\n                return drawState.shadowOffsetY;\r\n            },\r\n            set: function (value) {\r\n                drawState.shadowOffsetY = value;\r\n            }\r\n        });\r\n\r\n        drawState.shadowBlur = 0;\r\n\r\n        Object.defineProperty(gl, \"shadowBlur\", {\r\n            get: function () {\r\n                return drawState.shadowBlur;\r\n            },\r\n            set: function (value) {\r\n                drawState.shadowBlur = value;\r\n            }\r\n        });\r\n\r\n        drawState.shadowColor = \"rgba(0, 0, 0, 0.0)\";\r\n\r\n        Object.defineProperty(gl, \"shadowColor\", {\r\n            get: function () {\r\n                return drawState.shadowColor;\r\n            },\r\n            set: function (value) {\r\n                drawState.shadowColor = value;\r\n            }\r\n        });\r\n\r\n        drawState.font = \"10px sans-serif\";\r\n\r\n        Object.defineProperty(gl, \"font\", {\r\n            get: function () {\r\n                return drawState.font;\r\n            },\r\n            set: function (value) {\r\n                textCtx.font = value;\r\n                drawState.font = value;\r\n            }\r\n        });\r\n\r\n        drawState.textAlign = \"start\";\r\n\r\n        Object.defineProperty(gl, \"textAlign\", {\r\n            get: function () {\r\n                return drawState.textAlign;\r\n            },\r\n            set: function (value) {\r\n                drawState.textAlign = value;\r\n            }\r\n        });\r\n\r\n        drawState.textBaseline = \"alphabetic\";\r\n\r\n        Object.defineProperty(gl, \"textBaseline\", {\r\n            get: function () {\r\n                return drawState.textBaseline;\r\n            },\r\n            set: function (value) {\r\n                drawState.textBaseline = value;\r\n            }\r\n        });\r\n\r\n        // This attribute will need to control global alpha of objects drawn.\r\n        drawState.globalAlpha = 1.0;\r\n\r\n        Object.defineProperty(gl, \"globalAlpha\", {\r\n            get: function () {\r\n                return drawState.globalAlpha;\r\n            },\r\n            set: function (value) {\r\n                drawState.globalAlpha = value;\r\n            }\r\n        });\r\n\r\n        // This attribute will need to control smoothing of objects drawn.\r\n        drawState.imageSmoothingEnabled = true;\r\n\r\n        Object.defineProperty(gl, \"imageSmoothingEnabled\", {\r\n            get: function () {\r\n                return drawState.imageSmoothingEnabled;\r\n            },\r\n            set: function (value) {\r\n                drawState.imageSmoothingEnabled = !!value;\r\n            }\r\n        });\r\n\r\n        // This attribute will need to set the gl.blendFunc mode\r\n        drawState.globalCompositeOperation = \"source-over\";\r\n\r\n        Object.defineProperty(gl, \"globalCompositeOperation\", {\r\n            get: function () {\r\n                return drawState.globalCompositeOperation;\r\n            },\r\n            set: function (value) {\r\n                drawState.globalCompositeOperation = value;\r\n            }\r\n        });\r\n\r\n        // Need a solution for drawing text that isnt stupid slow\r\n        gl.fillText = function fillText(text, x, y) {\r\n            // if it exist --key\r\n            textCtx.clearRect(0, 0, gl2d.canvas.width, gl2d.canvas.height);\r\n            textCtx.fillStyle = gl.fillStyle;\r\n            textCtx.fillText(text, x, y);\r\n\r\n            gl.drawImage(textCanvas, 0, 0);\r\n        };\r\n\r\n        gl.strokeText = function strokeText() {\r\n        };\r\n\r\n        gl.measureText = function measureText() {\r\n            return 1;\r\n        };\r\n\r\n        var tempCanvas = document.createElement('canvas');\r\n        var tempCtx = tempCanvas.getContext('2d');\r\n\r\n        gl.save = function save() {\r\n            gl2d.transform.pushMatrix();\r\n            saveDrawState();\r\n        };\r\n\r\n        gl.restore = function restore() {\r\n            gl2d.transform.popMatrix();\r\n            restoreDrawState();\r\n        };\r\n\r\n        gl.translate = function translate(x, y) {\r\n            gl2d.transform.translate(x, y);\r\n        };\r\n\r\n        gl.rotate = function rotate(a) {\r\n            gl2d.transform.rotate(a);\r\n        };\r\n\r\n        gl.scale = function scale(x, y) {\r\n            gl2d.transform.scale(x, y);\r\n        };\r\n\r\n        gl.createImageData = function createImageData(width, height) {\r\n            return tempCtx.createImageData(width, height);\r\n        };\r\n\r\n        gl.getImageData = function getImageData(x, y, width, height) {\r\n            var data = tempCtx.createImageData(width, height);\r\n            var buffer = new Uint8Array(width * height * 4);\r\n            gl.readPixels(x, y, width, height, gl.RGBA, gl.UNSIGNED_BYTE, buffer);\r\n            var w = width * 4, h = height;\r\n            for (var i = 0, maxI = h / 2; i < maxI; ++i) {\r\n                for (var j = 0, maxJ = w; j < maxJ; ++j) {\r\n                    var index1 = i * w + j;\r\n                    var index2 = (h - i - 1) * w + j;\r\n                    data.data[index1] = buffer[index2];\r\n                    data.data[index2] = buffer[index1];\r\n                } //for\r\n            } //for\r\n\r\n            return data;\r\n        };\r\n\r\n        gl.putImageData = function putImageData(imageData, x, y) {\r\n            gl.drawImage(imageData, x, y);\r\n        };\r\n\r\n        gl.transform = function transform(m11, m12, m21, m22, dx, dy) {\r\n            gl2d.transform.tr(m11, m12, m21, m22, dx, dy);\r\n        };\r\n\r\n        function sendTransformStack(sp) {\r\n            var stack = gl2d.transform.m_stack;\r\n            for (var i = 0, maxI = gl2d.transform.c_stack + 1; i < maxI; ++i) {\r\n                gl.uniformMatrix3fv(sp.uTransforms[i], false, stack[maxI - 1 - i]);\r\n            } //for\r\n        }\r\n\r\n        gl.setTransform = function setTransform(m11, m12, m21, m22, dx, dy) {\r\n            gl2d.transform.setIdentity();\r\n            gl.transform.apply(this, arguments);\r\n        };\r\n\r\n        gl.fillRect = function fillRect(x, y, width, height) {\r\n            var transform = gl2d.transform;\r\n            var shaderProgram = gl2d.initShaders(transform.c_stack + 2, 0);\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, gl.rectVertexPositionBuffer);\r\n            gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, 4, gl.FLOAT, false, 0, 0);\r\n\r\n            transform.pushMatrix();\r\n\r\n            transform.translate(x, y);\r\n            transform.scale(width, height);\r\n\r\n            sendTransformStack(shaderProgram);\r\n\r\n            gl.uniform4f(shaderProgram.uColor, drawState.fillStyle[0], drawState.fillStyle[1], drawState.fillStyle[2], drawState.fillStyle[3]);\r\n\r\n            gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);\r\n\r\n            transform.popMatrix();\r\n        };\r\n\r\n        gl.strokeRect = function strokeRect(x, y, width, height) {\r\n            var transform = gl2d.transform;\r\n            var shaderProgram = gl2d.initShaders(transform.c_stack + 2, 0);\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, gl.rectVertexPositionBuffer);\r\n            gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, 4, gl.FLOAT, false, 0, 0);\r\n\r\n            transform.pushMatrix();\r\n\r\n            transform.translate(x, y);\r\n            transform.scale(width, height);\r\n\r\n            sendTransformStack(shaderProgram);\r\n\r\n            gl.uniform4f(shaderProgram.uColor, drawState.strokeStyle[0], drawState.strokeStyle[1], drawState.strokeStyle[2], drawState.strokeStyle[3]);\r\n\r\n            gl.drawArrays(gl.LINE_LOOP, 0, 4);\r\n\r\n            transform.popMatrix();\r\n        };\r\n\r\n        gl.clearRect = function clearRect(x, y, width, height) {\r\n        };\r\n\r\n        var subPaths = [];\r\n\r\n        function SubPath(x, y) {\r\n            this.closed = false;\r\n            this.verts = [x, y, 0, 0];\r\n        }\r\n\r\n        // Empty the list of subpaths so that the context once again has zero subpaths\r\n        gl.beginPath = function beginPath() {\r\n            subPaths.length = 0;\r\n        };\r\n\r\n        // Mark last subpath as closed and create a new subpath with the same starting point as the previous subpath\r\n        gl.closePath = function closePath() {\r\n            if (subPaths.length) {\r\n                // Mark last subpath closed.\r\n                var prevPath = subPaths[subPaths.length - 1], startX = prevPath.verts[0], startY = prevPath.verts[1];\r\n                prevPath.closed = true;\r\n\r\n                // Create new subpath using the starting position of previous subpath\r\n                var newPath = new SubPath(startX, startY);\r\n                subPaths.push(newPath);\r\n            }\r\n        };\r\n\r\n        // Create a new subpath with the specified point as its first (and only) point\r\n        gl.moveTo = function moveTo(x, y) {\r\n            subPaths.push(new SubPath(x, y));\r\n        };\r\n\r\n        gl.lineTo = function lineTo(x, y) {\r\n            if (subPaths.length) {\r\n                subPaths[subPaths.length - 1].verts.push(x, y, 0, 0);\r\n            } else {\r\n                // Create a new subpath if none currently exist\r\n                gl.moveTo(x, y);\r\n            }\r\n        };\r\n\r\n        gl.quadraticApproximateCount = 50;\r\n        gl.quadraticCurveTo = function quadraticCurveTo(hx, hy, x, y) {\r\n            if (subPaths.length) {\r\n                var verts = subPaths[subPaths.length - 1].verts,\r\n                    fromx = verts[verts.length - 4],\r\n                    fromy = verts[verts.length - 3],\r\n                    t, i, tx, ty;\r\n                for (var j = 0; j < gl.quadraticApproximateCount; j++) {\r\n                    t = j / gl.quadraticApproximateCount;\r\n                    i = 1 - t;\r\n                    tx = i * i * fromx + 2 * i * t * hx + t * t * x;\r\n                    ty = i * i * fromy + 2 * i * t * hy + t * t * y;\r\n                    verts.push(tx, ty, 0, 0);\r\n                }\r\n            } else {\r\n                gl.moveTo(x, y);\r\n            }\r\n        };\r\n\r\n        gl.bezierApproximateCount = 50;\r\n        gl.bezierCurveTo = function quadraticCurveTo(h1x, h1y, h2x, h2y, x, y) {\r\n            if (subPaths.length) {\r\n                var verts = subPaths[subPaths.length - 1].verts,\r\n                    fromx = verts[verts.length - 4],\r\n                    fromy = verts[verts.length - 3],\r\n                    t, i, tx, ty;\r\n                for (var j = 0; j < gl.bezierApproximateCount; j++) {\r\n                    t = j / gl.bezierApproximateCount;\r\n                    i = 1 - t;\r\n                    tx = i * i * i * fromx + 3 * i * i * t * h1x + 3 * i * t * t * h2x + t * t * t * x;\r\n                    ty = i * i * i * fromy + 3 * i * i * t * h1y + 3 * i * t * t * h2y + t * t * t * y;\r\n                    verts.push(tx, ty, 0, 0);\r\n                }\r\n            } else {\r\n                gl.moveTo(x, y);\r\n            }\r\n        };\r\n\r\n        gl.arcTo = function arcTo() {\r\n            if (subPaths.length) {\r\n                ;\r\n            } else {\r\n                gl.moveTo(x, y);\r\n            }\r\n        };\r\n\r\n        // Adds a closed rect subpath and creates a new subpath\r\n        gl.rect = function rect(x, y, w, h) {\r\n            gl.moveTo(x, y);\r\n            gl.lineTo(x + w, y);\r\n            gl.lineTo(x + w, y + h);\r\n            gl.lineTo(x, y + h);\r\n            gl.closePath();\r\n        };\r\n\r\n        gl.arcApproximateCount = 100;\r\n        gl.arc = function arc(cx, cy, radius, startAngle, endAngle, anticlockwise) {\r\n            if (subPaths.length) {\r\n                var verts = subPaths[subPaths.length - 1].verts;\r\n\r\n                // startAngle\r\n                var x = cx + radius * Math.cos(startAngle),\r\n                    y = cy + radius * Math.sin(startAngle);\r\n                verts.push(x, y, 0, 0);\r\n\r\n                while (startAngle > Math.PI * 2)\r\n                    startAngle -= Math.PI * 2;\r\n                while (endAngle > Math.PI * 2)\r\n                    endAngle -= Math.PI * 2;\r\n                while (startAngle < -Math.PI * 2)\r\n                    startAngle += Math.PI * 2;\r\n                while (endAngle < -Math.PI * 2)\r\n                    endAngle += Math.PI * 2;\r\n                if (startAngle == endAngle)\r\n                    return;\r\n\r\n                var count = 1 / gl.arcApproximateCount,\r\n                    fixed = gl.arcApproximateCount,\r\n                    t;\r\n                if (anticlockwise) {\r\n                    endAngle -= Math.PI * 2;\r\n                    count = -count;\r\n                }\r\n                for (var i = startAngle; (i > endAngle && anticlockwise) || (i < endAngle && !anticlockwise); i += count) {\r\n                    if (t == (t = (i * fixed | 0) / fixed))\r\n                        continue;\r\n                    x = cx + radius * Math.cos(t);\r\n                    y = cy + radius * Math.sin(t);\r\n                    verts.push(x, y, 0, 0);\r\n                }\r\n            } else {\r\n                gl.moveTo(x, y);\r\n            }\r\n        };\r\n\r\n        function fillSubPath(index) {\r\n            var transform = gl2d.transform;\r\n            var shaderProgram = gl2d.initShaders(transform.c_stack + 2, 0);\r\n\r\n            var subPath = subPaths[index];\r\n            var verts = subPath.verts;\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, gl.pathVertexPositionBuffer);\r\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(verts), gl.STATIC_DRAW);\r\n\r\n            gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, 4, gl.FLOAT, false, 0, 0);\r\n\r\n            transform.pushMatrix();\r\n\r\n            sendTransformStack(shaderProgram);\r\n\r\n            gl.uniform4f(shaderProgram.uColor, drawState.fillStyle[0], drawState.fillStyle[1], drawState.fillStyle[2], drawState.fillStyle[3]);\r\n\r\n            gl.drawArrays(gl.TRIANGLE_FAN, 0, verts.length / 4);\r\n\r\n            transform.popMatrix();\r\n        }\r\n\r\n        gl.fill = function fill() {\r\n            for (var i = 0; i < subPaths.length; i++) {\r\n                fillSubPath(i);\r\n            }\r\n        };\r\n\r\n        function strokeSubPath(index) {\r\n            var transform = gl2d.transform;\r\n            var shaderProgram = gl2d.initShaders(transform.c_stack + 2, 0);\r\n\r\n            var subPath = subPaths[index];\r\n            var verts = subPath.verts;\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, gl.pathVertexPositionBuffer);\r\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(verts), gl.STATIC_DRAW);\r\n\r\n            gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, 4, gl.FLOAT, false, 0, 0);\r\n\r\n            transform.pushMatrix();\r\n\r\n            sendTransformStack(shaderProgram);\r\n\r\n            gl.uniform4f(shaderProgram.uColor, drawState.strokeStyle[0], drawState.strokeStyle[1], drawState.strokeStyle[2], drawState.strokeStyle[3]);\r\n\r\n            if (subPath.closed) {\r\n                gl.drawArrays(gl.LINE_LOOP, 0, verts.length / 4);\r\n            } else {\r\n                gl.drawArrays(gl.LINE_STRIP, 0, verts.length / 4);\r\n            }\r\n\r\n            transform.popMatrix();\r\n        }\r\n\r\n        gl.stroke = function stroke() {\r\n            for (var i = 0; i < subPaths.length; i++) {\r\n                strokeSubPath(i);\r\n            }\r\n        };\r\n\r\n        gl.clip = function clip() {\r\n        };\r\n\r\n        gl.isPointInPath = function isPointInPath() {\r\n        };\r\n\r\n        gl.drawFocusRing = function drawFocusRing() {\r\n        };\r\n\r\n\r\n        var imageCache = [], textureCache = [];\r\n\r\n        function Texture(image) {\r\n            this.obj = gl.createTexture();\r\n            this.index = textureCache.push(this);\r\n\r\n            imageCache.push(image);\r\n\r\n            // we may wish to consider tiling large images like this instead of scaling and\r\n            // adjust appropriately (flip to next texture source and tile offset) when drawing\r\n            if (image.width > gl2d.maxTextureSize || image.height > gl2d.maxTextureSize) {\r\n                var canvas = document.createElement(\"canvas\");\r\n\r\n                canvas.width = (image.width > gl2d.maxTextureSize) ? gl2d.maxTextureSize : image.width;\r\n                canvas.height = (image.height > gl2d.maxTextureSize) ? gl2d.maxTextureSize : image.height;\r\n\r\n                var ctx = canvas.getContext(\"2d\");\r\n\r\n                ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\r\n\r\n                image = canvas;\r\n            }\r\n\r\n            var GL_FUNCTION = gl.LINEAR;\r\n            var GL_MIPMAP_FUNCTION = gl.LINEAR_MIPMAP_LINEAR;\r\n\r\n            if (!drawState.imageSmoothingEnabled) {\r\n                GL_FUNCTION = gl.NEAREST;\r\n                GL_MIPMAP_FUNCTION = gl.LINEAR_MIPMAP_NEAREST;\r\n            }\r\n\r\n            gl.bindTexture(gl.TEXTURE_2D, this.obj);\r\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, GL_FUNCTION);\r\n\r\n            // Enable Mip mapping on power-of-2 textures\r\n            if (isPOT(image.width) && isPOT(image.height)) {\r\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, GL_MIPMAP_FUNCTION);\r\n                gl.generateMipmap(gl.TEXTURE_2D);\r\n            } else {\r\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, GL_FUNCTION);\r\n            }\r\n\r\n            // Unbind texture\r\n            gl.bindTexture(gl.TEXTURE_2D, null);\r\n        }\r\n\r\n        gl.drawImage = function drawImage(image, a, b, c, d, e, f, g, h) {\r\n            var transform = gl2d.transform;\r\n\r\n            transform.pushMatrix();\r\n\r\n            var sMask = shaderMask.texture;\r\n            var doCrop = false;\r\n\r\n            //drawImage(image, dx, dy)\r\n            if (arguments.length === 3) {\r\n                transform.translate(a, b);\r\n                transform.scale(image.width, image.height);\r\n            }\r\n\r\n            //drawImage(image, dx, dy, dw, dh)\r\n            else if (arguments.length === 5) {\r\n                transform.translate(a, b);\r\n                transform.scale(c, d);\r\n            }\r\n\r\n            //drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh)\r\n            else if (arguments.length === 9) {\r\n                transform.translate(e, f);\r\n                transform.scale(g, h);\r\n                sMask = sMask | shaderMask.crop;\r\n                doCrop = true;\r\n            }\r\n\r\n            var shaderProgram = gl2d.initShaders(transform.c_stack + 1, sMask);\r\n\r\n            var texture, cacheIndex = imageCache.indexOf(image);\r\n\r\n            if (cacheIndex !== -1) {\r\n                texture = textureCache[cacheIndex];\r\n            } else {\r\n                texture = new Texture(image);\r\n            }\r\n\r\n            if (doCrop) {\r\n                gl.uniform4f(shaderProgram.uCropSource, a / image.width, b / image.height, c / image.width, d / image.height);\r\n            }\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, gl.rectVertexPositionBuffer);\r\n            gl.vertexAttribPointer(shaderProgram.vertexPositionAttribute, 4, gl.FLOAT, false, 0, 0);\r\n\r\n            gl.bindTexture(gl.TEXTURE_2D, texture.obj);\r\n            gl.activeTexture(gl.TEXTURE0);\r\n\r\n            gl.uniform1i(shaderProgram.uSampler, 0);\r\n\r\n            sendTransformStack(shaderProgram);\r\n            gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);\r\n\r\n            transform.popMatrix();\r\n        };\r\n\r\n        // This enables the user to detect whether they got a webgl-2d context or a 2d context.\r\n        Object.defineProperty(gl, \"isWebGL\", {\r\n            configurable: false,\r\n            enumerable: true,\r\n            writable: false,\r\n            value: true\r\n        });\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.WebGL2D = WebGL2D;\r\n    return WebGL2D;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('io/InputManager', ['jquery', 'utils/ArrayMap', 'utils/Vector2d'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('jquery'), require('utils/ArrayMap'), require('utils/Vector2d'));\r\n    } else {\r\n        factory(root.jQuery, root.j2d.utils.ArrayMap, root.j2d.utils.Vector2d);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function ($, ArrayMap, Vector2d) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class InputManager\r\n     * @exports module:io/InputManager\r\n     * \r\n     * @param {EngineJ2D} j2d\r\n     * @constructor\r\n     *\r\n     * @type {InputManager.key} key\r\n     */\r\n    var InputManager = function (j2d) {\r\n        this.j2d = j2d;\r\n\r\n        /** @type string */\r\n        this.id = j2d.data.id;\r\n\r\n        /** @type Element|jQuery */\r\n        this.element = j2d.element;\r\n\r\n        this.data = {\r\n            mouse: {\r\n                startPosition: {\r\n                    x: 0,\r\n                    y: 0\r\n                },\r\n                currentPosition: {\r\n                    x: 0,\r\n                    y: 0\r\n                },\r\n                previousDistance: 0,\r\n                distance: 0\r\n            },\r\n            viewport: {\r\n                position: {\r\n                    x: 0,\r\n                    y: 0\r\n                }\r\n            },\r\n            enabled: false,\r\n            enableAdditionalData: false,\r\n            keysPressed: new ArrayMap(),\r\n            writeMode: false,\r\n            timePressed: 0,\r\n            preventAll: false,\r\n\r\n            cursor: {\r\n                enabled: false,\r\n                image: 'auto'\r\n            }\r\n        };\r\n\r\n        this.keyMap = {\r\n            //DEBUG_INFO: [[InputManager.key.KEY_CTRL, InputManager.key.KEY_F1], 'j2d.debug.toggleScreen', {}],\r\n            FULLSCREEN: [[InputManager.key.KEY_CTRL, InputManager.key.KEY_F11], 'j2d.scene.toggleFullScreen', {}]\r\n        };\r\n    };\r\n\r\n    /**\r\n     * @param e\r\n     * @param {boolean} [enableCallback]\r\n     * @returns {boolean}\r\n     */\r\n    var checkKeyMap = function (e, enableCallback) {\r\n        if (enableCallback === undefined) enableCallback = true;\r\n\r\n        var j2d = e.data.manager.j2d,\r\n            manager = e.data.manager,\r\n            keyCode = e.which,\r\n            keyMap = e.data.manager.keyMap;\r\n\r\n        for (var index in keyMap) {\r\n            if (keyMap.hasOwnProperty(index)) {\r\n                var value = keyMap[index];\r\n                if (!$.isArray(value[0]) && value[0] === keyCode && !!value[1]) {\r\n                    if (typeof value[1] === 'string') {\r\n                        value[1] = eval('(' + value[1] + ')');\r\n                    }\r\n                    if ((typeof value[1] === 'function') && enableCallback) {\r\n                        value[1](j2d, value[2]);\r\n                    }\r\n                    return true;\r\n                } else if ($.isArray(value[0])\r\n                    && manager.data.keysPressed.equals(value[0]) && !!value[1]\r\n                ) {\r\n                    if (typeof value[1] === 'string') {\r\n                        value[1] = eval('(' + value[1] + ')');\r\n                    }\r\n                    if (typeof value[1] === 'function' && enableCallback) {\r\n                        value[1](j2d, value[2]);\r\n                    }\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    };\r\n    var events = {\r\n        onMouseClick: function (e) {\r\n            var manager = e.data.manager;\r\n            if (!manager.data.enabled || !manager.j2d.isPlay || !manager.j2d.element.hasClass('active')) return true;\r\n            var keysPressed = manager.data.keysPressed;\r\n            var keyCode = getKey(InputManager.key, e.which) || 'KEY_UNKNOWN_' + e.which;\r\n            var mouse = manager.data.mouse;\r\n\r\n            if (e.data.event !== 2) {\r\n                if (e.data.event === 0) {\r\n                    if (-1 === $.inArray(InputManager.key[keyCode], keysPressed)) {\r\n                        keysPressed.push(InputManager.key[keyCode]);\r\n\r\n                        if (manager.data.enableAdditionalData) {\r\n                            mouse.startPosition.x = e.pageX;\r\n                            mouse.startPosition.y = e.pageY;\r\n                            mouse.distance = 0;\r\n\r\n                            manager.data.timePressed = e.timeStamp;\r\n                        }\r\n                    }\r\n                    if (checkKeyMap(e, false) || manager.data.preventAll) {\r\n                        e.preventDefault();\r\n                    }\r\n                } else {\r\n                    if (checkKeyMap(e) || manager.data.preventAll) {\r\n                        e.preventDefault();\r\n                    }\r\n                    if (manager.data.enableAdditionalData) {\r\n                        mouse.previousDistance = mouse.distance;\r\n                        mouse.startPosition.x = 0;\r\n                        mouse.startPosition.y = 0;\r\n                    }\r\n\r\n                    keysPressed.splice(\r\n                        keysPressed.indexOf(InputManager.key[keyCode]), 1\r\n                    );\r\n                }\r\n                manager.element.trigger(e.data.event === 0 ?\r\n                    'mouseKeyDown' : 'mouseKeyUp', {keyCode: keyCode}\r\n                );\r\n            } else {\r\n                if (checkKeyMap(e, false)) {\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        },\r\n\r\n        onMouseWheel: function (e) {\r\n            var manager = e.data.manager;\r\n            if (!manager.data.enabled || !manager.j2d.isPlay || !manager.j2d.element.hasClass('active')) return true;\r\n            var keysPressed = manager.data.keysPressed;\r\n            var keyCode = (e.originalEvent.wheelDelta / 120 > 0) ?\r\n                getKey(InputManager.key, 4) : getKey(InputManager.key, 5);\r\n\r\n            e.which = (e.originalEvent.wheelDelta / 120 > 0) ? 4 : 5;\r\n\r\n            if (-1 === $.inArray(InputManager.key[keyCode], keysPressed)) {\r\n                keysPressed.push(InputManager.key[keyCode]);\r\n            }\r\n\r\n            if (checkKeyMap(e) || manager.data.preventAll) {\r\n                e.preventDefault();\r\n                manager.fixMouseWheel();\r\n            }\r\n\r\n            manager.element.trigger('mouseWheel', {keyCode: keyCode});\r\n        },\r\n\r\n        mouseWheelCancel: function (keysPressed, keyCode) {\r\n            keysPressed.splice(\r\n                keysPressed.indexOf(InputManager.key[keyCode]), 1\r\n            );\r\n        },\r\n\r\n        onMouseMove: function (e) {\r\n            var manager = e.data.manager;\r\n            var mouse = e.data.manager.data.mouse;\r\n\r\n            manager.data.mouse.currentPosition.x = e.pageX;\r\n            manager.data.mouse.currentPosition.y = e.pageY;\r\n\r\n            if (e.data.manager.data.enableAdditionalData) {\r\n                mouse.distance = Math.sqrt(\r\n                    Math.pow((mouse.currentPosition.x - mouse.startPosition.x), 2)\r\n                    + Math.pow((mouse.currentPosition.y - mouse.startPosition.y), 2)\r\n                ).toFixed(1);\r\n            }\r\n        },\r\n\r\n        onKeyboardPress: function (e) {\r\n            var manager = e.data.manager;\r\n            if (!manager.data.enabled || !manager.j2d.isPlay || !manager.element.hasClass('active')) return true;\r\n            var keysPressed = manager.data.keysPressed;\r\n            var keyCode = getKey(InputManager.key, e.which) || 'KEY_UNKNOWN_' + e.which;\r\n            if (e.data.event === 2 && true === manager.data.writeMode) {\r\n                var char = String.fromCharCode(e.which || e.keyCode);\r\n                e.preventDefault();\r\n                manager.element.focus().trigger('keyboardCharPress', {\r\n                    key: e.which || e.keyCode,\r\n                    keyCode: keyCode,\r\n                    char: char\r\n                });\r\n            }\r\n\r\n            if (e.data.event !== 2 && false === manager.data.writeMode) {\r\n                if (e.data.event === 0) {\r\n                    if (-1 === $.inArray(InputManager.key[keyCode], keysPressed)) {\r\n                        keysPressed.push(InputManager.key[keyCode]);\r\n                        if (manager.data.enableAdditionalData) {\r\n                            manager.data.timePressed = e.timeStamp;\r\n                        }\r\n                    }\r\n                    if (checkKeyMap(e, false) || manager.data.preventAll) {\r\n                        e.preventDefault();\r\n                    }\r\n                } else {\r\n                    if (checkKeyMap(e) || manager.data.preventAll) {\r\n                        e.preventDefault();\r\n                    }\r\n\r\n                    keysPressed.splice(\r\n                        keysPressed.indexOf(InputManager.key[keyCode]), 1\r\n                    );\r\n                }\r\n\r\n                manager.element.trigger(e.data.event === 0 ?\r\n                    'keyboardKeyDown' : 'keyboardKeyUp', {keyCode: keyCode, key: e.which || e.keyCode}\r\n                );\r\n            }\r\n\r\n            if (e.data.event !== 2 && true === manager.data.writeMode) {\r\n                manager.element.trigger(e.data.event === 0 ?\r\n                    'keyboardKeyDown' : 'keyboardKeyUp', {keyCode: keyCode, key: e.which || e.keyCode}\r\n                );\r\n            }\r\n        },\r\n\r\n        onTouchTap: function (e) {\r\n            var manager = e.data.manager;\r\n            if (!manager.data.enabled || !manager.j2d.isPlay || !manager.j2d.element.hasClass('active')) return true;\r\n            var keysPressed = manager.data.keysPressed;\r\n            var keyCode = getKey(InputManager.key, e.which + 1) || 'KEY_UNKNOWN_' + e.which;\r\n            var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n            var mouse = manager.data.mouse;\r\n\r\n            if (e.data.event === 0) {\r\n                if (-1 === $.inArray(InputManager.key[keyCode], keysPressed)) {\r\n                    keysPressed.push(InputManager.key[keyCode]);\r\n                    if (manager.data.enableAdditionalData) {\r\n                        mouse.startPosition.x = touch.pageX;\r\n                        mouse.startPosition.y = touch.pageY;\r\n                        mouse.distance = 0;\r\n\r\n                        manager.data.timePressed = e.timeStamp;\r\n                    }\r\n                }\r\n                if (checkKeyMap(e, false) || manager.data.preventAll) {\r\n                    e.preventDefault();\r\n                }\r\n            } else {\r\n                if (checkKeyMap(e) || manager.data.preventAll) {\r\n                    e.preventDefault();\r\n                }\r\n\r\n                if (manager.data.enableAdditionalData) {\r\n                    mouse.previousDistance = mouse.distance;\r\n                    mouse.startPosition.x = 0;\r\n                    mouse.startPosition.y = 0;\r\n                }\r\n\r\n                keysPressed.splice(\r\n                    keysPressed.indexOf(InputManager.key[keyCode]), 1\r\n                );\r\n            }\r\n\r\n            manager.element.trigger(e.data.event === 0 ?\r\n                'mouseKeyDown' : 'mouseKeyUp', {keyCode: keyCode}\r\n            );\r\n        },\r\n\r\n        onTouchMove: function (e) {\r\n            var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n            var mouse = e.data.manager.data.mouse;\r\n\r\n            mouse.currentPosition.x = touch.pageX.toFixed(0);\r\n            mouse.currentPosition.y = touch.pageY.toFixed(0);\r\n\r\n            if (e.data.manager.data.enableAdditionalData) {\r\n                mouse.distance = Math.sqrt(\r\n                    Math.pow((mouse.currentPosition.x - mouse.startPosition.x), 2)\r\n                    + Math.pow((mouse.currentPosition.y - mouse.startPosition.y), 2)\r\n                ).toFixed(1);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {InputManager} manager\r\n     */\r\n    var bindEvents = function (manager) {\r\n        var selector = '[guid=' + manager.id + ']';\r\n\r\n        $(document).on('contextmenu', selector, {manager: manager, event: 2}, events.onMouseClick);\r\n        $(document).on('mousedown', selector, {manager: manager, event: 0}, events.onMouseClick);\r\n        $(document).on('mouseup', selector, {manager: manager, event: 1}, events.onMouseClick);\r\n        $(document).on('mousewheel', selector, {manager: manager}, events.onMouseWheel);\r\n        $(document).on('mousemove', selector, {manager: manager}, events.onMouseMove);\r\n\r\n        $(document).on('keydown', null, {manager: manager, event: 0}, events.onKeyboardPress);\r\n        $(document).on('keyup', null, {manager: manager, event: 1}, events.onKeyboardPress);\r\n        $(document).on('keypress', null, {manager: manager, event: 2}, events.onKeyboardPress);\r\n\r\n        $(document).on('touchstart', selector, {manager: manager, event: 0}, events.onTouchTap);\r\n        $(document).on('touchend', selector, {manager: manager, event: 1}, events.onTouchTap);\r\n        $(document).on('touchmove ', selector, {manager: manager}, events.onTouchMove);\r\n    };\r\n\r\n    /**\r\n     * @param {InputManager} manager\r\n     */\r\n    var unbindEvents = function (manager) {\r\n        var selector = '[guid=' + manager.id + ']';\r\n\r\n        $(document).off('contextmenu', selector, {manager: manager, event: 1}, events.onMouseClick);\r\n        $(document).off('mousedown', selector, {manager: manager, event: 0}, events.onMouseClick);\r\n        $(document).off('mouseup', selector, {manager: manager, event: 1}, events.onMouseClick);\r\n        $(document).off('mousewheel', selector, {manager: manager}, events.onMouseWheel);\r\n        $(document).off('mousemove', selector, {manager: manager}, events.onMouseMove);\r\n\r\n        $(document).off('keydown', null, {manager: manager, event: 0}, events.onKeyboardPress);\r\n        $(document).off('keyup', null, {manager: manager, event: 1}, events.onKeyboardPress);\r\n        $(document).off('keypress', null, {manager: manager, event: 2}, events.onKeyboardPress);\r\n\r\n        $(document).off('touchstart', selector, {manager: manager, event: 0}, events.onTouchTap);\r\n        $(document).off('touchend', selector, {manager: manager, event: 1}, events.onTouchTap);\r\n        $(document).off('touchmove ', selector, {manager: manager}, events.onTouchMove);\r\n    };\r\n\r\n    /**\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.init = function () {\r\n        if (!this.data.enabled && global.j2dPlugin.pluginInit) {\r\n            bindEvents(this);\r\n\r\n            this.data.enabled = true;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    InputManager.prototype.update = function () {\r\n        if (!this.data.enabled) return false;\r\n\r\n        var dX = this.j2d.scene.canvas.offsetWidth / this.j2d.scene.data.width,\r\n            dY = this.j2d.scene.canvas.offsetHeight / this.j2d.scene.data.height,\r\n            x = this.data.mouse.currentPosition.x / dX,\r\n            y = this.data.mouse.currentPosition.y / dY;\r\n\r\n        var offset = this.element.offset();\r\n\r\n        this.data.viewport.x = this.j2d.scene.viewport.x + x - offset.left;\r\n        this.data.viewport.y = this.j2d.scene.viewport.y + y - offset.top;\r\n        return true;\r\n    };\r\n\r\n    /**\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.flush = function () {\r\n        this.data.keysPressed.length = 0;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.clear = function () {\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.fixMouseWheel = function () {\r\n        var keyPressed = this.data.keysPressed;\r\n        if (-1 !== $.inArray(InputManager.key.SCROLL_MOUSE_UP, keyPressed)) {\r\n            events.mouseWheelCancel(keyPressed, InputManager.key.SCROLL_MOUSE_UP);\r\n        } else if (-1 !== $.inArray(InputManager.key.SCROLL_MOUSE_DOWN, keyPressed)) {\r\n            events.mouseWheelCancel(keyPressed, InputManager.key.SCROLL_MOUSE_DOWN);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.enable = function () {\r\n        if (!this.data.enabled) {\r\n            //bindEvents(this);\r\n            this.data.enabled = false;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.disable = function () {\r\n        if (this.data.enabled) {\r\n            //unbindEvents(this);\r\n            this.data.enabled = false;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {string} newKeyMap\r\n     * @returns {string}\r\n     */\r\n    InputManager.prototype.load = function (newKeyMap) {\r\n        var oldKeyMap = JSON.stringify(this.keyMap);\r\n        this.keyMap = JSON.parse(newKeyMap);\r\n        return oldKeyMap;\r\n    };\r\n\r\n    /**\r\n     * @returns {string}\r\n     */\r\n    InputManager.prototype.save = function () {\r\n        return JSON.stringify(this.keyMap);\r\n    };\r\n\r\n    /**\r\n     * KeyMap Manager\r\n     *\r\n     * @param mapObject\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.setKeys = function (mapObject) {\r\n        this.keyMap = $.extend(true, {}, this.keyMap, mapObject);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {InputManager} manager\r\n     * @param {Array.<number>|number[]} keyList\r\n     * @returns {{keyList: Array.<number>|number[]|number, time: number}|boolean}\r\n     */\r\n    var getPressData = function (manager, keyList) {\r\n        if (!manager.data.enableAdditionalData) return true;\r\n        return {\r\n            keyList: keyList,\r\n            time: Date.now() - manager.data.timePressed\r\n        };\r\n    };\r\n\r\n    /**\r\n     * @returns {{current: number, previous: number}}\r\n     */\r\n    InputManager.prototype.getMouseMoveDistance = function () {\r\n        if (!this.data.enableAdditionalData) return 0;\r\n        return {current: this.data.mouse.distance, previous: this.data.mouse.previousDistance};\r\n    };\r\n\r\n    /* +Input Checkers **/\r\n    /**\r\n     * @param {Array.<number>|number[]|number} keyList\r\n     * @returns {boolean}\r\n     */\r\n    InputManager.prototype.checkPressedKeyList = function (keyList) {\r\n        if ($.isArray(keyList)) {\r\n            if (keyList.length !== this.data.keysPressed.length) {\r\n                return false;\r\n            } else if (this.data.keysPressed.equals(keyList)) {\r\n                this.fixMouseWheel();\r\n                return getPressData(this, keyList);\r\n            }\r\n            this.fixMouseWheel();\r\n            return false;\r\n        }\r\n        //if (!this.data.keysPressed.equals([])) console.log(this.data.keysPressed);\r\n        if (isNaN(keyList)) return false;\r\n        if (-1 !== this.data.keysPressed.indexOf(keyList)) {\r\n            this.fixMouseWheel();\r\n            return getPressData(this, keyList);\r\n        }\r\n        this.fixMouseWheel();\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * @param {string} key\r\n     * @returns {boolean}\r\n     */\r\n    InputManager.prototype.checkPressedKeyMap = function (key) {\r\n        if (this.keyMap[key] === undefined) return false;\r\n        var keyList = this.keyMap[key][0];\r\n\r\n        return this.checkPressedKeyList(keyList);\r\n    };\r\n\r\n    InputManager.prototype.getPosition = function () {\r\n        return new Vector2d(this.data.viewport.x + 0.5, this.data.viewport.y + 0.3);\r\n    };\r\n\r\n    //InputManager.prototype.onNode = function (id) {\r\n    //    if (!id.layer.visible) return false;\r\n    //    return (this.data.viewport.x > id.options.position.x && this.data.viewport.x < id.options.position.x + id.options.size.x) &&\r\n    //        (this.data.viewport.y > id.options.position.y && this.data.viewport.y < id.options.position.y + id.options.size.y);\r\n    //};\r\n    /* -Input Checkers **/\r\n\r\n    /* +Input Write Mode **/\r\n    /**\r\n     * @param {boolean} mode\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.setWriteMode = function (mode) {\r\n        this.data.writeMode = !!mode;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    InputManager.prototype.isWriteMode = function () {\r\n        return !!this.data.writeMode;\r\n    };\r\n    /* -Input Write Mode **/\r\n\r\n    /**\r\n     * @param {string} image\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.setCursorImage = function (image) {\r\n        this.data.cursor.image = 'url(\"' + image + '\"), auto';\r\n        $(this.element).css('cursor', this.data.cursor.image);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {boolean} enable\r\n     * @returns {InputManager}\r\n     */\r\n    InputManager.prototype.toggleCursor = function (enable) {\r\n        if (enable !== undefined) {\r\n            this.data.cursor.enable = !!enable;\r\n        } else {\r\n            this.data.cursor.enable = !this.data.cursor.enable;\r\n        }\r\n\r\n        if (!this.data.cursor.enable) {\r\n            this.data.cursor.image = $(this.j2d.element).css('cursor');\r\n            $(this.element).css('cursor', 'none');\r\n        } else {\r\n            $(this.element).css('cursor', this.data.cursor.image);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {boolean}\r\n     */\r\n    InputManager.prototype.isCursorVisible = function () {\r\n        return !!this.data.cursor.enable;\r\n    };\r\n    /** -Cursor **/\r\n\r\n    /**\r\n     * Static keys arrayList\r\n     *\r\n     * @readonly\r\n     * @enum {number}\r\n     */\r\n    InputManager.key = {\r\n        KEY_MOUSE_LEFT: 1,\r\n        KEY_MOUSE_MIDDLE: 2,\r\n        KEY_MOUSE_RIGHT: 3,\r\n\r\n        SCROLL_MOUSE_UP: 4,\r\n        SCROLL_MOUSE_DOWN: 5,\r\n\r\n        KEY_BACKSPACE: 8,\r\n        KEY_TAB: 9,\r\n        KEY_ENTER: 13,\r\n        KEY_SHIFT: 16,\r\n        KEY_CTRL: 17,\r\n        KEY_ALT: 18,\r\n        KEY_PAUSE: 19,\r\n        KEY_BREAK: 19,\r\n        KEY_CAPS_LOCK: 20,\r\n        KEY_ESCAPE: 27,\r\n        KEY_SPACE_BAR: 32,\r\n        KEY_PAGE_UP: 33,\r\n        KEY_PAGE_DOWN: 34,\r\n        KEY_END: 35,\r\n        KEY_HOME: 36,\r\n        KEY_LEFT_ARROW: 37,\r\n        KEY_UP_ARROW: 38,\r\n        KEY_RIGHT_ARROW: 39,\r\n        KEY_DOWN_ARROW: 40,\r\n        KEY_INSERT: 45,\r\n        KEY_DELETE: 46,\r\n        KEY_0: 48,\r\n        KEY_1: 49,\r\n        KEY_2: 50,\r\n        KEY_3: 51,\r\n        KEY_4: 52,\r\n        KEY_5: 53,\r\n        KEY_6: 54,\r\n        KEY_7: 55,\r\n        KEY_8: 56,\r\n        KEY_9: 57,\r\n        KEY_A: 65,\r\n        KEY_B: 66,\r\n        KEY_C: 67,\r\n        KEY_D: 68,\r\n        KEY_E: 69,\r\n        KEY_F: 70,\r\n        KEY_G: 71,\r\n        KEY_H: 72,\r\n        KEY_I: 73,\r\n        KEY_J: 74,\r\n        KEY_K: 75,\r\n        KEY_L: 76,\r\n        KEY_M: 77,\r\n        KEY_N: 78,\r\n        KEY_O: 79,\r\n        KEY_P: 80,\r\n        KEY_Q: 81,\r\n        KEY_R: 82,\r\n        KEY_S: 83,\r\n        KEY_T: 84,\r\n        KEY_U: 85,\r\n        KEY_V: 86,\r\n        KEY_W: 87,\r\n        KEY_X: 88,\r\n        KEY_Y: 89,\r\n        KEY_Z: 90,\r\n        KEY_LEFT_WINDOW_KEY: 91,\r\n        KEY_RIGHT_WINDOW_KEY: 92,\r\n        KEY_SELECT_KEY: 93,\r\n        KEY_NUMPAD_0: 96,\r\n        KEY_NUMPAD_1: 97,\r\n        KEY_NUMPAD_2: 98,\r\n        KEY_NUMPAD_3: 99,\r\n        KEY_NUMPAD_4: 100,\r\n        KEY_NUMPAD_5: 101,\r\n        KEY_NUMPAD_6: 102,\r\n        KEY_NUMPAD_7: 103,\r\n        KEY_NUMPAD_8: 104,\r\n        KEY_NUMPAD_9: 105,\r\n        KEY_MULTIPLY: 106,\r\n        KEY_ADD: 107,\r\n        KEY_SUBTRACT: 109,\r\n        KEY_DECIMAL_POINT: 110,\r\n        KEY_DIVIDE: 111,\r\n        KEY_F1: 112,\r\n        KEY_F2: 113,\r\n        KEY_F3: 114,\r\n        KEY_F4: 115,\r\n        KEY_F5: 116,\r\n        KEY_F6: 117,\r\n        KEY_F7: 118,\r\n        KEY_F8: 119,\r\n        KEY_F9: 120,\r\n        KEY_F10: 121,\r\n        KEY_F11: 122,\r\n        KEY_F12: 123,\r\n        KEY_NUM_LOCK: 144,\r\n        KEY_SCROLL_LOCK: 145,\r\n        KEY_SEMI_COLON: 186,\r\n        KEY_EQUAL_SIGN: 187,\r\n        KEY_COMMA: 188,\r\n        KEY_DASH: 189,\r\n        KEY_PERIOD: 190,\r\n        KEY_FORWARD_SLASH: 191,\r\n        KEY_GRAVE_ACCENT: 192,\r\n        KEY_OPEN_BRACKET: 219,\r\n        KEY_BACK_SLASH: 220,\r\n        KEY_CLOSE_BRACKET: 221,\r\n        KEY_SINGLE_QUOTE: 222,\r\n        KEY_LEFT_COMMAND: 224,\r\n        KEY_RIGHT_COMMAND: 224\r\n    };\r\n\r\n    /**\r\n     * @param {Object} object\r\n     * @param {number} value\r\n     * @returns {T}\r\n     */\r\n    function getKey(object, value) {\r\n        return Object.keys(object).filter(function (key) {\r\n            return object[key] === value\r\n        })[0];\r\n    }\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.InputManager = InputManager;\r\n    if (global.j2d !== undefined) global.j2d.io.InputManager = InputManager;\r\n    return InputManager;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, James Simpson of GoldFire Studios(howler.js)\r\n * @original_source https://github.com/goldfire/howler.js/blob/master/howler.js\r\n * @license BSD, MIT(howler.js)\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('io/MediaManager', [\r\n            'utils/ObjectUtil',\r\n            'utils/ArrayMap',\r\n            'utils/Events',\r\n            'media/Audio',\r\n            'media/Sound'\r\n        ], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('utils/ObjectUtil'),\r\n            require('utils/ArrayMap'),\r\n            require('utils/Events'),\r\n            require('media/Audio'),\r\n            require('media/Sound')\r\n        );\r\n    } else {\r\n        factory(\r\n            root.j2d.utils.ObjectUtil,\r\n            root.j2d.utils.ArrayMap,\r\n            root.j2d.utils.Events,\r\n            root.j2d.media.Audio,\r\n            root.j2d.media.Sound\r\n        );\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, ArrayMap, Events, Audio, Sound) {\r\n    \"use strict\";\r\n\r\n    var AudioNode = global.Audio;\r\n    var audioContext = false;\r\n    var html5Audio = false;\r\n\r\n    try {\r\n        //noinspection JSUnresolvedVariable\r\n        var AudioContext = global.AudioContext || global.webkitAudioContext;\r\n        audioContext = new AudioContext();\r\n    } catch (e) {\r\n        console.warn('Web Audio API is not supported in your browser');\r\n    }\r\n\r\n    try {\r\n        //noinspection JSUnresolvedFunction\r\n        html5Audio = !!new AudioNode();\r\n    } catch (e) {\r\n        console.warn('HTML5 Audio is not supported in your browser');\r\n    }\r\n\r\n    if (audioContext) {\r\n        var masterGain = (audioContext.createGain === undefined)\r\n            ? audioContext.createGainNode()\r\n            : audioContext.createGain();\r\n        masterGain.gain.value = 1;\r\n        masterGain.connect(audioContext.destination);\r\n    }\r\n\r\n    /* MediaManager */\r\n\r\n    /**\r\n     * @class MediaManager\r\n     * @exports module:io/MediaManager\r\n     *\r\n     * @param {EngineJ2D} j2d\r\n     * @param {MediaManager.defaults|Object|undefined} [data]\r\n     * @constructor\r\n     */\r\n    var MediaManager = function (j2d, data) {\r\n        if (data === undefined) data = {};\r\n        var soundManager = this;\r\n        this.j2d = j2d;\r\n        this.data = ObjectUtil.extend(true, {}, MediaManager.defaults, data);\r\n        this.events = new Events();\r\n        this.media = new ArrayMap();\r\n\r\n        this.media.add('sounds', new ArrayMap());\r\n        this.media.add('audios', new ArrayMap());\r\n        this.media.add('videos', new ArrayMap());\r\n\r\n        this.volume = this.data.volume * 100;\r\n        this.iOSEnabled = false;\r\n\r\n        if (audioContext || html5Audio) {\r\n            var test = new AudioNode();\r\n            this.data.codecs = {\r\n                mp3: !!test.canPlayType('audio/mpeg;').replace(/^no$/, ''),\r\n                opus: !!test.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\r\n                ogg: !!test.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\r\n                wav: !!test.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, ''),\r\n                aac: !!test.canPlayType('audio/aac;').replace(/^no$/, ''),\r\n                m4a: !!(test.canPlayType('audio/x-m4a;') || test.canPlayType('audio/m4a;') || test.canPlayType('audio/aac;')).replace(/^no$/, ''),\r\n                mp4: !!(test.canPlayType('audio/x-mp4;') || test.canPlayType('audio/mp4;') || test.canPlayType('audio/aac;')).replace(/^no$/, ''),\r\n                weba: !!test.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, '')\r\n            };\r\n            test = null;\r\n        }\r\n\r\n        Object.defineProperty(this, 'volume', {\r\n            get: function () {\r\n                return soundManager.data.volume * 100;\r\n            },\r\n            set: function (value) {\r\n                soundManager.data.volume = parseFloat(value / 100);\r\n\r\n                if (value >= 0 && value <= 1) {\r\n                    if (audioContext) {\r\n                        masterGain.gain.value = soundManager.data.volume;\r\n                    } else {\r\n                        var sounds = soundManager.media.get('sounds');\r\n                        for (var key in sounds) {\r\n                            if (sounds.hasOwnProperty(key) && !sounds[key].webAudio) {\r\n                                for (var i = 0; i < sounds[key].audioNode.length; i++) {\r\n                                    sounds[key].audioNode[i].volume = sounds[key].volume * soundManager.data.volume;\r\n                                }\r\n                            }\r\n                        }\r\n                        sounds = null;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'muted', {\r\n            get: function () {\r\n                return !!soundManager.data.muted;\r\n            },\r\n            set: function (value) {\r\n                soundManager.data.muted = !!value;\r\n\r\n                if (audioContext) {\r\n                    masterGain.gain.value = soundManager.data.muted ? 0 : soundManager.data.volume;\r\n                } else {\r\n                    var sounds = soundManager.media.get('sounds');\r\n                    for (var key in sounds) {\r\n                        if (sounds.hasOwnProperty(key) && sounds[key].webAudio === false) {\r\n                            for (var i = 0; i < sounds[key].audioNode.length; i++) {\r\n                                sounds[key].audioNode[i].muted = soundManager.data.muted;\r\n                            }\r\n                        }\r\n                    }\r\n                    sounds = null;\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'iOSEnable', {\r\n            get: function () {\r\n                return !!soundManager.data.iOSAutoEnable;\r\n            },\r\n            set: function (value) {\r\n                if (audioContext && (soundManager.iOSEnabled || !/iPhone|iPad|iPod/i.test(navigator.userAgent))) {\r\n                    return value;\r\n                }\r\n                soundManager.iOSEnabled = false;\r\n\r\n                var unlock = function () {\r\n                    var buffer = audioContext.createBuffer(1, 1, 22050);\r\n                    var source = audioContext.createBufferSource();\r\n                    source.buffer = buffer;\r\n                    source.connect(audioContext.destination);\r\n\r\n                    if (source.start === undefined) {\r\n                        source.noteOn(0);\r\n                    } else {\r\n                        source.start(0);\r\n                    }\r\n\r\n                    setTimeout(function () {\r\n                        if ((source.playbackState === source.PLAYING_STATE\r\n                            || source.playbackState === source.FINISHED_STATE)) {\r\n                            soundManager.iOSEnabled = true;\r\n                            soundManager.data.iOSAutoEnable = false;\r\n\r\n                            global.removeEventListener('touchend', unlock, false);\r\n                        }\r\n                    }, 0);\r\n                };\r\n                global.addEventListener('touchend', unlock, false);\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'isSupportAudio', {\r\n            get: function () {\r\n                return !audioContext && !html5Audio;\r\n            }\r\n        });\r\n    };\r\n\r\n    MediaManager.defaults = {\r\n        volume: 1,\r\n        muted: false,\r\n        codecs: {},\r\n        iOSAutoEnable: true\r\n    };\r\n\r\n    MediaManager.prototype.getAudioContext = function () {\r\n        return audioContext;\r\n    };\r\n\r\n    MediaManager.prototype.getMasterGain = function () {\r\n        return masterGain;\r\n    };\r\n\r\n    MediaManager.prototype.mute = function () {\r\n        this.muted = true;\r\n        return this;\r\n    };\r\n\r\n    MediaManager.prototype.unMute = function () {\r\n        this.muted = false;\r\n        return this;\r\n    };\r\n\r\n    MediaManager.prototype.isSupportCodec = function (fileExtension) {\r\n        return !!this.data.codecs[fileExtension];\r\n    };\r\n\r\n    MediaManager.prototype.addSound = function (data) {\r\n        new Sound(data, this);\r\n        return this;\r\n    };\r\n\r\n    MediaManager.prototype.addAudio = function (data) {\r\n        new Audio(data, this);\r\n        return this;\r\n    };\r\n\r\n    MediaManager.prototype.addVideo = function (data) {\r\n        //new Video(this, data);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {string} id\r\n     * @returns {Sound}\r\n     */\r\n    MediaManager.prototype.sound = function (id) {\r\n        return this.media.get('sounds').get(id);\r\n    };\r\n\r\n    MediaManager.prototype.audio = function (id) {\r\n        return this.media.get('audios').get(id);\r\n    };\r\n\r\n    MediaManager.prototype.video = function (id) {\r\n        return this.media.get('videos').get(id);\r\n    };\r\n\r\n    MediaManager.prototype.removeSound = function (id) {\r\n        if (this.media.get('sounds').contains(id)) {\r\n            this.media.get('sounds').get(id).stop();\r\n            this.media.get('sounds').remove(id);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    MediaManager.prototype.removeAudio = function (id) {\r\n        if (this.media.get('audios').contains(id)) {\r\n            this.media.get('audios').get(id).stop();\r\n            this.media.get('audios').remove(id);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    MediaManager.prototype.removeVideo = function (id) {\r\n        if (this.media.get('videos').contains(id)) {\r\n            this.media.get('videos').get(id).stop();\r\n            this.media.get('videos').remove(id);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.MediaManager = MediaManager;\r\n    if (global.j2d !== undefined) global.j2d.io.MediaManager = MediaManager;\r\n    return MediaManager;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/BadFunctionCallException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * BadFunctionCallException\r\n     * Create custom exception with message\r\n     *\r\n     * @class BadFunctionCallException\r\n     * @exports module:exceptions/BadFunctionCallException\r\n     * \r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var BadFunctionCallException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    BadFunctionCallException.prototype = Object.create(Exception.prototype);\r\n    BadFunctionCallException.prototype.constructor = BadFunctionCallException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.BadFunctionCallException = BadFunctionCallException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.BadFunctionCallException = BadFunctionCallException;\r\n    return BadFunctionCallException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/BadMethodCallException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * BadMethodCallException\r\n     * Create custom exception with message\r\n     * \r\n     * @class BadMethodCallException\r\n     * @exports module:exceptions/BadMethodCallException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var BadMethodCallException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    BadMethodCallException.prototype = Object.create(Exception.prototype);\r\n    BadMethodCallException.prototype.constructor = BadMethodCallException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.BadMethodCallException = BadMethodCallException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.BadMethodCallException = BadMethodCallException;\r\n    return BadMethodCallException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/Exception', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Default Exception\r\n     * Create custom exception with message\r\n     *\r\n     * @class Exception\r\n     * @exports module:exceptions/Exception\r\n     *\r\n     * @constructor\r\n     * @extends Error\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var Exception = function (message) {\r\n        Error.call(this, message);\r\n        this.message = message;\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    Exception.prototype = Object.create(Error.prototype);\r\n    Exception.prototype.constructor = Exception;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Exception = Exception;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.Exception = Exception;\r\n    return Exception;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/InvalidArgumentException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * InvalidArgumentException\r\n     * Create custom exception with message\r\n     *\r\n     * @class InvalidArgumentException\r\n     * @exports module:exceptions/InvalidArgumentException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var InvalidArgumentException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    InvalidArgumentException.prototype = Object.create(Exception.prototype);\r\n    InvalidArgumentException.prototype.constructor = InvalidArgumentException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.InvalidArgumentException = InvalidArgumentException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.InvalidArgumentException = InvalidArgumentException;\r\n    return InvalidArgumentException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/LengthException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * LengthException\r\n     * Create custom exception with message\r\n     *\r\n     * @class LengthException\r\n     * @exports module:exceptions/LengthException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var LengthException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    LengthException.prototype = Object.create(Exception.prototype);\r\n    LengthException.prototype.constructor = LengthException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.LengthException = LengthException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.LengthException = LengthException;\r\n    return LengthException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/LogicException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * LogicException\r\n     * Create custom exception with message\r\n     *\r\n     * @class LogicException\r\n     * @exports module:exceptions/LogicException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var LogicException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    LogicException.prototype = Object.create(Exception.prototype);\r\n    LogicException.prototype.constructor = LogicException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.LogicException = LogicException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.LogicException = LogicException;\r\n    return LogicException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/OutOfBoundsException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * OutOfBoundsException\r\n     * Create custom exception with message\r\n     *\r\n     * @class OutOfBoundsException\r\n     * @exports module:exceptions/OutOfBoundsException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var OutOfBoundsException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    OutOfBoundsException.prototype = Object.create(Exception.prototype);\r\n    OutOfBoundsException.prototype.constructor = OutOfBoundsException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.OutOfBoundsException = OutOfBoundsException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.OutOfBoundsException = OutOfBoundsException;\r\n    return OutOfBoundsException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/OutOfRangeException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * OutOfRangeException\r\n     * Create custom exception with message\r\n     *\r\n     * @class OutOfRangeException\r\n     * @exports module:exceptions/OutOfRangeException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var OutOfRangeException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    OutOfRangeException.prototype = Object.create(Exception.prototype);\r\n    OutOfRangeException.prototype.constructor = OutOfRangeException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.OutOfRangeException = OutOfRangeException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.OutOfRangeException = OutOfRangeException;\r\n    return OutOfRangeException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/RangeException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * RangeException\r\n     * Create custom exception with message\r\n     *\r\n     * @class RangeException\r\n     * @exports module:exceptions/RangeException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var RangeException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    RangeException.prototype = Object.create(Exception.prototype);\r\n    RangeException.prototype.constructor = RangeException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.RangeException = RangeException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.RangeException = RangeException;\r\n    return RangeException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/RuntimeException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * RuntimeException\r\n     * Create custom exception with message\r\n     *\r\n     * @class RuntimeException\r\n     * @exports module:exceptions/RuntimeException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var RuntimeException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    RuntimeException.prototype = Object.create(Exception.prototype);\r\n    RuntimeException.prototype.constructor = RuntimeException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.RuntimeException = RuntimeException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.RuntimeException = RuntimeException;\r\n    return RuntimeException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('exceptions/UnexpectedValueException', ['exceptions/Exception'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('exceptions/Exception'));\r\n    } else {\r\n        factory(root.j2d.exceptions.Exception);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Exception) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * UnexpectedValueException\r\n     * Create custom exception with message\r\n     *\r\n     * @class UnexpectedValueException\r\n     * @exports module:exceptions/UnexpectedValueException\r\n     *\r\n     * @constructor\r\n     * @extends exceptions/Exception\r\n     * @param {string} message\r\n     * @property {string} message\r\n     */\r\n    var UnexpectedValueException = function (message) {\r\n        Exception.call(this, message);\r\n\r\n        /**\r\n         * Convert exception to String\r\n         * @returns {string}\r\n         */\r\n        this.toString = function () {\r\n            return this.message;\r\n        }\r\n    };\r\n\r\n    UnexpectedValueException.prototype = Object.create(Exception.prototype);\r\n    UnexpectedValueException.prototype.constructor = UnexpectedValueException;\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.UnexpectedValueException = UnexpectedValueException;\r\n    if (global.j2d !== undefined) global.j2d.exceptions.UnexpectedValueException = UnexpectedValueException;\r\n    return UnexpectedValueException;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('loaders/AssetsLoader', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Assets Loader\r\n     *\r\n     * @class AssetsLoader\r\n     * @exports module:loaders/AssetsLoader\r\n     *\r\n     * @constructor\r\n     */\r\n    var AssetsLoader = function () {\r\n        this.progress = 0;\r\n    };\r\n\r\n    AssetsLoader.prototype.getProgress = function () {\r\n        return this.progress;\r\n    };\r\n\r\n    AssetsLoader.prototype.load = function () {};\r\n    AssetsLoader.prototype.isLoaded = function (index) {};\r\n    AssetsLoader.prototype.dispose = function (index) {};\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.AssetsLoader = AssetsLoader;\r\n    if (global.j2d !== undefined) global.j2d.loaders.AssetsLoader = AssetsLoader;\r\n    return AssetsLoader;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n// TODO:: move(+v.x, +v.y)\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('nodes/AnimatedNode', [\r\n            'utils/ObjectUtil',\r\n            'nodes/BaseNode',\r\n            'utils/Vector2d',\r\n            'transitions/Tween'\r\n        ], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('utils/ObjectUtil'),\r\n            require('nodes/BaseNode'),\r\n            require('utils/Vector2d'),\r\n            require('transitions/Tween')\r\n        );\r\n    } else {\r\n        factory(\r\n            root.j2d.utils.ObjectUtil,\r\n            root.j2d.nodes.BaseNode,\r\n            root.j2d.utils.Vector2d,\r\n            root.j2d.transitions.Tween\r\n        );\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, BaseNode, Vector2d, Tween) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class AnimatedNode\r\n     * @exports module:nodes/AnimatedNode\r\n     * \r\n     * @abstract\r\n     * @constructor\r\n     * @extends nodes/BaseNode\r\n     * @param {BaseNode.defaults|AnimatedNode.defaults|Object} [data]\r\n     * @property {BaseNode.defaults|AnimatedNode.defaults} data\r\n     */\r\n    var AnimatedNode = function (data) {\r\n        BaseNode.call(this, ObjectUtil.extend(true, {}, AnimatedNode.defaults, data));\r\n    };\r\n\r\n    AnimatedNode.prototype = Object.create(BaseNode.prototype);\r\n    AnimatedNode.prototype.constructor = AnimatedNode;\r\n\r\n    AnimatedNode.defaults = {\r\n        type: 'AnimatedNode'\r\n    };\r\n\r\n    /**\r\n     * @param {Vector2d|BaseNode} position\r\n     * @param {number} [duration]\r\n     * @param {boolean} [durationAsSpeed]\r\n     */\r\n    AnimatedNode.prototype.moveTo = function (position, duration, durationAsSpeed) {\r\n        if (duration === undefined || typeof duration !== 'number') duration = 1000.0;\r\n\r\n        if (typeof position === 'object') {\r\n            var tween = new Tween(this);\r\n\r\n            if (position instanceof Vector2d) {\r\n                if (durationAsSpeed) duration = Vector2d.getDistance(this.getPosition(), position) / duration;\r\n                tween.to({\r\n                    position: {\r\n                        x: position.getVector().x,\r\n                        y: position.getVector().y\r\n                    }\r\n                }, duration);\r\n            } else if (position instanceof BaseNode) {\r\n                if (durationAsSpeed) duration = Vector2d.getDistance(this.getPosition(), position.getPosition()) / duration;\r\n                tween.to({\r\n                    position: {\r\n                        x: position.getPosition().getVector().x,\r\n                        y: position.getPosition().getVector().y\r\n                    }\r\n                }, duration);\r\n            }\r\n\r\n            tween.start();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {Vector2d|BaseNode} size\r\n     * @param {number} [duration]\r\n     * @param {boolean} [durationAsSpeed]\r\n     */\r\n    AnimatedNode.prototype.resizeTo = function (size, duration, durationAsSpeed) {\r\n        if (duration === undefined || typeof duration !== 'number') duration = 1000.0;\r\n        if (typeof position === 'object') {\r\n            var tween = new Tween(this);\r\n\r\n            if (size instanceof Vector2d) {\r\n                if (durationAsSpeed) duration = Vector2d.getDistance(this.getSize(), size) / duration;\r\n                tween.to({\r\n                    size: {\r\n                        x: size.getVector().x,\r\n                        y: size.getVector().y\r\n                    }\r\n                }, duration);\r\n            } else if (size instanceof BaseNode) {\r\n                if (durationAsSpeed) duration = Vector2d.getDistance(this.getSize(), size.getSize()) / duration;\r\n                tween.to({\r\n                    size: {\r\n                        x: size.getSize().getVector().x,\r\n                        y: size.getSize().getVector().y\r\n                    }\r\n                }, duration);\r\n            }\r\n\r\n            tween.start();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {number|BaseNode} angle\r\n     * @param {number} [duration]\r\n     */\r\n    AnimatedNode.prototype.rotateTo = function (angle, duration) {\r\n        if (duration === undefined || typeof duration !== 'number') duration = 1000.0;\r\n        var tween = new Tween(this);\r\n\r\n        if (typeof angle === 'number') {\r\n            tween.to({angle: angle % 360}, duration);\r\n        } else if (typeof angle === 'object' && angle instanceof BaseNode) {\r\n            tween.to({\r\n                angle: Vector2d.getAngle(angle.getPosition(), this.getPosition())\r\n            }, duration);\r\n        }\r\n\r\n        tween.start();\r\n    };\r\n\r\n    /**\r\n     * @param {number} [velocity]\r\n     */\r\n    AnimatedNode.prototype.turn = function (velocity) {\r\n        if (velocity === undefined || typeof velocity !== 'number') velocity = 1.0;\r\n        this.angle += velocity;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.AnimatedNode = AnimatedNode;\r\n    if (global.j2d !== undefined) global.j2d.nodes.AnimatedNode = AnimatedNode;\r\n    return AnimatedNode;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('nodes/BaseNode', ['utils/ObjectUtil', 'utils/Vector2d', 'utils/UUID'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ObjectUtil'), require('utils/Vector2d'), require('utils/UUID'));\r\n    } else {\r\n        factory(root.j2d.utils.ObjectUtil, root.j2d.utils.Vector2d, root.j2d.utils.UUID);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, Vector2d, UUID) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class BaseNode\r\n     * @exports module:nodes/BaseNode\r\n     * \r\n     * @abstract\r\n     * @constructor\r\n     * @param {BaseNode.defaults|Object} [data]\r\n     * @property {BaseNode.defaults} data\r\n     */\r\n    var BaseNode = function (data) {\r\n        var baseNode = this;\r\n        this.data = ObjectUtil.extend(true, {}, BaseNode.defaults, data);\r\n\r\n        if (this.data.id === null) {\r\n            this.data.id = UUID.generate();\r\n        }\r\n\r\n        Object.defineProperty(this, 'opacity', {\r\n            get: function () {\r\n                return baseNode.data.opacity;\r\n            },\r\n            set: function (value) {\r\n                baseNode.data.opacity = value;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'visible', {\r\n            get: function () {\r\n                return baseNode.data.visible;\r\n            },\r\n            set: function (value) {\r\n                baseNode.data.visible = !!value;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'angle', {\r\n            get: function () {\r\n                return baseNode.data.angle;\r\n            },\r\n            set: function (value) {\r\n                baseNode.data.angle = value % 360;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'scale', {\r\n            get: function () {\r\n                return baseNode.data.scale;\r\n            },\r\n            set: function (value) {\r\n                baseNode.data.scale = value;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(this, 'cache', {\r\n            get: function () {\r\n                return baseNode.data.enabledCache;\r\n            },\r\n            set: function (value) {\r\n                baseNode.data.enabledCache = !!value;\r\n            }\r\n        });\r\n    };\r\n\r\n    BaseNode.defaults = {\r\n        /** @type {string|null} */\r\n        id: null,\r\n        type: 'BaseNode',\r\n\r\n        position: {\r\n            x: 0.0,\r\n            y: 0.0\r\n        },\r\n        size: {\r\n            x: 0.0,\r\n            y: 0.0\r\n        },\r\n        offset: {\r\n            x: 0.0,\r\n            y: 0.0\r\n        },\r\n\r\n        visible: true,\r\n        angle: 0.0,\r\n        scale: 1.0,\r\n        opacity: 1.0,\r\n\r\n        cache: null,\r\n        enabledCache: false // TODO:: Collections & AnimatedPrimitiveNode\r\n    };\r\n\r\n    /**\r\n     * @param {BaseNode.defaults|Object} data\r\n     */\r\n    BaseNode.prototype.import = function (data) {\r\n        this.data = ObjectUtil.extend(true, {}, this.data, data);\r\n    };\r\n\r\n    /**\r\n     * @returns {BaseNode.defaults}\r\n     */\r\n    BaseNode.prototype.export = function () {\r\n        return this.data;\r\n    };\r\n\r\n    /**\r\n     * @returns {Vector2d}\r\n     */\r\n    BaseNode.prototype.getPosition = function () {\r\n        return new Vector2d(this.data.position.x, this.data.position.y);\r\n    };\r\n\r\n    /**\r\n     * @param {Vector2d|BaseNode} position\r\n     * @returns {BaseNode}\r\n     */\r\n    BaseNode.prototype.setPosition = function (position) {\r\n        if (position !== undefined) {\r\n            if (position instanceof Vector2d) {\r\n                this.data.position = position.getVector();\r\n            } else if (position instanceof BaseNode) {\r\n                this.data.position = position.getPosition().getVector();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {Vector2d}\r\n     */\r\n    BaseNode.prototype.getSize = function () {\r\n        return new Vector2d(this.data.size.x, this.data.size.y);\r\n    };\r\n\r\n    /**\r\n     * @param {Vector2d|BaseNode} size\r\n     * @returns {BaseNode}\r\n     */\r\n    BaseNode.prototype.setSize = function (size) {\r\n        if (size !== undefined) {\r\n            if (size instanceof Vector2d) {\r\n                this.data.size = size.getVector();\r\n            } else if (size instanceof BaseNode) {\r\n                this.data.size = size.getSize().getVector();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {Vector2d}\r\n     */\r\n    BaseNode.prototype.getOffset = function () {\r\n        return new Vector2d(this.data.offset.x, this.data.offset.y);\r\n    };\r\n\r\n    /**\r\n     * @param {Vector2d|BaseNode} offset\r\n     * @returns {BaseNode}\r\n     */\r\n    BaseNode.prototype.setOffset = function (offset) {\r\n        if (offset !== undefined) {\r\n            if (offset instanceof Vector2d) {\r\n                this.data.offset = offset.getVector();\r\n            } else if (offset instanceof BaseNode) {\r\n                this.data.offset = offset.getOffset().getVector();\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /* ------------------------------ Render ------------------------------ */\r\n\r\n    /**\r\n     * Must be override this in child!\r\n     *\r\n     * @deprecated\r\n     * @overridable\r\n     *\r\n     * @param {CanvasRenderingContext2D} context\r\n     * @param {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} viewport\r\n     * @param {CollectionNode} collection\r\n     * @param {object} data\r\n     * @returns {BaseNode}\r\n     */\r\n    BaseNode.prototype.render = function (context, viewport, collection, data) {\r\n        // throw new Exception('Trying to render base node.'); // TODO:: exceptions\r\n        return this;\r\n    };\r\n\r\n    //TODO:: Fix on fullscreen\r\n    /**\r\n     * @param {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} viewport\r\n     * @returns {boolean}\r\n     */\r\n    BaseNode.prototype.inViewport = function (viewport) {\r\n        return !((this.data.position.x > viewport.offset.x + viewport.size.x\r\n        || this.data.position.x + viewport.size.x < viewport.offset.x)\r\n        || (this.data.position.y > viewport.offset.y + viewport.size.y\r\n        || this.data.position.y + viewport.size.y < viewport.offset.y));\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.BaseNode = BaseNode;\r\n    if (global.j2d !== undefined) global.j2d.nodes.BaseNode = BaseNode;\r\n    return BaseNode;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('nodes/CameraNode', ['utils/ObjectUtil', 'nodes/BaseNode', 'nodes/AnimatedNode'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ObjectUtil'), require('nodes/BaseNode'), require('nodes/AnimatedNode'));\r\n    } else {\r\n        factory(root.j2d.utils.ObjectUtil, root.j2d.nodes.BaseNode, root.j2d.nodes.AnimatedNode);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, BaseNode, AnimatedNode) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class CameraNode\r\n     * @exports module:nodes/CameraNode\r\n     *\r\n     * @constructor\r\n     * @extends nodes/AnimatedNode\r\n     * @param {BaseNode.defaults|AnimatedNode.defaults|CameraNode.defaults|Object} [data]\r\n     * @property {BaseNode.defaults|AnimatedNode.defaults|CameraNode.defaults} data\r\n     */\r\n    var CameraNode = function (data) {\r\n        AnimatedNode.call(this, ObjectUtil.extend(true, {}, CameraNode.defaults, data));\r\n    };\r\n\r\n    CameraNode.prototype = Object.create(AnimatedNode.prototype);\r\n    CameraNode.prototype.constructor = CameraNode;\r\n\r\n    CameraNode.defaults = {\r\n        type: 'CameraNode'\r\n    };\r\n\r\n    /**\r\n     * @param {{x: number, y: number, offsetX: number, offsetY: number}} screen\r\n     * @param {Function|callback} calculate\r\n     * @returns {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}}\r\n     */\r\n    CameraNode.prototype.getCameraViewport = function (screen, calculate) {\r\n        return calculate(screen, {\r\n            offset: this.data.position,\r\n            size: this.data.size,\r\n            angle: this.data.angle,\r\n            scale: this.data.scale\r\n        });\r\n    };\r\n\r\n    /* ------------------------------ Render ------------------------------ */\r\n\r\n    /**\r\n     * @override\r\n     *\r\n     * @param {CanvasRenderingContext2D} context\r\n     * @param {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} viewport\r\n     * @param {CollectionNode} collection\r\n     * @param {object} data\r\n     * @returns {CameraNode}\r\n     */\r\n    CameraNode.prototype.render = function (context, viewport, collection, data) {\r\n        return this;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.CameraNode = CameraNode;\r\n    if (global.j2d !== undefined) global.j2d.nodes.CameraNode = CameraNode;\r\n    return CameraNode;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('nodes/CollectionNode', ['utils/ObjectUtil', 'nodes/BaseNode', 'nodes/AnimatedNode', 'utils/ArrayMap'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('utils/ObjectUtil'),\r\n            require('nodes/BaseNode'),\r\n            require('nodes/AnimatedNode'),\r\n            require('utils/ArrayMap')\r\n        );\r\n    } else {\r\n        factory(root.j2d.utils.ObjectUtil, root.j2d.nodes.BaseNode, root.j2d.nodes.AnimatedNode, root.j2d.utils.ArrayMap);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, BaseNode, AnimatedNode, ArrayMap) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class CollectionNode\r\n     * @exports module:nodes/CollectionNode\r\n     *\r\n     * @constructor\r\n     * @extends nodes/AnimatedNode\r\n     * @param {BaseNode.defaults|AnimatedNode.defaults|CollectionNode.defaults|Object} [data]\r\n     * @property {BaseNode.defaults|AnimatedNode.defaults|CollectionNode.defaults} data\r\n     */\r\n    var CollectionNode = function (data) {\r\n        var collectionNode = this;\r\n        AnimatedNode.call(this, ObjectUtil.extend(true, {}, CollectionNode.defaults, data));\r\n\r\n        if (this.data.collection === null) {\r\n            this.data.collection = new ArrayMap();\r\n        }\r\n\r\n        Object.defineProperty(this, 'zIndex', {\r\n            get: function () {\r\n                return 1000 - collectionNode.data.zIndex;\r\n            },\r\n            set: function (value) {\r\n                collectionNode.data.zIndex = 1000 + value;\r\n            }\r\n        });\r\n    };\r\n\r\n    CollectionNode.prototype = Object.create(AnimatedNode.prototype);\r\n    CollectionNode.prototype.constructor = CollectionNode;\r\n\r\n    CollectionNode.defaults = {\r\n        type: 'CollectionNode',\r\n        /** @type {ArrayMap|null} */\r\n        collection: null,\r\n        zIndex: 1000\r\n    };\r\n\r\n    /**\r\n     * @param {BaseNode|CollectionNode} node\r\n     * @param {string} key\r\n     * @returns {CollectionNode}\r\n     */\r\n    CollectionNode.prototype.add = function (node, key) {\r\n        if (node instanceof BaseNode) {\r\n            key = key || node.data.id;\r\n            this.data.collection.add(key, node);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {BaseNode|CollectionNode|null} node\r\n     * @param {string} key\r\n     * @returns {CollectionNode}\r\n     */\r\n    CollectionNode.prototype.remove = function (node, key) {\r\n        if (node instanceof BaseNode) {\r\n            this.data.collection.remove(this.data.collection[node.data.id]);\r\n        }\r\n        if (typeof key === 'string' && node === null) {\r\n            this.data.collection.remove(key);\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {string} key\r\n     * @returns {boolean}\r\n     */\r\n    CollectionNode.prototype.has = function (key) {\r\n        return this.data.collection[key] !== undefined;\r\n    };\r\n\r\n    /**\r\n     * @param {string} key\r\n     * @returns {BaseNode|CollectionNode|boolean}\r\n     */\r\n    CollectionNode.prototype.get = function (key) {\r\n        if (this.data.collection[key] !== undefined) {\r\n            return this.data.collection[key];\r\n        }\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     * @returns {CollectionNode}\r\n     */\r\n    CollectionNode.prototype.flush = function () {\r\n        this.data.collection.length = 0;\r\n        return this;\r\n    };\r\n\r\n    /* ------------------------------ Render ------------------------------ */\r\n\r\n    /**\r\n     * @override\r\n     *\r\n     * @param {CanvasRenderingContext2D} context\r\n     * @param {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} viewport\r\n     * @param {CollectionNode} collection\r\n     * @param {object} data\r\n     * @returns {CollectionNode}\r\n     */\r\n    CollectionNode.prototype.render = function (context, viewport, collection, data) {\r\n        var collectionNode = this;\r\n\r\n        if (this.data.collection.length !== 0) {\r\n            this.data.collection.each(function (index) {\r\n                if (collectionNode.data.collection.hasOwnProperty(index)\r\n                    && collectionNode.data.collection[index] instanceof BaseNode) {\r\n                    collectionNode.data.collection[index].render(context, viewport, collection, data);\r\n                }\r\n            });\r\n        }\r\n        return this;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.CollectionNode = CollectionNode;\r\n    if (global.j2d !== undefined) global.j2d.nodes.CollectionNode = CollectionNode;\r\n    return CollectionNode;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('nodes/RectNode', ['utils/ObjectUtil', 'nodes/BaseNode', 'nodes/AnimatedNode', 'utils/MathUtil'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('utils/ObjectUtil'),\r\n            require('nodes/BaseNode'),\r\n            require('nodes/AnimatedNode'),\r\n            require('utils/MathUtil'));\r\n    } else {\r\n        factory(root.j2d.utils.ObjectUtil, root.j2d.nodes.BaseNode, root.j2d.nodes.AnimatedNode, root.j2d.utils.MathUtil);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, BaseNode, AnimatedNode, MathUtil) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class RectNode\r\n     * @exports module:nodes/RectNode\r\n     *\r\n     * @constructor\r\n     * @extends nodes/AnimatedNode\r\n     * @param {BaseNode.defaults|AnimatedNode.defaults|RectNode.defaults|Object} [data]\r\n     * @property {BaseNode.defaults|AnimatedNode.defaults|RectNode.defaults} data\r\n     */\r\n    var RectNode = function (data) {\r\n        AnimatedNode.call(this, ObjectUtil.extend(true, {}, RectNode.defaults, data));\r\n    };\r\n\r\n    RectNode.prototype = Object.create(AnimatedNode.prototype);\r\n    RectNode.prototype.constructor = RectNode;\r\n\r\n    RectNode.defaults = {\r\n        type: 'RectNode',\r\n        color: '#000000'\r\n    };\r\n\r\n    /**\r\n     * @returns {string}\r\n     */\r\n    RectNode.prototype.getColor = function () {\r\n        return this.data.color;\r\n    };\r\n\r\n    /**\r\n     * @param {string} color\r\n     * @returns {RectNode}\r\n     */\r\n    RectNode.prototype.setColor = function (color) {\r\n        this.data.color = color;\r\n        return this;\r\n    };\r\n\r\n\r\n    /* ------------------------------ Draw ------------------------------ */\r\n\r\n    /**\r\n     * @param {CanvasRenderingContext2D} context\r\n     * @param {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} viewport\r\n     * @param {CollectionNode} collection\r\n     * @param {object} data\r\n     * @returns {null}\r\n     */\r\n    RectNode.prototype.draw = function (context, viewport, collection, data) {\r\n        if (this.data.visible && this.inViewport(viewport)) {\r\n            //console.log(this.inViewport(viewport));\r\n            if (this.data.opacity !== 1.0) {\r\n                var tempOpacity = context.globalAlpha;\r\n                context.globalAlpha = this.data.opacity;\r\n            }\r\n\r\n            if (this.data.angle || viewport.angle !== 0.0) {\r\n                context.save();\r\n\r\n                context.translate(\r\n                    this.getPosition().x - viewport.offset.x,\r\n                    this.getPosition().y - viewport.offset.y);\r\n                context.rotate(MathUtil.degree2Radian(this.data.angle + viewport.angle));\r\n                context.translate(\r\n                    -(this.getPosition().x - viewport.offset.x),\r\n                    -(this.getPosition().y - viewport.offset.y));\r\n            }\r\n\r\n            context.fillStyle = this.data.color;\r\n            context.lineWidth = 0;\r\n\r\n            context.fillRect(\r\n                this.data.position.x - viewport.offset.x,\r\n                this.data.position.y - viewport.offset.y,\r\n                this.data.size.x * this.data.scale * viewport.scale,\r\n                this.data.size.y * this.data.scale * viewport.scale\r\n            );\r\n\r\n            if (this.data.angle || viewport.angle !== 0.0) {\r\n                context.restore();\r\n            }\r\n\r\n            if (this.data.opacity !== 1.0) {\r\n                context.globalAlpha = tempOpacity;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    /* ------------------------------ Render ------------------------------ */\r\n\r\n    /**\r\n     * @override\r\n     *\r\n     * @param {CanvasRenderingContext2D} context\r\n     * @param {{offset: {x: number, y: number}, size: {x: number, y: number}, scale: number, angle: number}} viewport\r\n     * @param {CollectionNode} collection\r\n     * @param {object} data\r\n     * @returns {RectNode}\r\n     */\r\n    RectNode.prototype.render = function (context, viewport, collection, data) {\r\n        this.draw(context, viewport, collection, data);\r\n        return this;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.RectNode = RectNode;\r\n    if (global.j2d !== undefined) global.j2d.nodes.RectNode = RectNode;\r\n    return RectNode;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('states/BaseGameState', ['utils/ObjectUtil', 'utils/ArrayMap', 'utils/Events', 'utils/UUID'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ObjectUtil'), require('utils/ArrayMap'), require('utils/Events'), require('utils/UUID'));\r\n    } else {\r\n        factory(root.j2d.utils.ObjectUtil, root.j2d.utils.ArrayMap, root.j2d.utils.Events, root.j2d.utils.UUID);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, ArrayMap, Events, UUID) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Base class of state\r\n     *\r\n     * @class BaseGameState\r\n     * @abstract\r\n     * @constructor\r\n     *\r\n     * @param {GameStatesManager} gsm\r\n     * @param {BaseGameState.defaults|Object} [data]\r\n     * @property {BaseGameState.defaults|Object} data\r\n     * @property {string} id\r\n     */\r\n    var BaseGameState = function (gsm, data) {\r\n        var state = this;\r\n        if (data === undefined) data = {};\r\n        if (data === undefined) data = {};\r\n        data.currentState = 0;\r\n        if (data.id === undefined || data.id === null) {\r\n            data.id = UUID.generate();\r\n        }\r\n        state.data = ObjectUtil.extend(true, {}, BaseGameState.defaults, data);\r\n\r\n        state.gsm = gsm;\r\n        state.loader = null;\r\n        state.events = new Events();\r\n\r\n        Object.defineProperty(this, 'id', {\r\n            get: function () {\r\n                return state.data.id;\r\n            },\r\n            set: function (value) {\r\n                state.data.id = value;\r\n            }\r\n        });\r\n    };\r\n\r\n    BaseGameState.defaults = {\r\n        id: 'BaseState',\r\n        currentState: 0\r\n    };\r\n\r\n    BaseGameState.STATE = {\r\n        STATE_NOT_LOADED: 0,\r\n        STATE_INIT: 1,\r\n        STATE_LOAD: 2,\r\n        STATE_UPDATE: 3,\r\n        STATE_RENDER: 4,\r\n        STATE_UNLOAD: 5\r\n    };\r\n\r\n    BaseGameState.prototype.init = function (data) {\r\n        if (typeof data === 'object' && data.callback !== undefined) {\r\n            data.callback();\r\n        }\r\n        return true;\r\n    };\r\n    BaseGameState.prototype.load = function (data) {\r\n        if (typeof data === 'object' && data.callback !== undefined) data.callback();\r\n        return true;\r\n    };\r\n    BaseGameState.prototype.update = function (timestamp, data) {\r\n        return true;\r\n    };\r\n    BaseGameState.prototype.render = function (timestamp, data) {\r\n        return true;\r\n    };\r\n    BaseGameState.prototype.unload = function (data) {\r\n        if (typeof data === 'object' && data.callback !== undefined) data.callback();\r\n        return true;\r\n    };\r\n\r\n\r\n    /* Events wrappers */\r\n    /**\r\n     * @param {string} event\r\n     * @param {function} callback\r\n     * @returns {boolean}\r\n     */\r\n    BaseGameState.prototype.on = function (event, callback) {\r\n        return this.events.on(event, callback);\r\n    };\r\n\r\n    /**\r\n     * @param {string} event\r\n     * @param {function} callback\r\n     * @returns {boolean}\r\n     */\r\n    BaseGameState.prototype.off = function (event, callback) {\r\n        return this.events.off(event, callback);\r\n    };\r\n\r\n    /**\r\n     * @param {string} event\r\n     * @param {function} callback\r\n     * @returns {boolean}\r\n     */\r\n    BaseGameState.prototype.once = function (event, callback) {\r\n        return this.events.once(event, callback);\r\n    };\r\n\r\n    /**\r\n     * @param {string} event\r\n     * @returns {boolean}\r\n     */\r\n    BaseGameState.prototype.flush = function (event) {\r\n        return this.events.flush(event);\r\n    };\r\n\r\n    /**\r\n     * @param {string} event\r\n     * @param {Array.<*>} data\r\n     * @returns {boolean}\r\n     */\r\n    BaseGameState.prototype.trigger = function (event, data) {\r\n        return this.events.trigger(event, data);\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.BaseGameState = BaseGameState;\r\n    if (global.j2d !== undefined) global.j2d.states.BaseGameState = BaseGameState;\r\n    return BaseGameState;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('states/DefaultGameState', ['states/BaseGameState'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('states/BaseGameState'));\r\n    } else {\r\n        factory(root.j2d.states.BaseGameState);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (BaseGameState) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Default game state\r\n     *\r\n     * @class DefaultGameState\r\n     * @abstract\r\n     * @constructor\r\n     *\r\n     * @param {GameStatesManager} gsm\r\n     * @param {DefaultGameState.defaults|BaseGameState.defaults|Object} [data]\r\n     * @property {DefaultGameState.defaults|BaseGameState.defaults|Object} data\r\n     */\r\n    var DefaultGameState = function (gsm, data) {\r\n        if (data === undefined) data = {};\r\n        data.id = 'init_j2d';\r\n        BaseGameState.call(this, gsm, data);\r\n    };\r\n\r\n    DefaultGameState.prototype = Object.create(BaseGameState.prototype);\r\n    DefaultGameState.prototype.constructor = DefaultGameState;\r\n\r\n    // DefaultGameState.prototype.init = function (data) {\r\n    //     return BaseGameState.prototype.init.call(this, data);\r\n    // };\r\n    // DefaultGameState.prototype.load = function (data) {\r\n    //     return BaseGameState.prototype.load.call(this, data);\r\n    // };\r\n    DefaultGameState.prototype.update = function (timestamp, data) {\r\n        setTimeout(function () {\r\n            this.gsm.setNextState();\r\n        }.bind(this), 1000);\r\n        return true;\r\n    };\r\n    // DefaultGameState.prototype.render = function (timestamp, data) {\r\n    //     return true;\r\n    // };\r\n    // DefaultGameState.prototype.unload = function (data) {\r\n    //     return BaseGameState.prototype.unload.call(this, data);\r\n    // };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.DefaultGameState = DefaultGameState;\r\n    if (global.j2d !== undefined) global.j2d.states.DefaultGameState = DefaultGameState;\r\n    return DefaultGameState;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, James Simpson of GoldFire Studios(howler.js)\r\n * @original_source https://github.com/goldfire/howler.js/blob/master/howler.js\r\n * @license BSD, MIT(howler.js)\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('media/Audio', ['utils/ObjectUtil', 'utils/UUID', 'utils/Events'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ObjectUtil'), require('utils/UUID'), require('utils/Events'));\r\n    } else {\r\n        factory(root.j2d.utils.ObjectUtil, root.j2d.utils.UUID, root.j2d.utils.Events);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, UUID, Events) {\r\n    \"use strict\";\r\n\r\n    var cache = {};\r\n    var AudioNode = global.Audio;\r\n\r\n    /**\r\n     * @class Audio\r\n     * @exports module:media/Audio\r\n     *\r\n     * @constructor\r\n     * @param {Audio.defaults|Object} [data]\r\n     * @param {MediaManager} [manager]\r\n     */\r\n    var Audio = function (data, manager) {\r\n        var audio = this;\r\n        audio.manager = manager !== undefined ? manager : null;\r\n        audio.events = !!audio.manager ? audio.manager.events : new Events();\r\n        audio.data = ObjectUtil.extend(true, {}, Audio.defaults, data);\r\n\r\n        audio.audioNode = [];\r\n\r\n        if (audio.data.id === null) {\r\n            audio.data.id = UUID.generate();\r\n        }\r\n\r\n        if (audio.manager) audio.manager.media.get('audios').add(audio.data.id, audio);\r\n\r\n        audio.load();\r\n    };\r\n\r\n    Audio.defaults = {\r\n        id: null,\r\n        src: [],\r\n        format: null,\r\n        autoPlay: false,\r\n\r\n        duration: 0,\r\n        loop: false,\r\n        sprite: {},\r\n        volume: 1,\r\n        muted: false,\r\n        pos3d: [0, 0, -0.5],\r\n\r\n        loaded: false,\r\n        onEndTimer: []\r\n    };\r\n\r\n    Audio.prototype._load = function (audio) {\r\n        var audioNode = new AudioNode();\r\n\r\n        audioNode.addEventListener('error', function () {\r\n            console.error({type: audioNode.error ? audioNode.error.code : 0});\r\n        }, false);\r\n\r\n        audio.audioNode.push(audioNode);\r\n\r\n        audioNode.src = audio.data.src;\r\n        audioNode.pos = 0;\r\n        audioNode.preload = 'auto';\r\n        audioNode.volume = (!!audio.manager)\r\n            ? (audio.manager.muted) ? 0 : audio.data.volume * (audio.manager.volume / 100)\r\n            : (audio.data.muted) ? 0 : audio.data.volume;\r\n\r\n        var listener = function () {\r\n            audio.data.duration = Math.ceil(audioNode.duration * 10) / 10;\r\n\r\n            if (Object.getOwnPropertyNames(audio.data.sprite).length === 0) {\r\n                audio.data.sprite = {default: [0, audio.data.duration * 1000]};\r\n            }\r\n\r\n            if (!audio.data.loaded) {\r\n                audio.data.loaded = true;\r\n                audio.events.trigger('load');\r\n            }\r\n\r\n            if (audio.data.autoPlay) {\r\n                audio.play();\r\n            }\r\n\r\n            audioNode.removeEventListener('canplaythrough', listener, false);\r\n        };\r\n        audioNode.addEventListener('canplaythrough', listener, false);\r\n        audioNode.load();\r\n\r\n        return audio;\r\n    };\r\n\r\n    Audio.prototype.load = function () {\r\n        var audio = this;\r\n        var url = '', extension = '';\r\n\r\n        if (audio.manager && (!!audio.manager.isSupportAudio)) {\r\n            console.warn('No audio support.');\r\n            return false;\r\n        }\r\n\r\n        var extractFormat = function (source, format) {\r\n            if (format) return format;\r\n\r\n            var extension = /^data:audio\\/([^;,]+);/i.exec(source);\r\n            if (!extension) {\r\n                extension = /\\.([^.]+)$/.exec(source.split('?', 1)[0]);\r\n            }\r\n\r\n            if (extension) {\r\n                return extension[1].toLowerCase();\r\n            } else {\r\n                console.warn('Could not extract format from passed URLs, please add format');\r\n            }\r\n            return null;\r\n        };\r\n\r\n        if (audio.data.src instanceof Array) {\r\n            for (var i = 0; i < audio.data.src.length; i++) {\r\n                url = audio.data.src[i];\r\n                extension = extractFormat(audio.data.src[i], audio.data.format);\r\n                if (null !== extension) break;\r\n            }\r\n            audio.data.src = url;\r\n        } else if (typeof audio.data.src === 'string') {\r\n            extension = extractFormat(audio.data.src, audio.data.format);\r\n        } else {\r\n            console.warn('Unknown audio source');\r\n            return false;\r\n        }\r\n\r\n        if (audio.manager && audio.manager.isSupportCodec[extension]) {\r\n            console.warn('Codec not support');\r\n            return false;\r\n        }\r\n\r\n        return audio._load(audio);\r\n    };\r\n\r\n    Audio.prototype._unload = function (audioNode) {\r\n        audioNode.src = '';\r\n    };\r\n\r\n    Audio.prototype.unload = function () {\r\n        var audio = this;\r\n\r\n        var nodes = audio.audioNode;\r\n        for (var i = 0; i < audio.audioNode.length; i++) {\r\n            if (!nodes[i].paused) {\r\n                audio.stop(nodes[i].id);\r\n                audio.events.trigger('unload', nodes[i].id);\r\n            }\r\n            audio._unload(nodes[i]);\r\n        }\r\n\r\n        for (i = 0; i < audio.data.onEndTimer.length; i++) {\r\n            clearTimeout(audio.data.onEndTimer[i].timer);\r\n        }\r\n\r\n        if (audio.manager) {\r\n            var audios = this.manager.get('audios');\r\n            var index = audios.indexOf(audio);\r\n            if (index !== null && index >= 0) {\r\n                audios.splice(index, 1);\r\n            }\r\n        }\r\n\r\n        delete cache[audio.data.src];\r\n        audio = null;\r\n    };\r\n\r\n    Audio.prototype.src = function (source) {\r\n        var audio = this;\r\n\r\n        if (source) {\r\n            audio.stop();\r\n            audio.data.src = source;\r\n            audio.data.loaded = false;\r\n            audio.load();\r\n        } //TODO:: else throw\r\n\r\n        return null;\r\n    };\r\n\r\n    Audio.prototype.play = function (sprite, callback) {\r\n        var audio = this;\r\n\r\n        if (typeof sprite === 'function') callback = sprite;\r\n        if (!sprite || typeof sprite === 'function') sprite = 'default';\r\n\r\n        if (!audio.data.loaded) {\r\n            audio.events.on('load', function () {\r\n                audio.play(sprite, callback);\r\n            });\r\n\r\n            return audio;\r\n        }\r\n\r\n        if (!audio.data.sprite[sprite]) {\r\n            if (typeof callback === 'function') callback();\r\n            return audio;\r\n        }\r\n\r\n        audio._inactiveNode(audio, function (node) {\r\n            node.sprite = sprite;\r\n\r\n            var pos = (node.pos > 0) ? node.pos : audio.data.sprite[sprite][0] / 1000;\r\n            var duration = audio.data.sprite[sprite][1] / 1000 - (pos - audio.data.sprite[sprite][0] / 1000);\r\n            var loop = !!(audio.data.loop || audio.data.sprite[sprite][2]);\r\n\r\n            var soundId = (typeof callback === 'string')\r\n                ? callback\r\n                : Math.round(Date.now() * Math.random()) + '', timerId;\r\n\r\n            (function () {\r\n                var data = {\r\n                    id: soundId,\r\n                    sprite: sprite,\r\n                    loop: loop\r\n                };\r\n\r\n                timerId = setTimeout(function () {\r\n                    if (loop) {\r\n                        audio.stop(data.id).play(sprite, data.id);\r\n                    } else {\r\n                        audio.stop(data.id);\r\n                    }\r\n\r\n                    audio.events.trigger('unload', soundId);\r\n                }, (duration / audio.data.rate) * 1000);\r\n\r\n                audio.data.onEndTimer.push({timer: timerId, id: data.id});\r\n            })();\r\n\r\n\r\n            if (node.readyState === 4 || !node.readyState && navigator.isCocoonJS) {\r\n                node.id = soundId;\r\n                node.currentTime = pos;\r\n\r\n                node.muted = audio.manager\r\n                    ? (audio.manager.muted || node.muted)\r\n                    : (audio.data.muted || node.muted);\r\n\r\n                node.volume = audio.manager\r\n                    ? audio.data.volume * (audio.manager.volume / 100)\r\n                    : audio.data.volume;\r\n\r\n                setTimeout(function () {\r\n                    node.play();\r\n                }, 0);\r\n            } else {\r\n                audio._clearEndTimer(soundId);\r\n\r\n                (function () {\r\n                    var audio = audio,\r\n                        playSprite = sprite,\r\n                        fn = callback,\r\n                        newNode = node;\r\n\r\n                    var listener = function () {\r\n                        audio.play(playSprite, fn);\r\n                        newNode.removeEventListener('canplaythrough', listener, false);\r\n                    };\r\n\r\n                    newNode.addEventListener('canplaythrough', listener, false);\r\n                })();\r\n\r\n                return audio;\r\n            }\r\n\r\n            audio.events.trigger('play');\r\n            if (typeof callback === 'function') callback(soundId);\r\n\r\n            return audio;\r\n        });\r\n\r\n        return audio;\r\n    };\r\n\r\n    Audio.prototype._pause = function (activeNode) {\r\n        activeNode.pause();\r\n        return false;\r\n    };\r\n\r\n    Audio.prototype.pause = function (id) {\r\n        var audio = this;\r\n\r\n        if (!audio.data.loaded) {\r\n            audio.events.on('play', function () {\r\n                audio.pause(id);\r\n            });\r\n            return audio;\r\n        }\r\n\r\n        audio._clearEndTimer(audio, id);\r\n\r\n        var activeNode = (id) ? audio._nodeById(id) : audio._activeNode(audio);\r\n        if (activeNode) {\r\n            activeNode.pos = audio.pos(null, id);\r\n            var result = audio._pause(activeNode);\r\n            if (result) return audio;\r\n        }\r\n\r\n        audio.events.trigger('pause');\r\n\r\n        return audio;\r\n    };\r\n\r\n    Audio.prototype._stop = function (activeNode) {\r\n        if (!isNaN(activeNode.duration)) {\r\n            activeNode.pause();\r\n            activeNode.currentTime = 0;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    Audio.prototype.stop = function (id) {\r\n        var audio = this;\r\n\r\n        if (!audio.data.loaded) {\r\n            audio.events.on('play', function () {\r\n                audio.stop(id);\r\n            });\r\n\r\n            return audio;\r\n        }\r\n\r\n        audio._clearEndTimer(audio, id);\r\n\r\n        var activeNode = (id) ? audio._nodeById(audio, id) : audio._activeNode(audio);\r\n        if (activeNode) {\r\n            activeNode.pos = 0;\r\n            var result = audio._stop(activeNode);\r\n            if (result) return audio;\r\n        }\r\n\r\n        return audio;\r\n    };\r\n\r\n    Audio.prototype._mute = function (activeNode) {\r\n        activeNode.muted = true;\r\n    };\r\n\r\n    Audio.prototype.mute = function (id) {\r\n        var audio = this;\r\n\r\n        if (!audio.data.loaded) {\r\n            audio.events.on('play', function () {\r\n                audio.mute(id);\r\n            });\r\n            return audio;\r\n        }\r\n\r\n        var activeNode = (id) ? audio._nodeById(id) : audio._activeNode(audio);\r\n        if (activeNode) audio._mute();\r\n\r\n        return audio;\r\n    };\r\n\r\n    Audio.prototype._unMute = function (activeNode) {\r\n        activeNode.muted = false;\r\n    };\r\n\r\n    Audio.prototype.unMute = function (id) {\r\n        var audio = this;\r\n\r\n        if (!audio.data.loaded) {\r\n            audio.events.on('play', function () {\r\n                audio.unMute(id);\r\n            });\r\n            return audio;\r\n        }\r\n\r\n        var activeNode = (id) ? audio._nodeById(id) : audio._activeNode(audio);\r\n        if (activeNode) audio._unMute();\r\n\r\n        return audio;\r\n    };\r\n\r\n    Audio.prototype._volume = function (activeNode, vol) {\r\n        activeNode.volume = vol;\r\n    };\r\n\r\n    Audio.prototype.volume = function (vol, id) {\r\n        var audio = this;\r\n\r\n        vol = parseFloat(vol);\r\n\r\n        if (vol >= 0 && vol <= 1) {\r\n            audio.data.volume = vol;\r\n\r\n            if (!audio.data.loaded) {\r\n                audio.events.on('play', function () {\r\n                    audio.volume(vol, id);\r\n                });\r\n                return audio;\r\n            }\r\n\r\n            var activeNode = (id) ? audio._nodeById(id) : audio._activeNode(audio);\r\n            if (activeNode) {\r\n                vol = audio.manager\r\n                    ? vol * (audio.manager.volume / 100)\r\n                    : audio.data.volume;\r\n                audio._volume(vol);\r\n            }\r\n\r\n            return audio;\r\n        }\r\n        return audio.data.volume;\r\n    };\r\n\r\n    Audio.prototype.loop = function (loop) {\r\n        var audio = this;\r\n\r\n        if (typeof loop === 'boolean') {\r\n            audio.data.loop = loop;\r\n            return audio;\r\n        }\r\n        return audio.data.loop;\r\n    };\r\n\r\n    Audio.prototype.sprite = function (sprite) {\r\n        var audio = this;\r\n\r\n        if (typeof sprite === 'object') {\r\n            audio.data.sprite = sprite;\r\n            return audio;\r\n        }\r\n        return audio.data.sprite;\r\n    };\r\n\r\n    Audio.prototype._position = function (activeNode, v) {\r\n        return activeNode.currentTime;\r\n    };\r\n\r\n    Audio.prototype.pos = function (pos, id) {\r\n        var audio = this;\r\n\r\n        if (!audio.data.loaded) {\r\n            audio.events.on('load', function () {\r\n                audio.pos(pos);\r\n            });\r\n            return typeof pos === 'number' ? audio : audio.data.pos || 0;\r\n        }\r\n\r\n        pos = parseFloat(pos);\r\n\r\n        var activeNode = (id) ? audio._nodeById(id) : audio._activeNode(audio);\r\n        if (activeNode) {\r\n            if (pos >= 0) {\r\n                audio.pause(id);\r\n                activeNode.pos = pos;\r\n                audio.play(activeNode.sprite, id);\r\n                return audio;\r\n            } else {\r\n                return audio._position(activeNode, false);\r\n            }\r\n        } else if (pos >= 0) {\r\n            return audio;\r\n        } else {\r\n            for (var i = 0; i < audio.audioNode.length; i++) {\r\n                if (audio.audioNode[i].paused && audio.audioNode[i].readyState === 4) {\r\n                    return audio._position(audio.audioNode[i], true);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    Audio.prototype._pos3d = function (activeNode, x, y, zsaz) {\r\n        return null;\r\n    };\r\n\r\n    Audio.prototype.pos3d = function (x, y, z, id) {\r\n        var audio = this;\r\n\r\n        y = (typeof y === 'undefined' || !y) ? 0 : y;\r\n        z = (typeof z === 'undefined' || !z) ? -0.5 : z;\r\n\r\n        if (!audio.data.loaded) {\r\n            audio.events.on('play', function () {\r\n                audio.pos3d(x, y, z, id);\r\n            });\r\n            return audio;\r\n        }\r\n\r\n        if (x >= 0 || x < 0) {\r\n            var activeNode = (id) ? audio._nodeById(id) : audio._activeNode(audio);\r\n            audio._pos3d(activeNode, x, y, z);\r\n        } else {\r\n            return audio.data.pos3d;\r\n        }\r\n\r\n        return audio;\r\n    };\r\n\r\n    /* Private */\r\n\r\n    Audio.prototype._nodeById = function (audio, id) {\r\n        var node = audio.audioNode[0];\r\n\r\n        for (var i = 0; i < audio.audioNode.length; i++) {\r\n            if (audio.audioNode[i].id === id) {\r\n                node = audio.audioNode[i];\r\n                break;\r\n            }\r\n        }\r\n\r\n        return node;\r\n    };\r\n\r\n    Audio.prototype._clearEndTimer = function (audio, id) {\r\n        var index = -1;\r\n\r\n        for (var i = 0; i < audio.data.onEndTimer.length; i++) {\r\n            if (audio.data.onEndTimer[i].id === id) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var timer = audio.data.onEndTimer[index];\r\n        if (timer) {\r\n            clearTimeout(timer.timer);\r\n            audio.data.onEndTimer.splice(index, 1);\r\n        }\r\n    };\r\n\r\n    Audio.prototype._activeNode = function (audio) {\r\n        var node = null;\r\n\r\n        for (var i = 0; i < audio.audioNode.length; i++) {\r\n            if (!audio.audioNode[i].paused) {\r\n                node = audio.audioNode[i];\r\n                break;\r\n            }\r\n        }\r\n\r\n        audio._drainPool(audio);\r\n\r\n        return node;\r\n    };\r\n\r\n    Audio.prototype._inactiveNode = function (audio, callback) {\r\n        var node = null;\r\n\r\n        for (var i = 0; i < audio.audioNode.length; i++) {\r\n            if (audio.audioNode[i].paused && audio.audioNode[i].readyState === 4) {\r\n                callback(audio.audioNode[i]);\r\n                node = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        audio._drainPool(audio);\r\n\r\n        if (node) return;\r\n\r\n        audio.load();\r\n        var newNode = audio.audioNode[audio.audioNode.length - 1];\r\n        var listenerEvent = navigator.isCocoonJS ? 'canplaythrough' : 'loadedmetadata';\r\n        var listener = function () {\r\n            newNode.removeEventListener(listenerEvent, listener, false);\r\n            callback(newNode);\r\n        };\r\n        newNode.addEventListener(listenerEvent, listener, false);\r\n    };\r\n\r\n    Audio.prototype._drainPool = function (audio) {\r\n        var inactive = 0;\r\n\r\n        for (var i = 0; i < audio.audioNode.length; i++) {\r\n            if (audio.audioNode[i].paused) inactive++;\r\n        }\r\n\r\n        for (i = audio.audioNode.length - 1; i >= 0; i--) {\r\n            if (inactive <= 5) break;\r\n\r\n            if (audio.audioNode[i].paused) {\r\n                audio.audioNode.splice(i, 1);\r\n                inactive--;\r\n            }\r\n        }\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Audio = Audio;\r\n    if (global.j2d !== undefined) global.j2d.media.Audio = Audio;\r\n    return Audio;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, James Simpson of GoldFire Studios(howler.js)\r\n * @original_source https://github.com/goldfire/howler.js/blob/master/howler.js\r\n * @license BSD, MIT(howler.js)\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('media/Sound', ['utils/ObjectUtil', 'utils/UUID', 'utils/Events', 'media/Audio'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ObjectUtil'), require('utils/UUID'), require('utils/Events'), require('media/Audio'));\r\n    } else {\r\n        factory(root.j2d.utils.ObjectUtil, root.UUID, root.Events, root.Audio);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, UUID, Events, Audio) {\r\n    \"use strict\";\r\n\r\n    var cache = {};\r\n    var audioContext;\r\n    var masterGain;\r\n\r\n    function createMasterGain() {\r\n        if (audioContext) {\r\n            masterGain = (audioContext.createGain === undefined)\r\n                ? audioContext.createGainNode()\r\n                : audioContext.createGain();\r\n            masterGain.gain.value = 1;\r\n            masterGain.connect(audioContext.destination);\r\n            return masterGain;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * @class Sound\r\n     * @exports module:media/Sound\r\n     *\r\n     * @constructor\r\n     * @extends media/Audio\r\n     * @param {Audio.defaults|Object} [data]\r\n     * @param {MediaManager} [manager]\r\n     */\r\n    var Sound = function (data, manager) {\r\n        var sound = this;\r\n        Audio.call(this, data, manager);\r\n\r\n        sound.manager = manager;\r\n        sound.events = !!sound.manager ? sound.manager.events : new Events();\r\n        sound.data = ObjectUtil.extend(true, {}, Sound.defaults, data);\r\n        sound.audioNode = [];\r\n        audioContext = manager\r\n            ? manager.getAudioContext()\r\n            : new (global.AudioContext || global.webkitAudioContext);\r\n\r\n        masterGain = manager\r\n            ? manager.getMasterGain()\r\n            : createMasterGain();\r\n\r\n        if (sound.data.id === null) {\r\n            sound.data.id = UUID.generate();\r\n        }\r\n\r\n        if (audioContext && sound.data.buffer) {\r\n            _setupAudioNode(sound);\r\n        }\r\n\r\n        if (sound.manager && audioContext && sound.manager.data.iOSAutoEnable) {\r\n            sound.manager.iOSEnable = true;\r\n        }\r\n\r\n        if (sound.manager) sound.manager.media.get('sounds').add(sound.data.id, sound);\r\n\r\n        sound.load();\r\n    };\r\n\r\n    Sound.defaults = {\r\n        id: null,\r\n        src: [],\r\n        format: null,\r\n        autoPlay: false,\r\n\r\n        duration: 0,\r\n        loop: false,\r\n        sprite: {},\r\n        volume: 1,\r\n        muted: false,\r\n        pos3d: [0, 0, -0.5],\r\n        rate: 1,\r\n\r\n        loaded: false,\r\n        buffer: false,\r\n        model: null,\r\n        onEndTimer: []\r\n    };\r\n\r\n    Sound.prototype = Object.create(Audio.prototype);\r\n    Sound.prototype.constructor = Sound;\r\n\r\n    Sound.prototype._load = function (sound) {\r\n        loadBuffer(sound, sound.data.src);\r\n        return sound;\r\n    };\r\n\r\n    Sound.prototype._unload = function (soundNode) {\r\n        soundNode.disconnect(0);\r\n    };\r\n\r\n    Sound.prototype.play = function (sprite, callback) {\r\n        var sound = this;\r\n\r\n        if (typeof sprite === 'function')  callback = sprite;\r\n\r\n        if (!sprite || typeof sprite === 'function') sprite = 'default';\r\n\r\n        if (!sound.data.loaded) {\r\n            sound.events.on('load', function () {\r\n                sound.play(sprite, callback);\r\n            });\r\n\r\n            return sound;\r\n        }\r\n\r\n        if (!sound.data.sprite[sprite]) {\r\n            if (typeof callback === 'function') callback();\r\n            return sound;\r\n        }\r\n\r\n        sound._inactiveNode(sound, function (node) {\r\n            node.sprite = sprite;\r\n\r\n            var pos = (node.pos > 0) ? node.pos : sound.data.sprite[sprite][0] / 1000;\r\n            var duration = sound.data.sprite[sprite][1] / 1000 - node.pos;\r\n            if (node.pos > 0) pos = sound.data.sprite[sprite][0] / 1000 + pos;\r\n            var loop = !!(sound.data.loop || sound.data.sprite[sprite][2]);\r\n\r\n            var soundId = (typeof callback === 'string')\r\n                ? callback\r\n                : Math.round(Date.now() * Math.random()) + '', timerId;\r\n\r\n            (function () {\r\n                var data = {\r\n                    id: soundId,\r\n                    sprite: sprite,\r\n                    loop: loop\r\n                };\r\n\r\n                timerId = setTimeout(function () {\r\n                    if (audioContext && !loop) {\r\n                        sound._nodeById(sound, data.id).paused = true;\r\n                        sound._nodeById(sound, data.id).pos = 0;\r\n                        sound._clearEndTimer(sound, data.id);\r\n                    }\r\n                    sound.events.trigger('unload', soundId);\r\n                }, (duration / sound.data.rate) * 1000);\r\n\r\n                sound.data.onEndTimer.push({timer: timerId, id: data.id});\r\n            })();\r\n\r\n            var loopStart = sound.data.sprite[sprite][0] / 1000,\r\n                loopEnd = sound.data.sprite[sprite][1] / 1000;\r\n\r\n            node.id = soundId;\r\n            node.paused = false;\r\n            refreshBuffer(sound, [loop, loopStart, loopEnd], soundId);\r\n            sound.data.playStart = audioContext.currentTime;\r\n            node.gain.value = sound.data.volume;\r\n\r\n            if (typeof node.bufferSource.start === 'undefined') {\r\n                loop ? node.bufferSource.noteGrainOn(0, pos, 86400) : node.bufferSource.noteGrainOn(0, pos, duration);\r\n            } else {\r\n                loop ? node.bufferSource.start(0, pos, 86400) : node.bufferSource.start(0, pos, duration);\r\n            }\r\n\r\n            sound.events.trigger('play');\r\n            if (typeof callback === 'function') callback(soundId);\r\n\r\n            return sound;\r\n        });\r\n\r\n        return sound;\r\n    };\r\n\r\n    Sound.prototype._pause = function (activeNode) {\r\n        if (!activeNode.bufferSource || activeNode.paused) {\r\n            return true;\r\n        }\r\n\r\n        activeNode.paused = true;\r\n        if (activeNode.bufferSource.stop == undefined) {\r\n            activeNode.bufferSource.noteOff(0);\r\n        } else {\r\n            activeNode.bufferSource.stop(0);\r\n        }\r\n        return false;\r\n    };\r\n\r\n    Sound.prototype._stop = function (activeNode) {\r\n        if (!activeNode.bufferSource || activeNode.paused) {\r\n            return true;\r\n        }\r\n\r\n        activeNode.paused = true;\r\n\r\n        if (typeof activeNode.bufferSource.stop === 'undefined') {\r\n            activeNode.bufferSource.noteOff(0);\r\n        } else {\r\n            activeNode.bufferSource.stop(0);\r\n        }\r\n        return false;\r\n    };\r\n\r\n    Sound.prototype._mute = function (activeNode) {\r\n        activeNode.gain.value = 0;\r\n    };\r\n\r\n    Sound.prototype._unMute = function (activeNode) {\r\n        activeNode.gain.value = this.data.volume;\r\n    };\r\n\r\n    Sound.prototype._volume = function (activeNode, vol) {\r\n        activeNode.gain.value = vol;\r\n    };\r\n\r\n    Sound.prototype._position = function (activeNode, v) {\r\n        if (v !== undefined && v == true) return activeNode.pos;\r\n        return activeNode.pos + (audioContext.currentTime - this.data.playStart);\r\n    };\r\n\r\n    Sound.prototype._pos3d = function (activeNode, x, y, z) {\r\n        if (activeNode) {\r\n            this.data.pos3d = [x, y, z];\r\n            activeNode.panner.setPosition(x, y, z);\r\n            activeNode.panner.panningModel = this.data.model || 'HRTF';\r\n        }\r\n    };\r\n\r\n    Sound.prototype._setupAudioNode = function () {\r\n        var sound = this,\r\n            node = sound.audioNode,\r\n            index = sound.audioNode.length;\r\n\r\n        node[index] = (audioContext.createGain === undefined)\r\n            ? audioContext.createGainNode()\r\n            : audioContext.createGain();\r\n\r\n        node[index].gain.value = sound.data.volume;\r\n        node[index].paused = true;\r\n        node[index].pos = 0;\r\n        node[index].readyState = 4;\r\n        node[index].connect(masterGain);\r\n\r\n        node[index].panner = audioContext.createPanner();\r\n        node[index].panner.panningModel = sound.data.model || 'equalpower';\r\n        node[index].panner.setPosition(sound.data.pos3d[0], sound.data.pos3d[1], sound.data.pos3d[2]);\r\n        node[index].panner.connect(node[index]);\r\n\r\n        return node[index];\r\n    };\r\n\r\n\r\n    /* Private */\r\n\r\n    Sound.prototype._inactiveNode = function (sound, callback) {\r\n        var node = null;\r\n\r\n        for (var i = 0; i < sound.audioNode.length; i++) {\r\n            if (sound.audioNode[i].paused && sound.audioNode[i].readyState === 4) {\r\n                callback(sound.audioNode[i]);\r\n                node = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        sound._drainPool(sound);\r\n\r\n        if (node) return;\r\n\r\n        var newNode = sound._setupAudioNode();\r\n        callback(newNode);\r\n    };\r\n\r\n    Sound.prototype._drainPool = function (sound) {\r\n        var inactive = 0;\r\n\r\n        for (var i = 0; i < sound.audioNode.length; i++) {\r\n            if (sound.audioNode[i].paused) inactive++;\r\n        }\r\n\r\n        for (i = sound.audioNode.length - 1; i >= 0; i--) {\r\n            if (inactive <= 5) break;\r\n\r\n            if (sound.audioNode[i].paused) {\r\n                if (audioContext) sound.audioNode[i].disconnect(0);\r\n                sound.audioNode.splice(i, 1);\r\n                inactive--;\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    /* WebAudioAPI Helpers */\r\n    /**\r\n     * Buffer a sound from URL (or from cache) and decode to audio source (Web Audio API).\r\n     * @param  {Object} sound The Sound object for the sound to load.\r\n     * @param  {String} url The path to the sound file.\r\n     */\r\n    var loadBuffer = function (sound, url) {\r\n        if (url in cache) {\r\n            sound.data.duration = cache[url].duration;\r\n\r\n            loadSound(sound);\r\n            return;\r\n        }\r\n\r\n        if (/^data:[^;]+;base64,/.test(url)) {\r\n            var data = atob(url.split(',')[1]);\r\n            var dataView = new Uint8Array(data.length);\r\n            for (var i = 0; i < data.length; ++i) {\r\n                dataView[i] = data.charCodeAt(i);\r\n            }\r\n\r\n            decodeAudioData(dataView.buffer, sound, url);\r\n        } else {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open('GET', url, true);\r\n            xhr.responseType = 'arraybuffer';\r\n            xhr.onload = function () {\r\n                decodeAudioData(xhr.response, sound, url);\r\n            };\r\n            xhr.onerror = function () {\r\n                if (audioContext) {\r\n                    sound.data.buffer = true;\r\n                    sound.audioNode = [];\r\n                    delete sound.gainNode;\r\n                    delete cache[url];\r\n                    sound.load();\r\n                }\r\n            };\r\n            try {\r\n                xhr.send();\r\n            } catch (e) {\r\n                xhr.onerror();\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Decode audio data from an array buffer.\r\n     * @param  {ArrayBuffer} arraybuffer The audio data.\r\n     * @param  {Object} sound The Sound object for the sound to load.\r\n     * @param  {String} url The path to the sound file.\r\n     */\r\n    var decodeAudioData = function (arraybuffer, sound, url) {\r\n        audioContext.decodeAudioData(\r\n            arraybuffer,\r\n            function (buffer) {\r\n                if (buffer) {\r\n                    cache[url] = buffer;\r\n                    loadSound(sound, buffer);\r\n                }\r\n            },\r\n            function (error) {\r\n                sound.events.trigger('loaderror', error);\r\n            }\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Finishes loading the Web Audio API sound and fires the loaded event\r\n     * @param  {Object}  sound    The Sound object for the sound to load.\r\n     * @param  {Object} [buffer] The decoded buffer sound source.\r\n     */\r\n    var loadSound = function (sound, buffer) {\r\n        sound.data.duration = (buffer) ? buffer.duration : sound.data.duration;\r\n\r\n        if (Object.getOwnPropertyNames(sound.data.sprite).length === 0) {\r\n            sound.data.sprite = {default: [0, sound.data.duration * 1000]};\r\n        }\r\n\r\n        if (!sound.data.loaded) {\r\n            sound.data.loaded = true;\r\n            sound.events.trigger('load');\r\n        }\r\n\r\n        if (sound.data.autoPlay) {\r\n            sound.play();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Load the sound back into the buffer source.\r\n     * @param  {Object} sound   The sound to load.\r\n     * @param  {Array}  loop  Loop boolean, pos, and duration.\r\n     * @param  {String} id    (optional) The play instance ID.\r\n     */\r\n    var refreshBuffer = function (sound, loop, id) {\r\n        var node = sound._nodeById(sound, id);\r\n\r\n        node.bufferSource = audioContext.createBufferSource();\r\n        node.bufferSource.buffer = cache[sound.data.src];\r\n        node.bufferSource.connect(node.panner);\r\n        node.bufferSource.loop = loop[0];\r\n        if (loop[0]) {\r\n            node.bufferSource.loopStart = loop[1];\r\n            node.bufferSource.loopEnd = loop[1] + loop[2];\r\n        }\r\n        //noinspection JSPrimitiveTypeWrapperUsage\r\n        node.bufferSource.playbackRate.value = sound.data.rate;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Sound = Sound;\r\n    if (global.j2d !== undefined) global.j2d.media.Sound = Sound;\r\n    return Sound;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('media/Video', ['utils/ArrayMap'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ArrayMap'));\r\n    } else {\r\n        factory(root.ArrayMap);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ArrayMap) {\r\n    \"use strict\";\r\n\r\n\r\n    /**\r\n     * @class Video\r\n     * @exports module:media/Video\r\n     *\r\n     * @constructor\r\n     */\r\n    var Video = function () {\r\n\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Video = Video;\r\n    if (global.j2d !== undefined) global.j2d.media.Video = Video;\r\n    return Video;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n/*\r\n *  TODO:: delayTime fo individual states\r\n *  TODO:: rename data to value in stateDefaults\r\n *  TODO:: fix reverseAll state delay bug\r\n *\r\n *  TODO:: exceptions\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('transitions/Tween', [\r\n            'utils/ObjectUtil',\r\n            'nodes/BaseNode',\r\n            'utils/Events',\r\n            'transitions/utils/Easing',\r\n            'transitions/utils/Interpolation'\r\n        ], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(\r\n            require('utils/ObjectUtil'),\r\n            require('nodes/BaseNode'),\r\n            require('utils/Events'),\r\n            require('transitions/utils/Easing'),\r\n            require('transitions/utils/Interpolation')\r\n        );\r\n    } else {\r\n        factory(\r\n            root.j2d.utils.ObjectUtil,\r\n            root.j2d.nodes.BaseNode,\r\n            root.j2d.utils.Events,\r\n            root.j2d.transitions.utils.Easing,\r\n            root.j2d.transitions.utils.Interpolation\r\n        );\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ObjectUtil, BaseNode, Events, Easing, Interpolation) {\r\n    \"use strict\";\r\n\r\n    var tweens = [];\r\n\r\n    /**\r\n     * @class Tween\r\n     * @exports module:transitions/Tween\r\n     *\r\n     * @constructor\r\n     * @param {BaseNode|{data: object}} tweenNode\r\n     * @param {Tween.defaults|Object} [data]\r\n     * @property {Tween.defaults} data\r\n     */\r\n    var Tween = function (tweenNode, data) {\r\n        var tween = this;\r\n        tween.data = ObjectUtil.extend(true, {}, Tween.defaults, data);\r\n        tween.node = tweenNode;\r\n        tween.events = new Events();\r\n\r\n        tween.state = {};\r\n\r\n        // TODO:: Exceptions\r\n        // if (!(node instanceof BaseNode) || typeof node.data !== 'object') {\r\n        //     throw new InvalidArgumentException('Unknown tween node');\r\n        // }\r\n    };\r\n\r\n    Tween.defaults = {\r\n        currentStateAnimation: 0,\r\n        tweenStateStack: [],\r\n        tweenStateTimings: [],\r\n        chainedTweensStack: [],\r\n\r\n        isAnimated: false,\r\n        isStarted: false,\r\n        startTime: null,\r\n\r\n        delayTime: 0,\r\n\r\n        defaultDuration: 1000\r\n    };\r\n\r\n    Tween.stateDefaults = {\r\n        data: null,\r\n        duration: 1000,\r\n        delay: 0,\r\n        easing: 'linear',\r\n        interpolation: 'linear'\r\n    };\r\n\r\n    /**\r\n     * @param {Tween.defaults|Object} data\r\n     * @returns {{count: number, duration: number, easing: string, interpolation: string}}\r\n     */\r\n    var tweenStateData = function (data) {\r\n        return (data !== undefined && typeof data === 'object')\r\n            ? ObjectUtil.extend(true, {}, Tween.stateDefaults, data)\r\n            : Tween.stateDefaults;\r\n    };\r\n\r\n    /* Methods */\r\n    /**\r\n     * @param {Object} properties\r\n     * @param {Tween.defaults|Object} [data]\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.to = function (properties, data) {\r\n        var tween = this;\r\n\r\n        if (!tween.data.isStarted) {\r\n\r\n            if (typeof data === 'number') data = {data: data};\r\n            var stateData = (typeof data !== 'number') ? tweenStateData(data) : data;\r\n            if (data !== undefined && typeof data === 'number') stateData.duration = data;\r\n\r\n            tween.data.tweenStateStack.push([properties, stateData]);\r\n\r\n            return tween;\r\n        }\r\n\r\n        // TODO:: Exceptions\r\n        // throw new RuntimeException('You can not add a state after the start of the tween.');\r\n    };\r\n\r\n    /**\r\n     * @param {number} time\r\n     * @returns {boolean}\r\n     */\r\n    Tween.prototype.update = function (time) {\r\n        var tween = this;\r\n\r\n        var nextState = tween.data.tweenStateStack[tween.data.currentStateAnimation + 1];\r\n\r\n        if (time < tween.data.startTime || nextState === undefined) return true;\r\n\r\n        if (!tween.data.isStarted) {\r\n            tween.events.trigger('start', [tween.node]);\r\n            tween.data.isStarted = true;\r\n        }\r\n\r\n        var currentState = tween.data.tweenStateStack[tween.data.currentStateAnimation];\r\n\r\n        var previousStatesTime = tween.getStateTimeDuration(tween.data.currentStateAnimation, true);\r\n\r\n        var elapsed = (time - (tween.data.startTime + previousStatesTime)) / nextState[1].duration;\r\n        elapsed = elapsed > 1 ? 1 : elapsed;\r\n\r\n        tween.node.import(\r\n            Tween.util.animateTween(currentState[0], nextState[0], Easing.get(nextState[1].easing)(elapsed))\r\n        );\r\n\r\n        tween.events.trigger('update', [tween.node]);\r\n\r\n        if (elapsed === 1) {\r\n            if (tween.data.currentStateAnimation < tween.data.tweenStateStack.length) {\r\n                tween.data.currentStateAnimation++;\r\n            } else {\r\n                tween.events.trigger('complete', [tween.node]);\r\n\r\n                for (var i = 0; i < tween.data.chainedTweensStack.length; i++) {\r\n                    tween.data.chainedTweensStack[i].start(\r\n                        tween.data.startTime + tween.getStateTimeDuration(tween.data.currentStateAnimation - 1, true)\r\n                    );\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n\r\n    var calculateStackStateTimings = function (tweenStateStack) {\r\n        var result = [];\r\n\r\n        tweenStateStack.forEach(function (value) {\r\n            result.push(value[1].duration);\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * @param {number} [position]\r\n     * @param {boolean} [withPrevious]\r\n     *\r\n     * @returns {number}\r\n     */\r\n    Tween.prototype.getStateTimeDuration = function (position, withPrevious) {\r\n        if (position === undefined || position === null) position = this.data.currentStateAnimation;\r\n        if (withPrevious === undefined) withPrevious = false;\r\n\r\n        if (this.data.tweenStateTimings[position] === undefined) return 0;\r\n\r\n        if (withPrevious) {\r\n            var result = 0;\r\n            for (var i = 1; i <= position; i++) {\r\n                result += this.data.tweenStateTimings[i];\r\n            }\r\n            return result;\r\n        } else {\r\n            return this.data.tweenStateTimings[position];\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {Array.<Object, Tween.stateDefaults>} startState\r\n     * @param {Array.<Array<Object, Tween.stateDefaults>>} tweenStateStack\r\n     */\r\n    var calculateStackState = function (startState, tweenStateStack) {\r\n        var result = [startState];\r\n        var index = 1;\r\n\r\n        var parsedTweenStateStack = [startState];\r\n        var nextStateDelay = 0;\r\n        var nextAllStateDelay = 0;\r\n\r\n        tweenStateStack.forEach(function (value) {\r\n            if (typeof value[0] === 'object' && !(value[0] instanceof Array)) {\r\n                if (nextStateDelay !== 0) {\r\n                    value[1].delay = nextStateDelay;\r\n                    nextStateDelay = 0;\r\n                } else if (nextAllStateDelay !== 0) {\r\n                    value[1].delay = nextAllStateDelay;\r\n                }\r\n                parsedTweenStateStack.push([value[0], value[1]]);\r\n                index++;\r\n            } else if (typeof value[0] === 'string') {\r\n                var i = 0;\r\n                switch (value[0]) {\r\n                    case 'delay':\r\n                        nextStateDelay = value[1].data;\r\n                        break;\r\n                    case 'delayAll':\r\n                        nextAllStateDelay = value[1].data;\r\n                        break;\r\n                    case 'repeat':\r\n                        for (i = 0; i < value[1].data; i++) {\r\n                            parsedTweenStateStack.push(parsedTweenStateStack[index]);\r\n                            index++;\r\n                        }\r\n                        break;\r\n                    case 'repeatAll':\r\n                        for (i = 0; i < value[1].data; i++) {\r\n                            parsedTweenStateStack.concat(parsedTweenStateStack);\r\n                            index++;\r\n                        }\r\n                        break;\r\n                    case 'yoyo':\r\n                    case 'reverse':\r\n                        for (i = 0; i < value[1].data; i++) {\r\n                            if (parsedTweenStateStack[index - 1] !== undefined) {\r\n                                parsedTweenStateStack.push([\r\n                                    Tween.util.reverseProperties(parsedTweenStateStack[index - 1][0]),\r\n                                    parsedTweenStateStack[index - 1][1]\r\n                                ]);\r\n                                index++;\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'yoyoAll':\r\n                    case 'reverseAll':\r\n                        for (i = 0; i < value[1].data; i++) {\r\n                            var stateStack = parsedTweenStateStack.slice(0);\r\n\r\n                            var stackLength = stateStack.length;\r\n                            for (var j = 0; j < stackLength; j++) {\r\n                                var sIndex = stackLength - j - 1;\r\n                                if (stateStack[sIndex] !== undefined) {\r\n                                    parsedTweenStateStack.push([\r\n                                        Tween.util.reverseProperties(stateStack[sIndex][0]),\r\n                                        stateStack[sIndex][1]\r\n                                    ]);\r\n                                    index++;\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n        // parsedTweenStateStack.forEach(function (value) {\r\n        //     console.info(value[0].position.x);\r\n        // });\r\n\r\n        index = 0;\r\n        parsedTweenStateStack.shift();\r\n        parsedTweenStateStack.forEach(function (value) {\r\n            if (typeof value[0] === 'object' && !(value[0] instanceof Array)) {\r\n                result.push([Tween.util.calculateProperties(result[index][0], ObjectUtil.extend(true, {}, result[index][0], value[0])), value[1]]);\r\n                index++;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * @param {number} time\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.start = function (time) {\r\n        var tween = this;\r\n        if (time === undefined) time = global.performance.now();\r\n        tween.data.isAnimated = true;\r\n\r\n        if (!tween.data.isStarted) {\r\n            tween.data.isStarted = true;\r\n            tween.state = [Tween.util.cleanProperties(tween.node.data), Tween.stateDefaults];\r\n            tween.data.tweenStateStack = calculateStackState(tween.state, tween.data.tweenStateStack);\r\n            tween.data.tweenStateTimings = calculateStackStateTimings(tween.data.tweenStateStack);\r\n        }\r\n\r\n        tween.data.startTime = time + tween.data.delayTime;\r\n\r\n        return Tween.add(tween);\r\n    };\r\n\r\n    /**\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.stop = function () {\r\n        var tween = this;\r\n        if (!tween.data.isAnimated) return this;\r\n\r\n        tween.data.isAnimated = false;\r\n        tween.events.trigger('stop', [tween.node]);\r\n        tween.stopChainedTweens();\r\n\r\n        return Tween.remove(tween);\r\n    };\r\n\r\n    /**\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.stopChainedTweens = function () {\r\n        var tween = this;\r\n        for (var i = 0; i < tween.data.chainedTweensStack.length; i++) {\r\n            tween.data.chainedTweensStack[i].stop();\r\n        }\r\n\r\n        return tween;\r\n    };\r\n\r\n\r\n    /* Extended animation methods */\r\n    /**\r\n     * @param {number} delay\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.delay = function (delay) {\r\n        if (delay === undefined) delay = 1000;\r\n        this.to('delay', delay);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {number} delay\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.delayAll = function (delay) {\r\n        if (delay === undefined) delay = 1000;\r\n        this.to('delayAll', delay);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {number} [count]\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.repeat = function (count) {\r\n        if (count === undefined) count = 1;\r\n        this.to('repeat', count);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {number} [count]\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.repeatAll = function (count) {\r\n        if (count === undefined) count = 1;\r\n        this.to('repeatAll', count);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {number} [count]\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.yoyo = function (count) {\r\n        if (count === undefined) count = 1;\r\n        this.to('yoyo', count);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {number} [count]\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.reverse = function (count) {\r\n        if (count === undefined) count = 1;\r\n        this.to('reverse', count);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {number} [count]\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.yoyoAll = function (count) {\r\n        if (count === undefined) count = 1;\r\n        this.to('yoyoAll', count);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @param {number} [count]\r\n     * @returns {Tween}\r\n     */\r\n    Tween.prototype.reverseAll = function (count) {\r\n        if (count === undefined) count = 1;\r\n        this.to('reverseAll', count);\r\n        return this;\r\n    };\r\n\r\n\r\n    /* Events wrappers */\r\n    /**\r\n     * @param {string} event\r\n     * @param {function} callback\r\n     * @returns {boolean}\r\n     */\r\n    Tween.prototype.on = function (event, callback) {\r\n        return this.events.on(event, callback);\r\n    };\r\n\r\n    /**\r\n     * @param {string} event\r\n     * @param {function} callback\r\n     * @returns {boolean}\r\n     */\r\n    Tween.prototype.off = function (event, callback) {\r\n        return this.events.off(event, callback);\r\n    };\r\n\r\n    /**\r\n     * @param {string} event\r\n     * @param {function} callback\r\n     * @returns {boolean}\r\n     */\r\n    Tween.prototype.once = function (event, callback) {\r\n        return this.events.once(event, callback);\r\n    };\r\n\r\n    /**\r\n     * @param {string} event\r\n     * @returns {boolean}\r\n     */\r\n    Tween.prototype.flush = function (event) {\r\n        return this.events.flush(event);\r\n    };\r\n\r\n    /**\r\n     * @param {string} event\r\n     * @param {Array.<*>} data\r\n     * @returns {boolean}\r\n     */\r\n    Tween.prototype.trigger = function (event, data) {\r\n        return this.events.trigger(event, data);\r\n    };\r\n\r\n\r\n    /* Static Methods */\r\n    /**\r\n     * @param {number} index\r\n     * @returns {Array.<Tween>|Tween}\r\n     */\r\n    Tween.get = function (index) {\r\n        return (index === undefined) ? tweens : tweens[index];\r\n    };\r\n\r\n    /**\r\n     * @param {Tween} tween\r\n     * @returns {Tween}\r\n     */\r\n    Tween.add = function (tween) {\r\n        tweens.push(tween);\r\n        return tween;\r\n    };\r\n\r\n    /**\r\n     * @param {Tween} tween\r\n     * @returns {Tween}\r\n     */\r\n    Tween.remove = function (tween) {\r\n        var i = tweens.indexOf(tween);\r\n        if (i !== -1) tweens.splice(i, 1);\r\n        return tween;\r\n    };\r\n\r\n    /**\r\n     * @returns {void}\r\n     */\r\n    Tween.flush = function () {\r\n        tweens = [];\r\n    };\r\n\r\n    /**\r\n     * @param {number} time\r\n     * @returns {boolean}\r\n     */\r\n    Tween.update = function (time) {\r\n        if (tweens.length === 0) return false;\r\n\r\n        var i = 0;\r\n\r\n        while (i < tweens.length) {\r\n            if (tweens[i].update(time)) {\r\n                i++;\r\n            } else {\r\n                tweens.splice(i, 1);\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    Tween.util = {\r\n        animateTween: function (currentState, nextState, value) {\r\n            var result = {};\r\n            var property;\r\n            var temp;\r\n\r\n            for (property in nextState) {\r\n                if (nextState.hasOwnProperty(property) && currentState.hasOwnProperty(property)) {\r\n                    temp = null;\r\n\r\n                    if (typeof nextState[property] === 'number') {\r\n                        if (currentState[property] === nextState[property]) {\r\n                            temp = currentState[property];\r\n                        } else {\r\n                            temp = currentState[property] + (nextState[property] - currentState[property]) * value;\r\n                        }\r\n                    } else if (typeof nextState[property] === 'object') {\r\n                        temp = this.animateTween(currentState[property], nextState[property], value);\r\n                    }\r\n                    if (temp !== null) result[property] = temp;\r\n                }\r\n            }\r\n\r\n            return Object.keys(result).length > 0 ? result : null;\r\n        },\r\n\r\n        cleanProperties: function (properties) {\r\n            var result = {};\r\n            var property;\r\n            var temp;\r\n\r\n            for (property in properties) {\r\n                if (properties.hasOwnProperty(property) && property !== 'id') {\r\n                    temp = null;\r\n                    if ((typeof properties[property] === 'string' && !isNaN(properties[property]))\r\n                        || typeof properties[property] === 'number'\r\n                    ) {\r\n                        temp = properties[property];\r\n                    } else if (typeof properties[property] === 'object') {\r\n                        temp = this.cleanProperties(properties[property]);\r\n                    }\r\n                    if (temp !== null) result[property] = temp;\r\n                }\r\n            }\r\n\r\n            return Object.keys(result).length > 0 ? result : null;\r\n        },\r\n\r\n        reverseProperties: function (properties) {\r\n            var result = {};\r\n            var property;\r\n            var temp;\r\n\r\n            for (property in properties) {\r\n                if (properties.hasOwnProperty(property) && property !== 'id') {\r\n                    temp = null;\r\n                    if (typeof properties[property] === 'string' && !isNaN(properties[property])) {\r\n                        temp = Number(parseFloat(properties[property]) * -1).toString();\r\n                    } else if (typeof properties[property] === 'number') {\r\n                        temp = properties[property];\r\n                    } else if (typeof properties[property] === 'object') {\r\n                        temp = this.reverseProperties(properties[property]);\r\n                    }\r\n                    if (temp !== null) result[property] = temp;\r\n                }\r\n            }\r\n\r\n            return Object.keys(result).length > 0 ? result : null;\r\n        },\r\n\r\n        calculateProperties: function (startProperties, endProperties) {\r\n            var result = {};\r\n            var property;\r\n            var temp;\r\n\r\n            for (property in endProperties) {\r\n                if (endProperties.hasOwnProperty(property) && startProperties.hasOwnProperty(property) && property !== 'id') {\r\n                    temp = null;\r\n\r\n                    if (typeof endProperties[property] === 'string' && !isNaN(endProperties[property]) && typeof startProperties[property] === 'number') {\r\n                        temp = startProperties[property] + parseFloat(endProperties[property]);\r\n                    } else if (typeof endProperties[property] === 'number' && typeof startProperties[property] === 'string' && !isNaN(startProperties[property])) {\r\n                        temp = endProperties[property] - parseFloat(startProperties[property]);\r\n                    } else if (typeof endProperties[property] === 'number' && typeof startProperties[property] === 'number') {\r\n                        temp = endProperties[property];\r\n                    } else if (typeof endProperties[property] === 'object') {\r\n                        temp = this.calculateProperties(startProperties[property], endProperties[property]);\r\n                    }\r\n\r\n                    if (temp !== null) result[property] = temp;\r\n                }\r\n            }\r\n            return Object.keys(result).length > 0 ? result : null;\r\n        }\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Tween = Tween;\r\n    if (global.j2d !== undefined) global.j2d.transitions.Tween = Tween;\r\n    return Tween;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/ArrayMap', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class ArrayMap\r\n     * @exports module:utils/ArrayMap\r\n     *\r\n     * @constructor\r\n     * @extends Array\r\n     * @param args\r\n     */\r\n    var ArrayMap = function (args) {\r\n        Array.call(this, args);\r\n    };\r\n\r\n    ArrayMap.prototype = Object.create(Array.prototype);\r\n    ArrayMap.prototype.constructor = ArrayMap;\r\n\r\n    ArrayMap.prototype.last = function () {\r\n        return this[this.length - 1];\r\n    };\r\n\r\n    /**\r\n     * @param {ArrayMap.<T>} array\r\n     * @returns {boolean}\r\n     */\r\n    ArrayMap.prototype.equals = function (array) {\r\n        if (!array)\r\n            return false;\r\n\r\n        if (this.length != array.length)\r\n            return false;\r\n\r\n        for (var i = 0, l = this.length; i < l; i++) {\r\n            if (this[i] instanceof Array && array[i] instanceof Array) {\r\n                if (!this[i].equals(array[i]))\r\n                    return false;\r\n            }\r\n            else if (this[i] != array[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'equals', {enumerable: false});\r\n\r\n    /**\r\n     * @param {string|Object} object\r\n     * @returns {boolean}\r\n     */\r\n    ArrayMap.prototype.contains = function (object) {\r\n        var i = this.length;\r\n        while (i--) {\r\n            if (this[i] === object) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'contains', {enumerable: false});\r\n\r\n    /**\r\n     * @param {Function} callback\r\n     * @returns {boolean}\r\n     */\r\n    ArrayMap.prototype.each = function (callback) {\r\n        if (!callback) return false;\r\n        var result = false;\r\n        for (var i = 0; i < this.length; i++) {\r\n            if ((result = callback(this[i], i)) == false) {\r\n                return result;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'each', {enumerable: false});\r\n\r\n    /**\r\n     * @param {string|Object} key\r\n     * @param {*} value\r\n     * @returns {ArrayMap.<T>}\r\n     */\r\n    ArrayMap.prototype.add = function (key, value) {\r\n        if (this.contains(key))\r\n            this[key] = value;\r\n        else {\r\n            this.push(key);\r\n            this[key] = value;\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'add', {enumerable: false});\r\n\r\n    /**\r\n     * @param {string|Object} key\r\n     * @returns {*}\r\n     */\r\n    ArrayMap.prototype.get = function (key) {\r\n        return this.contains(key) ? this[key] : null;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'get', {enumerable: false});\r\n\r\n    /**\r\n     * @param {string|Object} key\r\n     * @returns {ArrayMap.<T>}\r\n     */\r\n    ArrayMap.prototype.remove = function (key) {\r\n        for (var i = 0; i < this.length; ++i) {\r\n            if (this[i] == key) {\r\n                this.splice(i, 1);\r\n                delete this[key];\r\n                return this;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(ArrayMap.prototype, 'remove', {enumerable: false});\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.ArrayMap = ArrayMap;\r\n    if (global.j2d !== undefined) global.j2d.utils.ArrayMap = ArrayMap;\r\n    return ArrayMap;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/DeviceUtil', ['utils/Vector2dInteger'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/Vector2dInteger'));\r\n    } else {\r\n        factory(root.j2d.utils.Vector2dInteger);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Vector2dInteger) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Class utility for get system browser window size\r\n     * \r\n     * @class DeviceUtil\r\n     * @exports module:utils/DeviceUtil\r\n     * \r\n     * @constructor\r\n     */\r\n    var DeviceUtil = function () {\r\n        var documentWidth = parseInt(Math.max(\r\n            document.documentElement['clientWidth'],\r\n            document.body['scrollWidth'],\r\n            document.documentElement['scrollWidth'],\r\n            document.body['offsetWidth'],\r\n            document.documentElement['offsetWidth']\r\n        ));\r\n\r\n        var documentHeight = parseInt(Math.max(\r\n            document.documentElement['clientHeight'],\r\n            document.body['scrollHeight'],\r\n            document.documentElement['scrollHeight'],\r\n            document.body['offsetHeight'],\r\n            document.documentElement['offsetHeight']\r\n        ));\r\n\r\n        this.width = documentWidth < parseInt(screen.width) ? documentWidth : parseInt(screen.width);\r\n        this.height = documentHeight < parseInt(screen.height) ? documentHeight : parseInt(screen.height);\r\n    };\r\n\r\n    /**\r\n     * @returns {DeviceUtil}\r\n     */\r\n    DeviceUtil.prototype.onResize = function () {\r\n        this.width = window.innerWidth;\r\n        this.height = window.innerHeight;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    DeviceUtil.prototype.getWidth = function () {\r\n        return this.width;\r\n    };\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    DeviceUtil.prototype.getHeight = function () {\r\n        return this.height;\r\n    };\r\n\r\n    /**\r\n     * @returns {Vector2d}\r\n     */\r\n    DeviceUtil.prototype.getSize = function () {\r\n        return new Vector2dInteger(this.width, this.height);\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.DeviceUtil = DeviceUtil;\r\n    if (global.j2d !== undefined) global.j2d.utils.DeviceUtil = DeviceUtil;\r\n    return DeviceUtil;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/Events', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class Events\r\n     * @exports module:utils/Events\r\n     * \r\n     * @constructor\r\n     */\r\n    var Events = function () {\r\n        var events;\r\n        var once;\r\n\r\n        /**\r\n         * @param {string} [eventName]\r\n         */\r\n        this.flush = function (eventName) {\r\n            if (eventName !== undefined) {\r\n                if (events[eventName] !== undefined) {\r\n                    events[eventName] = new Array();\r\n                }\r\n                if (once[eventName] !== undefined) {\r\n                    once[eventName] = new Array();\r\n                }\r\n            } else {\r\n                once = new Array();\r\n                events = new Array();\r\n            }\r\n        };\r\n\r\n        this.flush();\r\n\r\n        /**\r\n         * @param {string} eventName\r\n         * @param {function} callback\r\n         */\r\n        this.on = function (eventName, callback) {\r\n            if (events[eventName] !== undefined) {\r\n                var stack = events[eventName];\r\n                if (stack.indexOf(callback) === -1) {\r\n                    stack.push(callback);\r\n                }\r\n            } else {\r\n                events[eventName] = new Array();\r\n                events[eventName].push(callback)\r\n            }\r\n        };\r\n\r\n        /**\r\n         * @param {string} eventName\r\n         * @param {function} callback\r\n         */\r\n        this.once = function (eventName, callback) {\r\n            if (once[eventName] !== undefined) {\r\n                var stack = once[eventName];\r\n                if (stack.indexOf(callback) === -1) {\r\n                    stack.push(callback);\r\n                }\r\n            } else {\r\n                once[eventName] = new Array();\r\n                once[eventName].push(callback)\r\n            }\r\n        };\r\n\r\n        /**\r\n         * @param {string} eventName\r\n         * @param {function} callback\r\n         */\r\n        this.off = function (eventName, callback) {\r\n            if (once[eventName] !== undefined) {\r\n                var stack = events[eventName];\r\n                if (stack.indexOf(callback) !== -1) {\r\n                    stack.splice(stack.indexOf(callback));\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * @param {string} eventName\r\n         * @param {Object} [data]\r\n         */\r\n        this.trigger = function (eventName, data) {\r\n            var stack, i;\r\n\r\n            if (events[eventName] !== undefined) {\r\n                stack = events[eventName];\r\n                for (i = 0; i < stack.length; i++) {\r\n                    stack[i].call(stack[i], data);\r\n                }\r\n            }\r\n\r\n            if (once[eventName] !== undefined) {\r\n                stack = once[eventName];\r\n                for (i = 0; i < stack.length; i++) {\r\n                    stack[i].call(stack[i], data);\r\n                }\r\n                this.flush(eventName);\r\n            }\r\n        };\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Events = Events;\r\n    if (global.j2d !== undefined) global.j2d.utils.Events = Events;\r\n    return Events;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/MathUtil', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class MathUtil\r\n     * @exports module:utils/MathUtil\r\n     * \r\n     * @constructor\r\n     */\r\n    var MathUtil = function () {\r\n    };\r\n\r\n    /**\r\n     * @param {number} number\r\n     * @returns {number}\r\n     */\r\n    MathUtil.number2Integer = function (number) {\r\n        return number >> 0;\r\n    };\r\n\r\n    /**\r\n     * @param {number} number\r\n     * @returns {boolean}\r\n     */\r\n    MathUtil.isInteger = function (number) {\r\n        return typeof number === \"number\" && isFinite(number)\r\n            && number > -9007199254740992 && number < 9007199254740992\r\n            && Math.floor(number) === number;\r\n    };\r\n\r\n    /**\r\n     * @param {number} min\r\n     * @param {number} max\r\n     * @param {number} opacity\r\n     * @returns {string}\r\n     */\r\n    MathUtil.randomColor = function (min, max, opacity) {\r\n        return 'rgba('\r\n            + MathUtil.random(min, max) + ', '\r\n            + MathUtil.random(min, max) + ', '\r\n            + MathUtil.random(min, max) + ', '\r\n            + opacity + ')';\r\n    };\r\n\r\n    /**\r\n     * @param {number} min\r\n     * @param {number} max\r\n     * @param {boolean} [omitZero]\r\n     * @returns {number}\r\n     */\r\n    MathUtil.random = function (min, max, omitZero) {\r\n        var random = (Math.floor(Math.random() * (max - min + 1) + min));\r\n        return (omitZero && random == 0)\r\n            ? MathUtil.random(min, max, omitZero)\r\n            : random;\r\n    };\r\n\r\n    /**\r\n     * @param {number} degree\r\n     * @returns {number}\r\n     */\r\n    MathUtil.degree2Radian = function (degree) {\r\n        return degree * (Math.PI / 180);\r\n    };\r\n\r\n    /**\r\n     * @param {number} radian\r\n     * @returns {number}\r\n     */\r\n    MathUtil.radian2Degree = function (radian) {\r\n        return radian * (180 / Math.PI);\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.MathUtil = MathUtil;\r\n    if (global.j2d !== undefined) global.j2d.utils.MathUtil = MathUtil;\r\n    return MathUtil\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/ObjectUtil', ['utils/ArrayMap'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/ArrayMap'));\r\n    } else {\r\n        factory(root.j2d.utils.ArrayMap);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (ArrayMap) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class ObjectUtil\r\n     * @exports module:utils/ObjectUtil\r\n     *\r\n     * @constructor\r\n     */\r\n    var ObjectUtil = function () {\r\n    };\r\n\r\n    ObjectUtil.extend = function () {\r\n        var args = Array.prototype.slice.call(arguments);\r\n        var deepness = false;\r\n        if (typeof args[0] === 'boolean') {\r\n            deepness = args[0];\r\n            args.splice(0, 1);\r\n        }\r\n\r\n        var out = args[0] || function () {\r\n                if (args[1] !== undefined && args[1] !== null && typeof args[1] === 'object') {\r\n                    return Object.create(args[1])\r\n                }\r\n                return {};\r\n            }();\r\n\r\n        for (var i = 1; i < args.length; i++) {\r\n            var object = args[i];\r\n\r\n            if (!object) continue;\r\n\r\n            for (var key in object) {\r\n                //noinspection JSUnresolvedFunction\r\n                if (object.hasOwnProperty(key)) {\r\n                    if (typeof object[key] === 'object' && object[key] !== null) {\r\n                        out[key] = deepness ? ObjectUtil.extend(deepness, out[key], object[key]) : object[key];\r\n                    } else {\r\n                        out[key] = object[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return out;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.ObjectUtil = ObjectUtil;\r\n    if (global.j2d !== undefined) global.j2d.utils.ObjectUtil = ObjectUtil;\r\n    return ObjectUtil;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/SystemConsole', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    var SystemConsole = function () {\r\n        this.css = function (color) {\r\n            return 'background: ' + color + ';' +\r\n                'background-repeat: no-repeat;' +\r\n                'color: #1df9a8;' +\r\n                'line-height: 16px' +\r\n                'padding: 3px 0';\r\n        };\r\n\r\n        this.link = function (color) {\r\n            return 'background: ' + color + ';' +\r\n                'background-repeat: no-repeat;' +\r\n                'font-size: 12px;' +\r\n                'color: #446d96;' +\r\n                'line-height: 14px';\r\n        };\r\n    };\r\n\r\n    SystemConsole.prototype.logSystem = function (message, link) {\r\n        return console.log(\"%c %c %c %s %c %c %c %c%s\",\r\n            this.css('#5C6166'), this.css('#4F5357'),\r\n            this.css('#313335'), message,\r\n            this.css('#4F5357'), this.css('#5C6166'),\r\n            this.link('none'), this.link('none'), link\r\n        );\r\n    };\r\n\r\n    SystemConsole.prototype.log = function (message, level) {\r\n        var css = '';\r\n        if (typeof level === 'string') level = level.toLowerCase();\r\n        switch (level) {\r\n            case 'info':\r\n                level = 'INFO';\r\n                css = 'background: #308AE4; color: #fff; padding: 1px 4px';\r\n                break;\r\n            case 'warn':\r\n            case 'warning':\r\n                level = 'WARNING';\r\n                css = 'background: #f7a148; color: #fff; padding: 1px 4px';\r\n                break;\r\n            case 'error':\r\n                level = 'ERROR';\r\n                css = 'background: #DB5252; color: #fff; padding: 1px 4px';\r\n                break;\r\n            case 'network':\r\n                level = 'NETWORK';\r\n                css = 'background: #7D2998; color: #fff; padding: 1px 4px';\r\n                break;\r\n            case 'debug':\r\n            case undefined:\r\n            default:\r\n                level = 'DEBUG';\r\n                css = 'background: #ADADAD; color: #fff; padding: 1px 4px';\r\n        }\r\n        return console.log(\"%c%s\", css, level, message);\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.SystemConsole = SystemConsole;\r\n    if (global.j2d !== undefined) global.j2d.utils.SystemConsole = SystemConsole;\r\n    return SystemConsole;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/UUID', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Class for generate uuid\r\n     * \r\n     * @class UUID\r\n     * @exports module:utils/UUID\r\n     * \r\n     * @constructor\r\n     */\r\n    var UUID = function () {\r\n\r\n    };\r\n\r\n    UUID.generate = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.UUID = UUID;\r\n    if (global.j2d !== undefined) global.j2d.utils.UUID = UUID;\r\n    return UUID;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/Vector2d', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class Vector2d\r\n     * @exports module:utils/Vector2d\r\n     * \r\n     * @constructor\r\n     * @param {number} x\r\n     * @param {number} y\r\n     */\r\n    var Vector2d = function (x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    };\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    Vector2d.prototype.getX = function () {\r\n        return this.x;\r\n    };\r\n\r\n    /**\r\n     * @returns {number}\r\n     */\r\n    Vector2d.prototype.getY = function () {\r\n        return this.y;\r\n    };\r\n\r\n    /**\r\n     * @returns {{x: number, y: number}}\r\n     */\r\n    Vector2d.prototype.getVector = function () {\r\n        return {x: this.x, y: this.y};\r\n    };\r\n\r\n    /**\r\n     * @returns {Array.<number>}\r\n     */\r\n    Vector2d.prototype.toArray = function () {\r\n        return [this.x, this.y];\r\n    };\r\n\r\n    /**\r\n     * @param {Array.<number>} array\r\n     * @returns {Vector2d}\r\n     */\r\n    Vector2d.prototype.fromArray = function (array) {\r\n        this.x = array[0];\r\n        this.y = array[1];\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @returns {string}\r\n     */\r\n    Vector2d.prototype.toString = function () {\r\n        return \"(\" + this.x + \",\" + this.y + \")\";\r\n    };\r\n\r\n    /**\r\n     * @param {Vector2d} vector1\r\n     * @param {Vector2d} vector2\r\n     * @returns {number}\r\n     */\r\n    Vector2d.getDistance = function (vector1, vector2) {\r\n        return Math.sqrt(\r\n            Math.pow(vector2.getVector().x - vector1.getVector().x, 2) +\r\n            Math.pow(vector2.getVector().y - vector1.getVector().y, 2)\r\n        );\r\n    };\r\n\r\n    /**\r\n     * @param {Vector2d} vector1\r\n     * @param {Vector2d} vector2\r\n     * @returns {number}\r\n     */\r\n    Vector2d.getAngle = function (vector1, vector2) {\r\n        return Math.atan2(\r\n                vector2.getVector().y - vector1.getVector().y,\r\n                vector2.getVector().x - vector1.getVector().x\r\n            ) * (180 / Math.PI);\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Vector2d = Vector2d;\r\n    if (global.j2d !== undefined) global.j2d.utils.Vector2d = Vector2d;\r\n    return Vector2d\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX, Skaner(j2Ds)\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('utils/Vector2dInteger', ['utils/Vector2d'], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory(require('utils/Vector2d'));\r\n    } else {\r\n        factory(root.j2d.utils.Vector2d);\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function (Vector2d) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * @class Vector2dInteger\r\n     * @exports module:utils/Vector2dInteger\r\n     *\r\n     * @constructor\r\n     * @extends utils/Vector2d\r\n     * @param {number} x\r\n     * @param {number} y\r\n     */\r\n    var Vector2dInteger = function (x, y) {\r\n        Vector2d.call(this, x >> 0, y >> 0);\r\n    };\r\n\r\n    Vector2dInteger.prototype = Object.create(Vector2d.prototype);\r\n    Vector2dInteger.prototype.constructor = Vector2dInteger;\r\n\r\n    /**\r\n     * @param {Array.<number>} array\r\n     * @returns {Vector2d|Vector2dInteger}\r\n     */\r\n    Vector2dInteger.prototype.fromArray = function (array) {\r\n        this.x = array[0] >> 0;\r\n        this.y = array[1] >> 0;\r\n\r\n        return this;\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Vector2dInteger = Vector2dInteger;\r\n    if (global.j2d !== undefined) global.j2d.utils.Vector2dInteger = Vector2dInteger;\r\n    return Vector2dInteger;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('transitions/utils/Easing', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    var EasingEnum;\r\n\r\n    /**\r\n     * @class Easing\r\n     * @exports module:transitions/utils/Easing\r\n     *\r\n     * @type {{Linear: {None: Easing.Linear.None}, Quadratic: {In: Easing.Quadratic.In, Out: Easing.Quadratic.Out, InOut: Easing.Quadratic.InOut}, Cubic: {In: Easing.Cubic.In, Out: Easing.Cubic.Out, InOut: Easing.Cubic.InOut}, Quartic: {In: Easing.Quartic.In, Out: Easing.Quartic.Out, InOut: Easing.Quartic.InOut}, Quintic: {In: Easing.Quintic.In, Out: Easing.Quintic.Out, InOut: Easing.Quintic.InOut}, Sinusoidal: {In: Easing.Sinusoidal.In, Out: Easing.Sinusoidal.Out, InOut: Easing.Sinusoidal.InOut}, Exponential: {In: Easing.Exponential.In, Out: Easing.Exponential.Out, InOut: Easing.Exponential.InOut}, Circular: {In: Easing.Circular.In, Out: Easing.Circular.Out, InOut: Easing.Circular.InOut}, Elastic: {In: Easing.Elastic.In, Out: Easing.Elastic.Out, InOut: Easing.Elastic.InOut}, Back: {In: Easing.Back.In, Out: Easing.Back.Out, InOut: Easing.Back.InOut}, Bounce: {In: Easing.Bounce.In, Out: Easing.Bounce.Out, InOut: Easing.Bounce.InOut}}}\r\n     */\r\n    var Easing = {\r\n        Linear: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            None: function (k) {\r\n                return k;\r\n            }\r\n        },\r\n        Quadratic: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                return k * k;\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                return k * (2 - k);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                if ((k *= 2) < 1) return 0.5 * k * k;\r\n                return -0.5 * (--k * (k - 2) - 1);\r\n            }\r\n        },\r\n\r\n        Cubic: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                return k * k * k;\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                return --k * k * k + 1;\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                if ((k *= 2) < 1) return 0.5 * k * k * k;\r\n                return 0.5 * ((k -= 2) * k * k + 2);\r\n            }\r\n        },\r\n\r\n        Quartic: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                return k * k * k * k;\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                return 1 - (--k * k * k * k);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                if ((k *= 2) < 1)  return 0.5 * k * k * k * k;\r\n                return -0.5 * ((k -= 2) * k * k * k - 2);\r\n            }\r\n        },\r\n\r\n        Quintic: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                return k * k * k * k * k;\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                return --k * k * k * k * k + 1;\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                if ((k *= 2) < 1) return 0.5 * k * k * k * k * k;\r\n                return 0.5 * ((k -= 2) * k * k * k * k + 2);\r\n            }\r\n\r\n        },\r\n\r\n        Sinusoidal: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                return 1 - Math.cos(k * Math.PI / 2);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                return Math.sin(k * Math.PI / 2);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                return 0.5 * (1 - Math.cos(Math.PI * k));\r\n            }\r\n        },\r\n\r\n        Exponential: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                return k === 0 ? 0 : Math.pow(1024, k - 1);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                if (k === 0) return 0;\r\n                if (k === 1) return 1;\r\n                if ((k *= 2) < 1) return 0.5 * Math.pow(1024, k - 1);\r\n\r\n                return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\r\n            }\r\n        },\r\n\r\n        Circular: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                return 1 - Math.sqrt(1 - k * k);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                return Math.sqrt(1 - (--k * k));\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                if ((k *= 2) < 1) return -0.5 * (Math.sqrt(1 - k * k) - 1);\r\n                return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\r\n            }\r\n        },\r\n\r\n        Elastic: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                var s;\r\n                var a = 0.1;\r\n                var p = 0.4;\r\n\r\n                if (k === 0) return 0;\r\n                if (k === 1) return 1;\r\n\r\n                if (!a || a < 1) {\r\n                    a = 1;\r\n                    s = p / 4;\r\n                } else {\r\n                    s = p * Math.asin(1 / a) / (2 * Math.PI);\r\n                }\r\n\r\n                return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                var s;\r\n                var a = 0.1;\r\n                var p = 0.4;\r\n\r\n                if (k === 0) return 0;\r\n                if (k === 1) return 1;\r\n\r\n                if (!a || a < 1) {\r\n                    a = 1;\r\n                    s = p / 4;\r\n                } else {\r\n                    s = p * Math.asin(1 / a) / (2 * Math.PI);\r\n                }\r\n\r\n                return (a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n\r\n                var s;\r\n                var a = 0.1;\r\n                var p = 0.4;\r\n\r\n                if (k === 0) return 0;\r\n                if (k === 1) return 1;\r\n\r\n                if (!a || a < 1) {\r\n                    a = 1;\r\n                    s = p / 4;\r\n                } else {\r\n                    s = p * Math.asin(1 / a) / (2 * Math.PI);\r\n                }\r\n\r\n                if ((k *= 2) < 1) {\r\n                    return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\r\n                }\r\n\r\n                return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\r\n\r\n            }\r\n\r\n        },\r\n\r\n        Back: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                var s = 1.70158;\r\n\r\n                return k * k * ((s + 1) * k - s);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                var s = 1.70158;\r\n\r\n                return --k * k * ((s + 1) * k + s) + 1;\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                var s = 1.70158 * 1.525;\r\n                if ((k *= 2) < 1) return 0.5 * (k * k * ((s + 1) * k - s));\r\n\r\n                return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\r\n            }\r\n        },\r\n\r\n        Bounce: {\r\n            /**\r\n             * @return {number}\r\n             */\r\n            In: function (k) {\r\n                return 1 - Tween.Easing.Bounce.Out(1 - k);\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            Out: function (k) {\r\n                if (k < (1 / 2.75)) {\r\n                    return 7.5625 * k * k;\r\n                } else if (k < (2 / 2.75)) {\r\n                    return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\r\n                } else if (k < (2.5 / 2.75)) {\r\n                    return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\r\n                } else {\r\n                    return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @return {number}\r\n             */\r\n            InOut: function (k) {\r\n                if (k < 0.5) return Tween.Easing.Bounce.In(k * 2) * 0.5;\r\n                return Tween.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\r\n            }\r\n        }\r\n    };\r\n\r\n    Easing.get = function (easing) {\r\n        if (EasingEnum[easing] !== undefined) {\r\n            return EasingEnum[easing];\r\n        }\r\n\r\n        // TODO:: Exceptions\r\n        //throw new InvalidArgumentException('Unknown easing: ' + easing);\r\n    };\r\n    Easing.register = function (easing, easingFunction) {\r\n        EasingEnum[easing] = easingFunction;\r\n    };\r\n\r\n    EasingEnum = {\r\n        'linear': Easing.Linear.None,\r\n\r\n        'quadratic-in': Easing.Quadratic.In,\r\n        'quadratic-out': Easing.Quadratic.Out,\r\n        'quadratic-in-out': Easing.Quadratic.InOut,\r\n\r\n        'cubic-in': Easing.Cubic.In,\r\n        'cubic-out': Easing.Cubic.Out,\r\n        'cubic-in-out': Easing.Cubic.InOut,\r\n\r\n        'quartic-in': Easing.Quartic.In,\r\n        'quartic-out': Easing.Quartic.Out,\r\n        'quartic-in-out': Easing.Quartic.InOut,\r\n\r\n        'quintic-in': Easing.Quintic.In,\r\n        'quintic-out': Easing.Quintic.Out,\r\n        'quintic-in-out': Easing.Quintic.InOut,\r\n\r\n        'sinusoidal-in': Easing.Sinusoidal.In,\r\n        'sinusoidal-out': Easing.Sinusoidal.Out,\r\n        'sinusoidal-in-out': Easing.Sinusoidal.InOut,\r\n\r\n        'exponential-in': Easing.Exponential.In,\r\n        'exponential-out': Easing.Exponential.Out,\r\n        'exponential-in-out': Easing.Exponential.InOut,\r\n\r\n        'circular-in': Easing.Circular.In,\r\n        'circular-out': Easing.Circular.Out,\r\n        'circular-in-out': Easing.Circular.InOut,\r\n\r\n        'elastic-in': Easing.Elastic.In,\r\n        'elastic-out': Easing.Elastic.Out,\r\n        'elastic-in-out': Easing.Elastic.InOut,\r\n\r\n        'back-in': Easing.Back.In,\r\n        'back-out': Easing.Back.Out,\r\n        'back-in-out': Easing.Back.InOut,\r\n\r\n        'bounce-in': Easing.Bounce.In,\r\n        'bounce-out': Easing.Bounce.Out,\r\n        'bounce-in-out': Easing.Bounce.InOut\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Easing = Easing;\r\n    if (global.j2d !== undefined) global.j2d.transitions.utils.Easing = Easing;\r\n    return Easing;\r\n}));\r\n","/**\r\n * j2D (JavaScript 2D Engine)\r\n *\r\n * @authors DeVinterX\r\n * @license BSD\r\n * @version 0.2.0-dev\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('transitions/utils/Interpolation', [], factory);\r\n    } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n        module.exports = factory();\r\n    } else {\r\n        factory();\r\n    }\r\n}(typeof window !== 'undefined' ? window : global, function () {\r\n    \"use strict\";\r\n\r\n    var InterpolationEnum;\r\n\r\n    /**\r\n     * @class Interpolation\r\n     * @exports module:transitions/utils/Interpolation\r\n     * \r\n     * @type {{Linear: Interpolation.Linear, Bezier: Interpolation.Bezier, CatmullRom: Interpolation.CatmullRom}}\r\n     */\r\n    var Interpolation = {\r\n        /**\r\n         * @return {number}\r\n         */\r\n        Linear: function (v, k) {\r\n            var m = v.length - 1;\r\n            var f = m * k;\r\n            var i = Math.floor(f);\r\n            var fn = Interpolation.Utils.Linear;\r\n\r\n            if (k < 0) return fn(v[0], v[1], f);\r\n            if (k > 1) return fn(v[m], v[m - 1], m - f);\r\n\r\n            return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\r\n        },\r\n\r\n        /**\r\n         * @return {number}\r\n         */\r\n        Bezier: function (v, k) {\r\n            var b = 0;\r\n            var n = v.length - 1;\r\n            var pw = Math.pow;\r\n            var bn = Interpolation.Utils.Bernstein;\r\n\r\n            for (var i = 0; i <= n; i++) {\r\n                b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\r\n            }\r\n\r\n            return b;\r\n        },\r\n\r\n        /**\r\n         * @return {number}\r\n         */\r\n        CatmullRom: function (v, k) {\r\n            var m = v.length - 1;\r\n            var f = m * k;\r\n            var i = Math.floor(f);\r\n            var fn = Interpolation.Utils.CatmullRom;\r\n\r\n            if (v[0] === v[m]) {\r\n                if (k < 0) i = Math.floor(f = m * (1 + k));\r\n\r\n                return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\r\n            } else {\r\n                if (k < 0) return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\r\n                if (k > 1) return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\r\n\r\n                return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\r\n            }\r\n        }\r\n    };\r\n\r\n    Interpolation.Utils = {\r\n        /**\r\n         * @return {number}\r\n         */\r\n        Linear: function (p0, p1, t) {\r\n            return (p1 - p0) * t + p0;\r\n        },\r\n\r\n        /**\r\n         * @return {number}\r\n         */\r\n        Bernstein: function (n, i) {\r\n            var fc = Interpolation.Utils.Factorial;\r\n            return fc(n) / fc(i) / fc(n - i);\r\n        },\r\n\r\n        Factorial: (function () {\r\n            var a = [1];\r\n            return function (n) {\r\n                var s = 1;\r\n                if (a[n]) return a[n];\r\n\r\n                for (var i = n; i > 1; i--) {\r\n                    s *= i;\r\n                }\r\n                a[n] = s;\r\n\r\n                return s;\r\n            };\r\n        })(),\r\n\r\n        /**\r\n         * @return {number}\r\n         */\r\n        CatmullRom: function (p0, p1, p2, p3, t) {\r\n            var v0 = (p2 - p0) * 0.5;\r\n            var v1 = (p3 - p1) * 0.5;\r\n            var t2 = t * t;\r\n            var t3 = t * t2;\r\n\r\n            return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\r\n        }\r\n    };\r\n\r\n    Interpolation.get = function (interpolation) {\r\n        if (InterpolationEnum[interpolation] !== undefined) {\r\n            return InterpolationEnum[interpolation];\r\n        }\r\n\r\n        // TODO:: Exceptions\r\n        //throw new InvalidArgumentException('Unknown interpolation: ' + interpolation);\r\n    };\r\n\r\n    Interpolation.register = function (interpolation, interpolationFunction) {\r\n        InterpolationEnum[interpolation] = interpolationFunction;\r\n    };\r\n\r\n    InterpolationEnum = {\r\n        'linear': Interpolation.Linear,\r\n        'bezier': Interpolation.Bezier,\r\n        'catmull-rom': Interpolation.CatmullRom\r\n    };\r\n\r\n    if (typeof module === 'object' && typeof module.exports === 'object') module.exports.Interpolation = Interpolation;\r\n    if (global.j2d !== undefined) global.j2d.transitions.utils.Interpolation = Interpolation;\r\n    return Interpolation;\r\n}));\r\n"],"sourceRoot":"/source/"}