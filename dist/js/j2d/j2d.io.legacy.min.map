{"version":3,"sources":["j2d.io.legacy.js","j2d/j2d.io.legacy.js"],"names":["root","factory","define","amd","jQuery","global","$","IO","j2d","this","data","pos","x","y","abs","keyDown","keyPress","keyPressed","keyUp","keyUpped","mouseDown","mousePress","mousePressed","mouseUp","mouseUpped","mouseWheel","canceled","body","anyKey","anyMouse","writeMode","displayCursor","visible","prototype","init","io","activeElement","element","focus","options","window","oncontextmenu","onselectstart","ondragstart","onmousedown","onMouseEvent","onmouseup","e","onmousemove","onMove","onkeydown","keyEvent","onkeyup","onkeypress","onmousewheel","onMouseWheel","addEventListener","update","dX","scene","canvas","offsetWidth","width","dY","offsetHeight","height","viewport","clear","keyList","arrayList","i","keys","hasOwnProperty","push","isKeyDown","code","isKeyPress","isKeyUp","getPosition","vector","vec2df","setWriteMode","mode","isWriteMode","type","keyCode","trigger","preventDefault","char","which","charCode","String","fromCharCode","cancel","id","onNode","layer","position","size","pageX","pageY","isMouseDown","mKeys","isMousePress","isMouseUp","isMouseWheel","wheelDelta","detail","button","mouseUped","setCursorImage","curImg","css","setVisible","isVisible","LEFT","MIDDLE","RIGHT","UP","DOWN","SPACE","CTRL","SHIFT","ALT","ESC","ENTER","MINUS","PLUS","CAPS_LOCK","BACKSPACE","TAB","Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","V","B","N","M","0","1","2","3","4","5","6","7","8","C","9","NUM_0","NUM_1","NUM_2","NUM_3","NUM_4","NUM_5","NUM_6","NUM_7","NUM_8","NUM_9","NUM_MINUS","NUM_PLUS","NUM_LOCK","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","undefined","J2D"],"mappings":"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","file":"j2d/j2d.io.legacy.js","sourcesContent":[null,"/**\r\n * J2D (jQuery plugin of the fork j2ds)\r\n *\r\n * @authors Skaner, likerRr, DeVinterX\r\n * @license zlib\r\n * @version 0.1.7\r\n * @see https://github.com/SkanerSoft/J2ds/commit/09b23c64add60b9904d211da9222f921550d6f21\r\n */\r\n\r\n!function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('j2d.io.legacy', ['jquery'], factory);\r\n    } else {\r\n        factory(root.jQuery);\r\n    }\r\n}(global, function ($) {\r\n    \"use strict\";\r\n\r\n    var IO = function (j2d) {\r\n        this.j2d = j2d;\r\n\r\n        this.data = {\r\n            pos: {x: 0, y: 0},\r\n            x: 0,\r\n            y: 0,\r\n            abs: {x: 0, y: 0},\r\n            keyDown: [],\r\n            keyPress: [],\r\n            keyPressed: [],\r\n            keyUp: [],\r\n            keyUpped: false,\r\n\r\n            mouseDown: [],\r\n            mousePress: [],\r\n            mousePressed: [],\r\n            mouseUp: [],\r\n            mouseUpped: false,\r\n            mouseWheel: 0,\r\n\r\n            canceled: false,\r\n            body: false,\r\n            anyKey: false,\r\n            anyMouse: false,\r\n            writeMode: false,\r\n            displayCursor: '',\r\n            visible: true\r\n        };\r\n    };\r\n\r\n    IO.prototype.init = function () {\r\n        var io = this;\r\n\r\n        IO.activeElement = io.j2d.element;\r\n        IO.activeElement.focus();\r\n        io.j2d.options.window.oncontextmenu = function () {\r\n            return false;\r\n        };\r\n        io.j2d.options.window.onselectstart = io.j2d.options.window.oncontextmenu;\r\n        io.j2d.options.window.ondragstart = io.j2d.options.window.oncontextmenu;\r\n        io.j2d.options.window.onmousedown = io.onMouseEvent;\r\n        io.j2d.options.window.onmouseup = function (e) {\r\n            io.data.canceled = false;\r\n            io.onMouseEvent(e);\r\n        };\r\n        io.j2d.options.window.onmousemove = function (e) {\r\n            io.onMove(e);\r\n        };\r\n        io.j2d.options.window.onkeydown = function (e) {\r\n            io.keyEvent(e);\r\n        };\r\n        io.j2d.options.window.onkeyup = function (e) {\r\n            io.data.canceled = false;\r\n            io.keyEvent(e);\r\n        };\r\n        io.j2d.options.window.onkeypress = function (e) {\r\n            io.keyEvent(e);\r\n        };\r\n\r\n        io.j2d.options.window.onmousewheel = function (e) {\r\n            io.onMouseWheel(e);\r\n        };\r\n\r\n        if (io.j2d.options.window.addEventListener) {\r\n            io.j2d.options.window.addEventListener(\"DOMMouseScroll\", function (e) {\r\n                io.onMouseWheel(e);\r\n            }, false);\r\n        }\r\n    };\r\n\r\n    IO.prototype.update = function () {\r\n        var dX = this.j2d.scene.canvas.offsetWidth / this.j2d.scene.width;\r\n        var dY = this.j2d.scene.canvas.offsetHeight / this.j2d.scene.height;\r\n        this.data.x = (this.data.abs.x / dX);\r\n        this.data.y = (this.data.abs.y / dY);\r\n\r\n        this.data.pos.x = this.j2d.scene.viewport.x + this.data.x;\r\n        this.data.pos.y = this.j2d.scene.viewport.y + this.data.y;\r\n    };\r\n\r\n    IO.prototype.clear = function () {\r\n        this.data.keyPress = [];\r\n        this.data.keyUp = [];\r\n        this.data.mousePress = [];\r\n        this.data.mouseUp = [];\r\n        this.data.mouseWheel = 0;\r\n    };\r\n\r\n    IO.prototype.keyList = function () {\r\n        var arrayList = [];\r\n        for (var i in IO.keys) {\r\n            if (IO.keys.hasOwnProperty(i)) {\r\n                arrayList.push(i);\r\n            }\r\n        }\r\n        return arrayList;\r\n    };\r\n\r\n    IO.prototype.isKeyDown = function (code) {\r\n        return this.data.keyDown[IO.keys[code]];\r\n    };\r\n\r\n    IO.prototype.isKeyPress = function (code) {\r\n        return this.data.keyPress[IO.keys[code]];\r\n    };\r\n\r\n    IO.prototype.isKeyUp = function (code) {\r\n        return this.data.keyUp[IO.keys[code]];\r\n    };\r\n\r\n    IO.prototype.getPosition = function () {\r\n        return this.j2d.vector.vec2df(this.data.pos.x, this.data.pos.y);\r\n    };\r\n\r\n    IO.prototype.setWriteMode = function (mode) {\r\n        this.data.writeMode = mode;\r\n    };\r\n\r\n    IO.prototype.isWriteMode = function () {\r\n        return this.data.writeMode;\r\n    };\r\n\r\n    IO.prototype.keyEvent = function (e) {\r\n        if (e.type == 'keydown') {\r\n            if (!this.data.keyPressed[e.keyCode]) {\r\n                this.data.keyPress[e.keyCode] = true;\r\n                this.data.keyPressed[e.keyCode] = true;\r\n            }\r\n            if (!this.data.writeMode) {\r\n                e.preventDefault();\r\n            } else {\r\n                $(this.j2d.element).trigger('keyPress');\r\n            }\r\n        } else if (e.type == 'keyup') {\r\n            if (this.data.keyPressed[e.keyCode]) {\r\n                this.data.keyPress[e.keyCode] = false;\r\n                this.data.keyPressed[e.keyCode] = false;\r\n                this.data.keyUp[e.keyCode] = true;\r\n                this.data.keyUpped = true;\r\n                e.preventDefault();\r\n            }\r\n        } else if (e.type == 'keypress' && (this.data.writeMode)) {\r\n            var char = '';\r\n            if (e.which != 0 && e.charCode != 0) {\r\n                if (e.which >= 32) {\r\n                    char = String.fromCharCode(e.which);\r\n                }\r\n            }\r\n            $(this.j2d.element).trigger('keyPress', [char]);\r\n        }\r\n\r\n        this.data.keyDown[e.keyCode] = (e.type == 'keydown') && (!this.data.canceled);\r\n        this.data.anyKey = e.keyCode;\r\n        return false;\r\n    };\r\n\r\n    IO.prototype.cancel = function (id) {\r\n        if (!id) {\r\n            this.data.canceled = true;\r\n            this.data.keyDown = [];\r\n            this.data.mouseDown = [];\r\n        }\r\n        else {\r\n            this.data.keyDown[IO.keys[id]] = false;\r\n        }\r\n    };\r\n\r\n    IO.prototype.onNode = function (id) {\r\n        if (!id.layer.visible) return false;\r\n        return (this.data.pos.x > id.options.position.x && this.data.pos.x < id.options.position.x + id.options.size.x) &&\r\n            (this.data.pos.y > id.options.position.y && this.data.pos.y < id.options.position.y + id.options.size.y);\r\n    };\r\n\r\n    IO.prototype.onMove = function (e) {\r\n        this.data.abs.x = e.pageX;\r\n        this.data.abs.y = e.pageY;\r\n    };\r\n\r\n    IO.prototype.isMouseDown = function (code) {\r\n        return this.data.mouseDown[IO.mKeys[code]];\r\n    };\r\n\r\n    IO.prototype.isMousePress = function (code) {\r\n        return this.data.mousePress[IO.mKeys.mKeys[code]];\r\n    };\r\n\r\n    IO.prototype.isMouseUp = function (code) {\r\n        return this.data.mouseUp[IO.mKeys.mKeys[code]];\r\n    };\r\n\r\n    IO.prototype.isMouseWheel = function (code) {\r\n        return (code == 'UP' && this.data.mouseWheel > 0) || (code == 'DOWN' && this.data.mouseWheel < 0)\r\n    };\r\n\r\n    IO.prototype.onMouseWheel = function (e) {\r\n        this.data.mouseWheel = ((e.wheelDelta) ? e.wheelDelta : -e.detail);\r\n        e.preventDefault();\r\n        return false;\r\n    };\r\n\r\n    IO.prototype.onMouseEvent = function (e) {\r\n        var io = IO.activeElement.j2d().options.io;\r\n\r\n        if (!e.which && e.button) {\r\n            if (e.button & 1) e.which = 1;\r\n            else if (e.button & 4) e.which = 2;\r\n            else if (e.button & 2) e.which = 3;\r\n        }\r\n\r\n        if (e.type == 'mousedown') {\r\n            if (!this.data.mousePressed[e.which]) {\r\n                this.data.mousePress[e.which] = true;\r\n                this.data.mousePressed[e.which] = true;\r\n            }\r\n        } else if (e.type == 'mouseup') {\r\n            if (this.data.mousePressed[e.which]) {\r\n                this.data.mousePress[e.which] = false;\r\n                this.data.mousePressed[e.which] = false;\r\n                this.data.mouseUp[e.which] = true;\r\n                this.data.mouseUped = true;\r\n            }\r\n        }\r\n\r\n        this.data.mouseDown[e.which] = (e.type == 'mousedown') && (!this.data.canceled);\r\n\r\n        IO.activeElement.focus();\r\n        e.preventDefault();\r\n        return false;\r\n    };\r\n\r\n    IO.prototype.setCursorImage = function (curImg) {\r\n        $(this.j2d.element).css('cursor', 'url(\"' + curImg + '\"), auto');\r\n    };\r\n\r\n    IO.prototype.setVisible = function (visible) {\r\n        this.data.visible = visible;\r\n        if (!visible) {\r\n            this.data.displayCursor = $(this.j2d.element).css('cursor');\r\n            $(this.j2d.element).css('cursor', 'none');\r\n        } else {\r\n            $(this.j2d.element).css('cursor', this.data.displayCursor);\r\n        }\r\n    };\r\n\r\n    IO.prototype.isVisible = function () {\r\n        return this.data.visible;\r\n    };\r\n\r\n    IO.mKeys = {\r\n        'LEFT': 1,\r\n        'MIDDLE': 2,\r\n        'RIGHT': 3\r\n    };\r\n\r\n    IO.keys = {\r\n        'LEFT': 37,\r\n        'RIGHT': 39,\r\n        'UP': 38,\r\n        'DOWN': 40,\r\n        'SPACE': 32,\r\n        'CTRL': 17,\r\n        'SHIFT': 16,\r\n        'ALT': 18,\r\n        'ESC': 27,\r\n        'ENTER': 13,\r\n        'MINUS': 189,\r\n        'PLUS': 187,\r\n        'CAPS_LOCK': 20,\r\n        'BACKSPACE': 8,\r\n        'TAB': 9,\r\n        'Q': 81,\r\n        'W': 87,\r\n        'E': 69,\r\n        'R': 82,\r\n        'T': 84,\r\n        'Y': 89,\r\n        'U': 85,\r\n        'I': 73,\r\n        'O': 79,\r\n        'P': 80,\r\n        'A': 65,\r\n        'S': 83,\r\n        'D': 68,\r\n        'F': 70,\r\n        'G': 71,\r\n        'H': 72,\r\n        'J': 74,\r\n        'K': 75,\r\n        'L': 76,\r\n        'Z': 90,\r\n        'X': 88,\r\n        'V': 86,\r\n        'B': 66,\r\n        'N': 78,\r\n        'M': 77,\r\n        '0': 48,\r\n        '1': 49,\r\n        '2': 50,\r\n        '3': 51,\r\n        '4': 52,\r\n        '5': 53,\r\n        '6': 54,\r\n        '7': 55,\r\n        '8': 56,\r\n        'C': 67,\r\n        '9': 57,\r\n        'NUM_0': 45,\r\n        'NUM_1': 35,\r\n        'NUM_2': 40,\r\n        'NUM_3': 34,\r\n        'NUM_4': 37,\r\n        'NUM_5': 12,\r\n        'NUM_6': 39,\r\n        'NUM_7': 36,\r\n        'NUM_8': 38,\r\n        'NUM_9': 33,\r\n        'NUM_MINUS': 109,\r\n        'NUM_PLUS': 107,\r\n        'NUM_LOCK': 144,\r\n        'F1': 112,\r\n        'F2': 113,\r\n        'F3': 114,\r\n        'F4': 115,\r\n        'F5': 116,\r\n        'F6': 117,\r\n        'F7': 118,\r\n        'F8': 119,\r\n        'F9': 120,\r\n        'F10': 121,\r\n        'F11': 122,\r\n        'F12': 123\r\n    };\r\n\r\n    IO.activeElement = undefined;\r\n\r\n    if (global.J2D !== undefined) global.IO = IO;\r\n    return IO;\r\n});\r\n"],"sourceRoot":"/source/"}