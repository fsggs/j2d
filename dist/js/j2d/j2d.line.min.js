define("j2d.line",["jquery.j2d","j2d.base","j2d.scene"],function(t,i,e){"use strict";e.prototype.addLineNode||(e.prototype.addLineNode=function(t,i,e,o,h,n,l){return new s(this.parent,t,i,e,o,h,n,l)});var s=function(t,e,s,o,h,n,l,r){i.call(this,t,e,t.vector.vec2df(0,0)),this.color=h,this.points=s,this.fill=l||!1,this.scale=o||0,this.cFill=r,this.lineWidth=n};return s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.prototype.draw=function(){var t=this.layer.context;if(this.visible&&this.isLookScene()){if(1!=this.alpha){var i=t.globalAlpha;t.globalAlpha=this.alpha}this.angle&&(t.save(),t.translate(this.getPosition().x-this.j2d.scene.viewport.x,this.getPosition().y-this.j2d.scene.viewport.y),t.rotate(this.j2d.math.rad(this.angle)),t.translate(-(this.getPosition().x-this.j2d.scene.viewport.x),-(this.getPosition().y-this.j2d.scene.viewport.y))),t.strokeStyle=this.color,t.lineWidth=this.lineWidth,t.lineCap="round",t.beginPath(),t.moveTo(this.pos.x-this.j2d.scene.viewport.x,this.pos.y-this.j2d.scene.viewport.y);for(var e=0,s=this.points.length;s>e;e+=1)t.lineTo(this.pos.x+this.points[e][0]*this.scale-this.j2d.scene.viewport.x,this.pos.y+this.points[e][1]*this.scale-this.j2d.scene.viewport.y);t.stroke(),this.fill&&(t.fillStyle=this.cFill,t.fill()),t.lineWidth=0,t.lineCap="butt",this.angle&&t.restore(),1!=this.alpha&&(t.globalAlpha=i)}},s});