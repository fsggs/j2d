{"version":3,"sources":["j2d/j2d.input.js"],"names":["define","$","getKey","object","value","Object","keys","filter","key","InputManager","j2d","this","element","data","mouse","startPosition","x","y","currentPosition","previousDistance","distance","viewport","position","enabled","enableAdditionalData","keysPressed","writeMode","timePressed","preventAll","cursor","image","keyMap","FULLSCREEN","KEY_CTRL","KEY_F11","checkKeyMap","e","enableCallback","undefined","manager","keyCode","which","index","hasOwnProperty","isArray","eval","equals","events","onMouseClick","event","inArray","push","pageX","pageY","timeStamp","preventDefault","splice","indexOf","trigger","onMouseWheel","originalEvent","wheelDelta","fixMouseWheel","mouseWheelCancel","onMouseMove","Math","sqrt","pow","toFixed","onKeyboardPress","char","String","fromCharCode","onTouchTap","touch","touches","changedTouches","onTouchMove","bindEvents","selector","attr","document","on","unbindEvents","off","prototype","init","update","dX","scene","canvas","offsetWidth","width","dY","offsetHeight","height","clear","keyPressed","SCROLL_MOUSE_UP","SCROLL_MOUSE_DOWN","enable","disable","load","newKeyMap","oldKeyMap","JSON","stringify","parse","save","setKeys","mapObject","extend","getPressData","keyList","time","Date","now","getMouseMoveDistance","current","previous","checkPressedKeyList","length","isNaN","checkPressedKeyMap","getPosition","vector","vec2df","onNode","id","layer","visible","pos","size","setCursorImage","css","toggleCursor","isCursorVisible","KEY_MOUSE_LEFT","KEY_MOUSE_MIDDLE","KEY_MOUSE_RIGHT","KEY_BACKSPACE","KEY_TAB","KEY_ENTER","KEY_SHIFT","KEY_ALT","KEY_PAUSE","KEY_BREAK","KEY_CAPS_LOCK","KEY_ESCAPE","KEY_PAGE_UP","KEY_PAGE_DOWN","KEY_END","KEY_HOME","KEY_LEFT_ARROW","KEY_UP_ARROW","KEY_RIGHT_ARROW","KEY_DOWN_ARROW","KEY_INSERT","KEY_DELETE","KEY_0","KEY_1","KEY_2","KEY_3","KEY_4","KEY_5","KEY_6","KEY_7","KEY_8","KEY_9","KEY_A","KEY_B","KEY_C","KEY_D","KEY_E","KEY_F","KEY_G","KEY_H","KEY_I","KEY_J","KEY_K","KEY_L","KEY_M","KEY_N","KEY_O","KEY_P","KEY_Q","KEY_R","KEY_S","KEY_T","KEY_U","KEY_V","KEY_W","KEY_X","KEY_Y","KEY_Z","KEY_LEFT_WINDOW_KEY","KEY_RIGHT_WINDOW_KEY","KEY_SELECT_KEY","KEY_NUMPAD_0","KEY_NUMPAD_1","KEY_NUMPAD_2","KEY_NUMPAD_3","KEY_NUMPAD_4","KEY_NUMPAD_5","KEY_NUMPAD_6","KEY_NUMPAD_7","KEY_NUMPAD_8","KEY_NUMPAD_9","KEY_MULTIPLY","KEY_ADD","KEY_SUBTRACT","KEY_DECIMAL_POINT","KEY_DIVIDE","KEY_F1","KEY_F2","KEY_F3","KEY_F4","KEY_F5","KEY_F6","KEY_F7","KEY_F8","KEY_F9","KEY_F10","KEY_F12","KEY_NUM_LOCK","KEY_SCROLL_LOCK","KEY_SEMI_COLON","KEY_EQUAL_SIGN","KEY_COMMA","KEY_DASH","KEY_PERIOD","KEY_FORWARD_SLASH","KEY_GRAVE_ACCENT","KEY_OPEN_BRACKET","KEY_BACK_SLASH","KEY_CLOSE_BRACKET","KEY_SINGLE_QUOTE","KEY_LEFT_COMMAND","KEY_RIGHT_COMMAND"],"mappings":"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","file":"j2d/j2d.input.min","sourcesContent":["/**\r\n * J2D Input Manager\r\n *\r\n * @authors DeVinterX\r\n * @license BSD\r\n * @version 0.1.3\r\n */\r\n\r\ndefine('j2d.input', ['jquery', 'vanilla.override'],\r\n    function ($) {\r\n        \"use strict\";\r\n\r\n        var InputManager = function (j2d) {\r\n            this.j2d = j2d;\r\n            this.element = j2d.element;\r\n\r\n            this.data = {\r\n                mouse: {\r\n                    startPosition: {\r\n                        x: 0,\r\n                        y: 0\r\n                    },\r\n                    currentPosition: {\r\n                        x: 0,\r\n                        y: 0\r\n                    },\r\n                    previousDistance: 0,\r\n                    distance: 0\r\n                },\r\n                viewport: {\r\n                    position: {\r\n                        x: 0,\r\n                        y: 0\r\n                    }\r\n                },\r\n                enabled: false,\r\n                enableAdditionalData: false,\r\n                keysPressed: [],\r\n                writeMode: false,\r\n                timePressed: 0,\r\n                preventAll: false,\r\n\r\n                cursor: {\r\n                    enabled: false,\r\n                    image: 'auto'\r\n                }\r\n            };\r\n            this.keyMap = {\r\n                //DEBUG_INFO: [[InputManager.key.KEY_CTRL, InputManager.key.KEY_F1], 'j2d.debug.toggleScreen', {}],\r\n                FULLSCREEN: [[InputManager.key.KEY_CTRL, InputManager.key.KEY_F11], 'j2d.scene.toggleFullScreen', {}]\r\n            };\r\n        };\r\n\r\n        var checkKeyMap = function (e, enableCallback) {\r\n            if (enableCallback === undefined) enableCallback = true;\r\n\r\n            var j2d = e.data.manager.j2d,\r\n                manager = e.data.manager,\r\n                keyCode = e.which,\r\n                keyMap = e.data.manager.keyMap;\r\n\r\n            for (var index in keyMap) {\r\n                if (keyMap.hasOwnProperty(index)) {\r\n                    var value = keyMap[index];\r\n                    if (!$.isArray(value[0]) && value[0] === keyCode && !!value[1]) {\r\n                        if (typeof value[1] === 'string') {\r\n                            value[1] = eval('(' + value[1] + ')');\r\n                        }\r\n                        if ((typeof value[1] === 'function') && enableCallback) {\r\n                            value[1](j2d, value[2]);\r\n                        }\r\n                        return true;\r\n                    } else if ($.isArray(value[0])\r\n                        && manager.data.keysPressed.equals(value[0]) && !!value[1]\r\n                    ) {\r\n                        if (typeof value[1] === 'string') {\r\n                            value[1] = eval('(' + value[1] + ')');\r\n                        }\r\n                        if (typeof value[1] === 'function' && enableCallback) {\r\n                            value[1](j2d, value[2]);\r\n                        }\r\n                        return true\r\n                    }\r\n                }\r\n            }\r\n            return false\r\n        };\r\n\r\n        var events = {\r\n            onMouseClick: function (e) {\r\n                var keysPressed = e.data.manager.data.keysPressed;\r\n                var keyCode = getKey(InputManager.key, e.which) || 'KEY_UNKNOWN_' + e.which;\r\n                var mouse = e.data.manager.data.mouse;\r\n\r\n                if (e.data.event !== 2) {\r\n                    if (e.data.event === 0) {\r\n                        if (-1 === $.inArray(InputManager.key[keyCode], keysPressed)) {\r\n                            keysPressed.push(InputManager.key[keyCode]);\r\n\r\n                            if (e.data.manager.data.enableAdditionalData) {\r\n                                mouse.startPosition.x = e.pageX;\r\n                                mouse.startPosition.y = e.pageY;\r\n                                mouse.distance = 0;\r\n\r\n                                e.data.manager.data.timePressed = e.timeStamp;\r\n                            }\r\n                        }\r\n                        if (checkKeyMap(e, false) || e.data.manager.data.preventAll) {\r\n                            e.preventDefault();\r\n                        }\r\n                    } else {\r\n                        if (checkKeyMap(e) || e.data.manager.data.preventAll) {\r\n                            e.preventDefault();\r\n                        }\r\n\r\n                        if (e.data.manager.data.enableAdditionalData) {\r\n                            mouse.previousDistance = mouse.distance;\r\n                            mouse.startPosition.x = 0;\r\n                            mouse.startPosition.y = 0;\r\n                        }\r\n\r\n                        keysPressed.splice(\r\n                            keysPressed.indexOf(InputManager.key[keyCode]), 1\r\n                        );\r\n                    }\r\n                    e.data.manager.element.trigger(e.data.event === 0 ?\r\n                            'mouseKeyDown' : 'mouseKeyUp', {key: keyCode}\r\n                    );\r\n                } else {\r\n                    if (checkKeyMap(e, false)) {\r\n                        e.preventDefault();\r\n                    }\r\n                }\r\n            },\r\n\r\n            onMouseWheel: function (e) {\r\n                var keysPressed = e.data.manager.data.keysPressed;\r\n                var keyCode = (e.originalEvent.wheelDelta / 120 > 0) ?\r\n                    getKey(InputManager.key, 4) : getKey(InputManager.key, 5);\r\n\r\n                e.which = (e.originalEvent.wheelDelta / 120 > 0) ? 4 : 5;\r\n\r\n                if (-1 === $.inArray(InputManager.key[keyCode], keysPressed)) {\r\n                    keysPressed.push(InputManager.key[keyCode]);\r\n                }\r\n\r\n                if (checkKeyMap(e) || e.data.manager.data.preventAll) {\r\n                    e.preventDefault();\r\n                    e.data.manager.fixMouseWheel();\r\n                }\r\n\r\n                e.data.manager.element.trigger('mouseWheel', {key: keyCode});\r\n            },\r\n\r\n            mouseWheelCancel: function (keysPressed, keyCode) {\r\n                keysPressed.splice(\r\n                    keysPressed.indexOf(InputManager.key[keyCode]), 1\r\n                );\r\n            },\r\n\r\n            onMouseMove: function (e) {\r\n                var manager = e.data.manager;\r\n                var mouse = e.data.manager.data.mouse;\r\n\r\n                manager.data.mouse.currentPosition.x = e.pageX;\r\n                manager.data.mouse.currentPosition.y = e.pageY;\r\n\r\n                if (e.data.manager.data.enableAdditionalData) {\r\n                    mouse.distance = Math.sqrt(\r\n                        Math.pow((mouse.currentPosition.x - mouse.startPosition.x), 2)\r\n                        + Math.pow((mouse.currentPosition.y - mouse.startPosition.y), 2)\r\n                    ).toFixed(1);\r\n                }\r\n            },\r\n\r\n            onKeyboardPress: function (e) {\r\n                var keysPressed = e.data.manager.data.keysPressed;\r\n                var keyCode = getKey(InputManager.key, e.which) || 'KEY_UNKNOWN_' + e.which;\r\n                if (e.data.event === 2 && true === e.data.manager.data.writeMode) {\r\n                    var char = String.fromCharCode(e.which || e.keyCode);\r\n                    e.preventDefault();\r\n                    e.data.manager.element.trigger('keyboardCharPress', {char: char});\r\n                } else {\r\n                    if (e.data.event === 0) {\r\n                        if (-1 === $.inArray(InputManager.key[keyCode], keysPressed)) {\r\n                            keysPressed.push(InputManager.key[keyCode]);\r\n                            if (e.data.manager.data.enableAdditionalData) {\r\n                                e.data.manager.data.timePressed = e.timeStamp;\r\n                            }\r\n                        }\r\n                        if (checkKeyMap(e, false) || e.data.manager.data.preventAll) {\r\n                            e.preventDefault();\r\n                        }\r\n                    } else {\r\n                        if (checkKeyMap(e) || e.data.manager.data.preventAll) {\r\n                            e.preventDefault();\r\n                        }\r\n\r\n                        keysPressed.splice(\r\n                            keysPressed.indexOf(InputManager.key[keyCode]), 1\r\n                        );\r\n                    }\r\n\r\n                    e.data.manager.element.trigger(e.data.event === 0 ?\r\n                            'keyboardKeyDown' : 'keyboardKeyUp', {key: keyCode}\r\n                    );\r\n                }\r\n            },\r\n\r\n            onTouchTap: function (e) {\r\n                var keysPressed = e.data.manager.data.keysPressed;\r\n                var keyCode = getKey(InputManager.key, e.which + 1) || 'KEY_UNKNOWN_' + e.which;\r\n                var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n                var mouse = e.data.manager.data.mouse;\r\n\r\n                if (e.data.event === 0) {\r\n                    if (-1 === $.inArray(InputManager.key[keyCode], keysPressed)) {\r\n                        keysPressed.push(InputManager.key[keyCode]);\r\n                        if (e.data.manager.data.enableAdditionalData) {\r\n                            mouse.startPosition.x = touch.pageX;\r\n                            mouse.startPosition.y = touch.pageY;\r\n                            mouse.distance = 0;\r\n\r\n                            e.data.manager.data.timePressed = e.timeStamp;\r\n                        }\r\n                    }\r\n                    if (checkKeyMap(e, false) || e.data.manager.data.preventAll) {\r\n                        e.preventDefault();\r\n                    }\r\n                } else {\r\n                    if (checkKeyMap(e) || e.data.manager.data.preventAll) {\r\n                        e.preventDefault();\r\n                    }\r\n\r\n                    if (e.data.manager.data.enableAdditionalData) {\r\n                        mouse.previousDistance = mouse.distance;\r\n                        mouse.startPosition.x = 0;\r\n                        mouse.startPosition.y = 0;\r\n                    }\r\n\r\n                    keysPressed.splice(\r\n                        keysPressed.indexOf(InputManager.key[keyCode]), 1\r\n                    );\r\n                }\r\n\r\n                e.data.manager.element.trigger(e.data.event === 0 ?\r\n                        'mouseKeyDown' : 'mouseKeyUp', {key: keyCode}\r\n                );\r\n            },\r\n\r\n            onTouchMove: function (e) {\r\n                var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\r\n                var mouse = e.data.manager.data.mouse;\r\n\r\n                mouse.currentPosition.x = touch.pageX.toFixed(0);\r\n                mouse.currentPosition.y = touch.pageY.toFixed(0);\r\n\r\n                if (e.data.manager.data.enableAdditionalData) {\r\n                    mouse.distance = Math.sqrt(\r\n                        Math.pow((mouse.currentPosition.x - mouse.startPosition.x), 2)\r\n                        + Math.pow((mouse.currentPosition.y - mouse.startPosition.y), 2)\r\n                    ).toFixed(1);\r\n                }\r\n            }\r\n        };\r\n\r\n        var bindEvents = function (manager) {\r\n            var selector = '[guid=' + manager.element.attr('guid') + ']';\r\n\r\n            $(document).on('contextmenu', selector, {manager: manager, event: 2}, events.onMouseClick);\r\n            $(document).on('mousedown', selector, {manager: manager, event: 0}, events.onMouseClick);\r\n            $(document).on('mouseup', selector, {manager: manager, event: 1}, events.onMouseClick);\r\n            $(document).on('mousewheel', selector, {manager: manager}, events.onMouseWheel);\r\n            $(document).on('mousemove', selector, {manager: manager}, events.onMouseMove);\r\n\r\n            $(document).on('keydown', null, {manager: manager, event: 0}, events.onKeyboardPress);\r\n            $(document).on('keyup', null, {manager: manager, event: 1}, events.onKeyboardPress);\r\n            $(document).on('keypress', null, {manager: manager, event: 2}, events.onKeyboardPress);\r\n\r\n            $(document).on('touchstart', selector, {manager: manager, event: 0}, events.onTouchTap);\r\n            $(document).on('touchend', selector, {manager: manager, event: 1}, events.onTouchTap);\r\n            $(document).on('touchmove ', selector, {manager: manager}, events.onTouchMove);\r\n        };\r\n\r\n        var unbindEvents = function (manager) {\r\n            var selector = '[guid=' + manager.element.attr('guid') + ']';\r\n\r\n            $(document).off('contextmenu', selector, {manager: manager, event: 1}, events.onMouseClick);\r\n            $(document).off('mousedown', selector, {manager: manager, event: 0}, events.onMouseClick);\r\n            $(document).off('mouseup', selector, {manager: manager, event: 1}, events.onMouseClick);\r\n            $(document).off('mousewheel', selector, {manager: manager}, events.onMouseWheel);\r\n            $(document).off('mousemove', selector, {manager: manager}, events.onMouseMove);\r\n\r\n            $(document).off('keydown', null, {manager: manager, event: 0}, events.onKeyboardPress);\r\n            $(document).off('keyup', null, {manager: manager, event: 1}, events.onKeyboardPress);\r\n            $(document).off('keypress', null, {manager: manager, event: 2}, events.onKeyboardPress);\r\n\r\n            $(document).off('touchstart', selector, {manager: manager, event: 0}, events.onTouchTap);\r\n            $(document).off('touchend', selector, {manager: manager, event: 1}, events.onTouchTap);\r\n            $(document).off('touchmove ', selector, {manager: manager}, events.onTouchMove);\r\n        };\r\n\r\n        InputManager.prototype.init = function () {\r\n            if (!this.data.enabled) {\r\n                bindEvents(this);\r\n\r\n                this.data.enabled = true;\r\n            }\r\n        };\r\n\r\n        InputManager.prototype.update = function () {\r\n            if (!this.data.enabled) return false;\r\n\r\n            var dX = this.j2d.scene.canvas.offsetWidth / this.j2d.scene.width,\r\n                dY = this.j2d.scene.canvas.offsetHeight / this.j2d.scene.height,\r\n                x = this.data.mouse.currentPosition.x / dX,\r\n                y = this.data.mouse.currentPosition.y / dY;\r\n\r\n            this.data.viewport.x = this.j2d.scene.viewport.x + x;\r\n            this.data.viewport.y = this.j2d.scene.viewport.y + y;\r\n        };\r\n\r\n\r\n        InputManager.prototype.clear = function () {\r\n        };\r\n\r\n        InputManager.prototype.fixMouseWheel = function () {\r\n            var keyPressed = this.data.keysPressed;\r\n            if (-1 !== $.inArray(InputManager.key.SCROLL_MOUSE_UP, keyPressed)) {\r\n                events.mouseWheelCancel(keyPressed, InputManager.key.SCROLL_MOUSE_UP);\r\n            } else if (-1 !== $.inArray(InputManager.key.SCROLL_MOUSE_DOWN, keyPressed)) {\r\n                events.mouseWheelCancel(keyPressed, InputManager.key.SCROLL_MOUSE_DOWN);\r\n            }\r\n        };\r\n\r\n        InputManager.prototype.enable = function () {\r\n            if (!this.data.enabled) {\r\n                bindEvents(this);\r\n                this.data.enabled = false;\r\n            }\r\n        };\r\n\r\n        InputManager.prototype.disable = function () {\r\n            if (this.data.enabled) {\r\n                unbindEvents(this);\r\n                this.data.enabled = false;\r\n            }\r\n        };\r\n\r\n        InputManager.prototype.load = function (newKeyMap) {\r\n            var oldKeyMap = JSON.stringify(this.keyMap);\r\n            this.keyMap = JSON.parse(newKeyMap);\r\n            return oldKeyMap;\r\n        };\r\n\r\n        InputManager.prototype.save = function () {\r\n            return JSON.stringify(this.keyMap);\r\n        };\r\n\r\n        /** +KeyMap Manager **/\r\n        InputManager.prototype.setKeys = function (mapObject) {\r\n            this.keyMap = $.extend(true, {}, this.keyMap, mapObject);\r\n        };\r\n        /** -KeyMap Manager **/\r\n\r\n        var getPressData = function (manager, keyList) {\r\n            if (!manager.data.enableAdditionalData) return true;\r\n            return {\r\n                keyList: keyList,\r\n                time: Date.now() - manager.data.timePressed\r\n            };\r\n        };\r\n\r\n        InputManager.prototype.getMouseMoveDistance = function () {\r\n            if (!this.data.enableAdditionalData) return 0;\r\n            return {current: this.data.mouse.distance, previous: this.data.mouse.previousDistance};\r\n        };\r\n\r\n        /** +Input Checkers **/\r\n        InputManager.prototype.checkPressedKeyList = function (keyList) {\r\n            if ($.isArray(keyList)) {\r\n                if (keyList.length !== this.data.keysPressed.length) {\r\n                    return false;\r\n                } else if (this.data.keysPressed.equals(keyList)) {\r\n                    this.fixMouseWheel();\r\n                    return getPressData(this, keyList);\r\n                }\r\n                this.fixMouseWheel();\r\n                return false;\r\n            }\r\n            //if (!this.data.keysPressed.equals([])) console.log(this.data.keysPressed);\r\n            if (isNaN(keyList)) return false;\r\n            if (-1 !== this.data.keysPressed.indexOf(keyList)) {\r\n                this.fixMouseWheel();\r\n                return getPressData(this, keyList);\r\n            }\r\n            this.fixMouseWheel();\r\n            return false;\r\n        };\r\n\r\n        InputManager.prototype.checkPressedKeyMap = function (key) {\r\n            if (this.keyMap[key] === undefined) return false;\r\n            var keyList = this.keyMap[key][0];\r\n\r\n            return this.checkPressedKeyList(keyList);\r\n        };\r\n\r\n        InputManager.prototype.getPosition = function () {\r\n            return this.j2d.vector.vec2df(this.data.viewport.x, this.data.viewport.y);\r\n        };\r\n\r\n        InputManager.prototype.onNode = function (id) {\r\n            if (!id.layer.visible) return false;\r\n            return (this.data.viewport.x > id.pos.x && this.data.viewport.x < id.pos.x + id.size.x) &&\r\n                (this.data.viewport.y > id.pos.y && this.data.viewport.y < id.pos.y + id.size.y);\r\n        };\r\n        /** +Input Checkers **/\r\n\r\n\r\n        /** +Cursor **/\r\n        InputManager.prototype.setCursorImage = function (image) {\r\n            this.data.cursor.image = 'url(\"' + image + '\"), auto';\r\n            $(this.element).css('cursor', this.data.cursor.image);\r\n        };\r\n\r\n        InputManager.prototype.toggleCursor = function (enable) {\r\n            if (enable !== undefined) {\r\n                this.data.cursor.enable = enable;\r\n            } else {\r\n                this.data.cursor.enable = !this.data.cursor.enable;\r\n            }\r\n\r\n            if (!this.data.cursor.enable) {\r\n                this.data.cursor.image = $(this.j2d.element).css('cursor');\r\n                $(this.element).css('cursor', 'none');\r\n            } else {\r\n                $(this.element).css('cursor', this.data.cursor.image);\r\n            }\r\n        };\r\n\r\n        InputManager.prototype.isCursorVisible = function () {\r\n            return this.data.cursor.enable;\r\n        };\r\n        /** -Cursor **/\r\n\r\n        /** static keys arrayList **/\r\n        InputManager.key = {\r\n            KEY_MOUSE_LEFT: 1,\r\n            KEY_MOUSE_MIDDLE: 2,\r\n            KEY_MOUSE_RIGHT: 3,\r\n\r\n            SCROLL_MOUSE_UP: 4,\r\n            SCROLL_MOUSE_DOWN: 5,\r\n\r\n            KEY_BACKSPACE: 8,\r\n            KEY_TAB: 9,\r\n            KEY_ENTER: 13,\r\n            KEY_SHIFT: 16,\r\n            KEY_CTRL: 17,\r\n            KEY_ALT: 18,\r\n            KEY_PAUSE: 19,\r\n            KEY_BREAK: 19,\r\n            KEY_CAPS_LOCK: 20,\r\n            KEY_ESCAPE: 27,\r\n            KEY_PAGE_UP: 33,\r\n            KEY_PAGE_DOWN: 34,\r\n            KEY_END: 35,\r\n            KEY_HOME: 36,\r\n            KEY_LEFT_ARROW: 37,\r\n            KEY_UP_ARROW: 38,\r\n            KEY_RIGHT_ARROW: 39,\r\n            KEY_DOWN_ARROW: 40,\r\n            KEY_INSERT: 45,\r\n            KEY_DELETE: 46,\r\n            KEY_0: 48,\r\n            KEY_1: 49,\r\n            KEY_2: 50,\r\n            KEY_3: 51,\r\n            KEY_4: 52,\r\n            KEY_5: 53,\r\n            KEY_6: 54,\r\n            KEY_7: 55,\r\n            KEY_8: 56,\r\n            KEY_9: 57,\r\n            KEY_A: 65,\r\n            KEY_B: 66,\r\n            KEY_C: 67,\r\n            KEY_D: 68,\r\n            KEY_E: 69,\r\n            KEY_F: 70,\r\n            KEY_G: 71,\r\n            KEY_H: 72,\r\n            KEY_I: 73,\r\n            KEY_J: 74,\r\n            KEY_K: 75,\r\n            KEY_L: 76,\r\n            KEY_M: 77,\r\n            KEY_N: 78,\r\n            KEY_O: 79,\r\n            KEY_P: 80,\r\n            KEY_Q: 81,\r\n            KEY_R: 82,\r\n            KEY_S: 83,\r\n            KEY_T: 84,\r\n            KEY_U: 85,\r\n            KEY_V: 86,\r\n            KEY_W: 87,\r\n            KEY_X: 88,\r\n            KEY_Y: 89,\r\n            KEY_Z: 90,\r\n            KEY_LEFT_WINDOW_KEY: 91,\r\n            KEY_RIGHT_WINDOW_KEY: 92,\r\n            KEY_SELECT_KEY: 93,\r\n            KEY_NUMPAD_0: 96,\r\n            KEY_NUMPAD_1: 97,\r\n            KEY_NUMPAD_2: 98,\r\n            KEY_NUMPAD_3: 99,\r\n            KEY_NUMPAD_4: 100,\r\n            KEY_NUMPAD_5: 101,\r\n            KEY_NUMPAD_6: 102,\r\n            KEY_NUMPAD_7: 103,\r\n            KEY_NUMPAD_8: 104,\r\n            KEY_NUMPAD_9: 105,\r\n            KEY_MULTIPLY: 106,\r\n            KEY_ADD: 107,\r\n            KEY_SUBTRACT: 109,\r\n            KEY_DECIMAL_POINT: 110,\r\n            KEY_DIVIDE: 111,\r\n            KEY_F1: 112,\r\n            KEY_F2: 113,\r\n            KEY_F3: 114,\r\n            KEY_F4: 115,\r\n            KEY_F5: 116,\r\n            KEY_F6: 117,\r\n            KEY_F7: 118,\r\n            KEY_F8: 119,\r\n            KEY_F9: 120,\r\n            KEY_F10: 121,\r\n            KEY_F11: 122,\r\n            KEY_F12: 123,\r\n            KEY_NUM_LOCK: 144,\r\n            KEY_SCROLL_LOCK: 145,\r\n            KEY_SEMI_COLON: 186,\r\n            KEY_EQUAL_SIGN: 187,\r\n            KEY_COMMA: 188,\r\n            KEY_DASH: 189,\r\n            KEY_PERIOD: 190,\r\n            KEY_FORWARD_SLASH: 191,\r\n            KEY_GRAVE_ACCENT: 192,\r\n            KEY_OPEN_BRACKET: 219,\r\n            KEY_BACK_SLASH: 220,\r\n            KEY_CLOSE_BRACKET: 221,\r\n            KEY_SINGLE_QUOTE: 222,\r\n            KEY_LEFT_COMMAND: 224,\r\n            KEY_RIGHT_COMMAND: 224\r\n        };\r\n\r\n        /** ^ES5+ **/\r\n        function getKey(object, value) {\r\n            return Object.keys(object).filter(function (key) {\r\n                return object[key] === value\r\n            })[0];\r\n        }\r\n\r\n        return InputManager;\r\n    }\r\n);\r\n"],"sourceRoot":"/source/"}