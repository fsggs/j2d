/**
 * J2D (jQuery plugin of the fork j2Ds)
 *
 * @authors Skaner, DeVinterX
 * @license BSD, zlib
 * @version 0.1.8-dev
 */

if (global === undefined) var global = window;
if (typeof define !== 'function' || define.amd) global.J2D = {};

!function(t,i){"function"==typeof define&&define.amd?define("j2d.layers",[],i):i()}(global,function(){"use strict";var t,i=function(i,e){this.parent=i,this.list={},t=e};return i.prototype.getLayer=function(t){return this.list[t]},i.prototype.add=function(i,e){if(this.list[i])return!1;var s={},n=this.parent;return s.layerName=i,s.canvas=document.createElement("canvas"),s.canvas.width=n.scene.width,s.canvas.height=n.scene.height,s.width=n.scene.width,s.height=n.scene.height,n.options.webGL?(t.enable(s.canvas),s.context=s.canvas.getContext("WebGL-2d")):s.context=s.canvas.getContext("2d"),n.options.smoothing?s.smoothing=!0:(s.smoothing=!1,s.disableSmoothing=n.util.disableSmoothing,n.util.disableSmoothing(s.context)),s.context.shadowColor="rgba(0,0,0,0)",s.canvas.style.zIndex=1e3+e,s.canvas.style.position="absolute",s.canvas.style.left="0",s.canvas.style.top="0",s.canvas.id=i,s.opacity=1,s.angle=0,s.visible=1,s.fillColor=!1,s.onContext=function(t){t(this.context)},s.fill=function(t){this.fillColor=t,this.context.fillStyle=t,this.context.fillRect(0,0,this.width,this.height)},s.setOpacity=function(t){this.canvas.style.opacity=t,this.opacity=t},s.getOpacity=function(){return this.opacity},s.setVisible=function(t){t?(this.canvas.style.display="block",this.visible=!0):(this.canvas.style.display="none",this.visible=!1)},s.isVisible=function(){return this.visible},s.setIndex=function(t){this.canvas.style.zIndex=1e3+t},s.clear=function(){this.context.clearRect(0,0,this.width,this.height)},s.clearNode=function(t){t.isLookScene()&&this.context.clearRect(t.pos.x-n.scene.viewport.x,t.pos.y-n.scene.viewport.y,t.size.x,t.size.y)},s.clearRect=function(t,i){this.context.clearRect(t.x-n.scene.viewport.x,t.y-n.scene.viewport.y,i.x,i.y)},s.resize=function(t,i){this.canvas.width=t,this.canvas.height=i,this.width=t,this.height=i,this.fillColor&&(this.context.save(),this.context.fillStyle=this.fillColor,this.context.fillRect(0,0,this.width,this.height),this.context.restore()),this.smoothing||this.disableSmoothing(this.context)},this.list[i]=s,n.options.ready&&n.element.append(this.list[i].canvas),s},void 0!==global.J2D&&(global.LayersManager=i),i});
//# sourceMappingURL=j2d.layers.min.map
