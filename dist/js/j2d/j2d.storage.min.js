!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){"use strict";(void 0===e.localStorage||void 0===e.sessionStorage)&&e.map(["localStorage","sessionStorage"],function(t){var o={cookiePrefix:"fallback:"+t+":",cookieOptions:{path:"/",domain:document.domain,expires:"localStorage"===t?{expires:365}:void 0}};try{e.support[t]=t in window&&null!==window[t]}catch(i){e.support[t]=!1}e[t]=function(i,n){var r=e.extend({},o,e[t].options);return this.getItem=function(o){var i=function(o){return JSON.parse(e.support[t]?window[t].getItem(o):e.cookie(r.cookiePrefix+o))};if("string"==typeof o)return i(o);for(var n=[],s=o.length;s--;)n[s]=i(o[s]);return n},this.setItem=function(o,i){return i=JSON.stringify(i),e.support[t]?window[t].setItem(o,i):e.cookie(r.cookiePrefix+o,i,r.cookieOptions)},this.removeItem=function(o){return e.support[t]?window[t].removeItem(o):e.cookie(r.cookiePrefix+o,null,e.extend(r.cookieOptions,{expires:-1}))},this.clear=function(){if(e.support[t])return window[t].clear();var o=new RegExp("^"+r.cookiePrefix,""),i=e.extend(r.cookieOptions,{expires:-1});document.cookie&&""!==document.cookie&&e.map(document.cookie.split(";"),function(t){o.test(t=e.trim(t))&&e.cookie(t.substr(0,t.indexOf("=")),null,i)})},"undefined"!=typeof i?"undefined"!=typeof n?null===n?this.removeItem(i):this.setItem(i,n):this.getItem(i):this},e[t].options=o});var t=function(e,t){this.storage="sessionStorage"===t?"sessionStorage":"localStorage",this.id=void 0!==e&&"string"==typeof e?e:"xxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,o="x"==e?t:3&t|8;return o.toString(16)})};return t.prototype.load=function(t){return e[this.storage](this.id+"_"+t)},t.prototype.exist=function(t){return!!e[this.storage](this.id+"_"+t)},t.prototype.save=function(t,o){e[this.storage](this.id+"_"+t,o)},t.prototype.loadNode=function(t,o){return o.loadJSON(e[this.storage](this.id+"_"+t))},t.prototype.saveNode=function(t,o){e[this.storage](this.id+"_"+t,o.saveJSON())},t});